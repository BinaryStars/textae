/*! textae 4.2.2 19-10-2015 */
!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){b.exports={"default":a("core-js/library/fn/array/from"),__esModule:!0}},{"core-js/library/fn/array/from":21}],2:[function(a,b,c){b.exports={"default":a("core-js/library/fn/get-iterator"),__esModule:!0}},{"core-js/library/fn/get-iterator":22}],3:[function(a,b,c){b.exports={"default":a("core-js/library/fn/is-iterable"),__esModule:!0}},{"core-js/library/fn/is-iterable":23}],4:[function(a,b,c){b.exports={"default":a("core-js/library/fn/map"),__esModule:!0}},{"core-js/library/fn/map":24}],5:[function(a,b,c){b.exports={"default":a("core-js/library/fn/object/assign"),__esModule:!0}},{"core-js/library/fn/object/assign":25}],6:[function(a,b,c){b.exports={"default":a("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":26}],7:[function(a,b,c){b.exports={"default":a("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":27}],8:[function(a,b,c){b.exports={"default":a("core-js/library/fn/object/get-own-property-descriptor"),__esModule:!0}},{"core-js/library/fn/object/get-own-property-descriptor":28}],9:[function(a,b,c){b.exports={"default":a("core-js/library/fn/object/keys"),__esModule:!0}},{"core-js/library/fn/object/keys":29}],10:[function(a,b,c){b.exports={"default":a("core-js/library/fn/object/set-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/set-prototype-of":30}],11:[function(a,b,c){b.exports={"default":a("core-js/library/fn/promise"),__esModule:!0}},{"core-js/library/fn/promise":31}],12:[function(a,b,c){b.exports={"default":a("core-js/library/fn/set"),__esModule:!0}},{"core-js/library/fn/set":32}],13:[function(a,b,c){"use strict";c["default"]=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},c.__esModule=!0},{}],14:[function(a,b,c){"use strict";var d=a("babel-runtime/core-js/object/define-property")["default"];c["default"]=function(){function a(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d(a,e.key,e)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),c.__esModule=!0},{"babel-runtime/core-js/object/define-property":7}],15:[function(a,b,c){"use strict";var d=a("babel-runtime/core-js/object/get-own-property-descriptor")["default"];c["default"]=function(a,b,c){for(var e=!0;e;){var f=a,g=b,h=c;i=k=j=void 0,e=!1,null===f&&(f=Function.prototype);var i=d(f,g);if(void 0!==i){if("value"in i)return i.value;var j=i.get;return void 0===j?void 0:j.call(h)}var k=Object.getPrototypeOf(f);if(null===k)return void 0;a=k,b=g,c=h,e=!0}},c.__esModule=!0},{"babel-runtime/core-js/object/get-own-property-descriptor":8}],16:[function(a,b,c){"use strict";var d=a("babel-runtime/core-js/object/create")["default"],e=a("babel-runtime/core-js/object/set-prototype-of")["default"];c["default"]=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=d(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(e?e(a,b):a.__proto__=b)},c.__esModule=!0},{"babel-runtime/core-js/object/create":6,"babel-runtime/core-js/object/set-prototype-of":10}],17:[function(a,b,c){"use strict";c["default"]=function(a){return a&&a.__esModule?a:{"default":a}},c.__esModule=!0},{}],18:[function(a,b,c){"use strict";c["default"]=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b},c.__esModule=!0},{}],19:[function(a,b,c){"use strict";var d=a("babel-runtime/core-js/get-iterator")["default"],e=a("babel-runtime/core-js/is-iterable")["default"];c["default"]=function(){function a(a,b){var c=[],e=!0,f=!1,g=void 0;try{for(var h,i=d(a);!(e=(h=i.next()).done)&&(c.push(h.value),!b||c.length!==b);e=!0);}catch(j){f=!0,g=j}finally{try{!e&&i["return"]&&i["return"]()}finally{if(f)throw g}}return c}return function(b,c){if(Array.isArray(b))return b;if(e(Object(b)))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c.__esModule=!0},{"babel-runtime/core-js/get-iterator":2,"babel-runtime/core-js/is-iterable":3}],20:[function(a,b,c){"use strict";var d=a("babel-runtime/core-js/array/from")["default"];c["default"]=function(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return d(a)},c.__esModule=!0},{"babel-runtime/core-js/array/from":1}],21:[function(a,b,c){a("../../modules/es6.string.iterator"),a("../../modules/es6.array.from"),b.exports=a("../../modules/$.core").Array.from},{"../../modules/$.core":41,"../../modules/es6.array.from":90,"../../modules/es6.string.iterator":100}],22:[function(a,b,c){a("../modules/web.dom.iterable"),a("../modules/es6.string.iterator"),b.exports=a("../modules/core.get-iterator")},{"../modules/core.get-iterator":88,"../modules/es6.string.iterator":100,"../modules/web.dom.iterable":103}],23:[function(a,b,c){a("../modules/web.dom.iterable"),a("../modules/es6.string.iterator"),b.exports=a("../modules/core.is-iterable")},{"../modules/core.is-iterable":89,"../modules/es6.string.iterator":100,"../modules/web.dom.iterable":103}],24:[function(a,b,c){a("../modules/es6.object.to-string"),a("../modules/es6.string.iterator"),a("../modules/web.dom.iterable"),a("../modules/es6.map"),a("../modules/es7.map.to-json"),b.exports=a("../modules/$.core").Map},{"../modules/$.core":41,"../modules/es6.map":92,"../modules/es6.object.to-string":97,"../modules/es6.string.iterator":100,"../modules/es7.map.to-json":101,"../modules/web.dom.iterable":103}],25:[function(a,b,c){a("../../modules/es6.object.assign"),b.exports=a("../../modules/$.core").Object.assign},{"../../modules/$.core":41,"../../modules/es6.object.assign":93}],26:[function(a,b,c){var d=a("../../modules/$");b.exports=function(a,b){return d.create(a,b)}},{"../../modules/$":64}],27:[function(a,b,c){var d=a("../../modules/$");b.exports=function(a,b,c){return d.setDesc(a,b,c)}},{"../../modules/$":64}],28:[function(a,b,c){var d=a("../../modules/$");a("../../modules/es6.object.get-own-property-descriptor"),b.exports=function(a,b){return d.getDesc(a,b)}},{"../../modules/$":64,"../../modules/es6.object.get-own-property-descriptor":94}],29:[function(a,b,c){a("../../modules/es6.object.keys"),b.exports=a("../../modules/$.core").Object.keys},{"../../modules/$.core":41,"../../modules/es6.object.keys":95}],30:[function(a,b,c){a("../../modules/es6.object.set-prototype-of"),b.exports=a("../../modules/$.core").Object.setPrototypeOf},{"../../modules/$.core":41,"../../modules/es6.object.set-prototype-of":96}],31:[function(a,b,c){a("../modules/es6.object.to-string"),a("../modules/es6.string.iterator"),a("../modules/web.dom.iterable"),a("../modules/es6.promise"),b.exports=a("../modules/$.core").Promise},{"../modules/$.core":41,"../modules/es6.object.to-string":97,"../modules/es6.promise":98,"../modules/es6.string.iterator":100,"../modules/web.dom.iterable":103}],32:[function(a,b,c){a("../modules/es6.object.to-string"),a("../modules/es6.string.iterator"),a("../modules/web.dom.iterable"),a("../modules/es6.set"),a("../modules/es7.set.to-json"),b.exports=a("../modules/$.core").Set},{"../modules/$.core":41,"../modules/es6.object.to-string":97,"../modules/es6.set":99,"../modules/es6.string.iterator":100,"../modules/es7.set.to-json":102,"../modules/web.dom.iterable":103}],33:[function(a,b,c){b.exports=function(a){if("function"!=typeof a)throw TypeError(a+" is not a function!");return a}},{}],34:[function(a,b,c){var d=a("./$.is-object");b.exports=function(a){if(!d(a))throw TypeError(a+" is not an object!");return a}},{"./$.is-object":56}],35:[function(a,b,c){var d=a("./$.to-object"),e=a("./$.iobject"),f=a("./$.enum-keys");b.exports=Object.assign||function(a,b){for(var c=d(a),g=arguments.length,h=1;g>h;)for(var i,j=e(arguments[h++]),k=f(j),l=k.length,m=0;l>m;)c[i=k[m++]]=j[i];return c}},{"./$.enum-keys":46,"./$.iobject":54,"./$.to-object":83}],36:[function(a,b,c){var d=a("./$.cof"),e=a("./$.wks")("toStringTag"),f="Arguments"==d(function(){return arguments}());b.exports=function(a){var b,c,g;return void 0===a?"Undefined":null===a?"Null":"string"==typeof(c=(b=Object(a))[e])?c:f?d(b):"Object"==(g=d(b))&&"function"==typeof b.callee?"Arguments":g}},{"./$.cof":37,"./$.wks":86}],37:[function(a,b,c){var d={}.toString;b.exports=function(a){return d.call(a).slice(8,-1)}},{}],38:[function(a,b,c){"use strict";var d=a("./$"),e=a("./$.hide"),f=a("./$.ctx"),g=a("./$.species"),h=a("./$.strict-new"),i=a("./$.defined"),j=a("./$.for-of"),k=a("./$.iter-step"),l=a("./$.uid")("id"),m=a("./$.has"),n=a("./$.is-object"),o=Object.isExtensible||n,p=a("./$.support-desc"),q=p?"_s":"size",r=0,s=function(a,b){if(!n(a))return"symbol"==typeof a?a:("string"==typeof a?"S":"P")+a;if(!m(a,l)){if(!o(a))return"F";if(!b)return"E";e(a,l,++r)}return"O"+a[l]},t=function(a,b){var c,d=s(b);if("F"!==d)return a._i[d];for(c=a._f;c;c=c.n)if(c.k==b)return c};b.exports={getConstructor:function(b,c,e,g){var k=b(function(a,b){h(a,k,c),a._i=d.create(null),a._f=void 0,a._l=void 0,a[q]=0,void 0!=b&&j(b,e,a[g],a)});return a("./$.mix")(k.prototype,{clear:function(){for(var a=this,b=a._i,c=a._f;c;c=c.n)c.r=!0,c.p&&(c.p=c.p.n=void 0),delete b[c.i];a._f=a._l=void 0,a[q]=0},"delete":function(a){var b=this,c=t(b,a);if(c){var d=c.n,e=c.p;delete b._i[c.i],c.r=!0,e&&(e.n=d),d&&(d.p=e),b._f==c&&(b._f=d),b._l==c&&(b._l=e),b[q]--}return!!c},forEach:function(a){for(var b,c=f(a,arguments[1],3);b=b?b.n:this._f;)for(c(b.v,b.k,this);b&&b.r;)b=b.p},has:function(a){return!!t(this,a)}}),p&&d.setDesc(k.prototype,"size",{get:function(){return i(this[q])}}),k},def:function(a,b,c){var d,e,f=t(a,b);return f?f.v=c:(a._l=f={i:e=s(b,!0),k:b,v:c,p:d=a._l,n:void 0,r:!1},a._f||(a._f=f),d&&(d.n=f),a[q]++,"F"!==e&&(a._i[e]=f)),a},getEntry:t,setStrong:function(b,c,d){a("./$.iter-define")(b,c,function(a,b){this._t=a,this._k=b,this._l=void 0},function(){for(var a=this,b=a._k,c=a._l;c&&c.r;)c=c.p;return a._t&&(a._l=c=c?c.n:a._t._f)?"keys"==b?k(0,c.k):"values"==b?k(0,c.v):k(0,[c.k,c.v]):(a._t=void 0,k(1))},d?"entries":"values",!d,!0),g(b),g(a("./$.core")[c])}}},{"./$":64,"./$.core":41,"./$.ctx":42,"./$.defined":44,"./$.for-of":48,"./$.has":50,"./$.hide":51,"./$.is-object":56,"./$.iter-define":60,"./$.iter-step":62,"./$.mix":67,"./$.species":74,"./$.strict-new":75,"./$.support-desc":77,"./$.uid":84}],39:[function(a,b,c){var d=a("./$.for-of"),e=a("./$.classof");b.exports=function(a){return function(){if(e(this)!=a)throw TypeError(a+"#toJSON isn't generic");var b=[];return d(this,!1,b.push,b),b}}},{"./$.classof":36,"./$.for-of":48}],40:[function(a,b,c){"use strict";var d=a("./$"),e=a("./$.def"),f=a("./$.hide"),g=a("./$.iter-buggy"),h=a("./$.for-of"),i=a("./$.strict-new");b.exports=function(b,c,j,k,l,m){var n=a("./$.global")[b],o=n,p=l?"set":"add",q=o&&o.prototype,r={};return a("./$.support-desc")&&"function"==typeof o&&(m||!g&&q.forEach&&q.entries)?(o=c(function(a,c){i(a,o,b),a._c=new n,void 0!=c&&h(c,l,a[p],a)}),d.each.call("add,clear,delete,forEach,get,has,set,keys,values,entries".split(","),function(a){var b="add"==a||"set"==a;a in q&&(!m||"clear"!=a)&&f(o.prototype,a,function(c,d){var e=this._c[a](0===c?0:c,d);return b?this:e})}),"size"in q&&d.setDesc(o.prototype,"size",{get:function(){return this._c.size}})):(o=k.getConstructor(c,b,l,p),a("./$.mix")(o.prototype,j)),a("./$.tag")(o,b),r[b]=o,e(e.G+e.W+e.F,r),m||k.setStrong(o,b,l),o}},{"./$":64,"./$.def":43,"./$.for-of":48,"./$.global":49,"./$.hide":51,"./$.iter-buggy":57,"./$.mix":67,"./$.strict-new":75,"./$.support-desc":77,"./$.tag":78}],41:[function(a,b,c){var d=b.exports={};"number"==typeof __e&&(__e=d)},{}],42:[function(a,b,c){var d=a("./$.a-function");b.exports=function(a,b,c){if(d(a),void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)}}return function(){return a.apply(b,arguments)}}},{"./$.a-function":33}],43:[function(a,b,c){var d=a("./$.global"),e=a("./$.core"),f="prototype",g=function(a,b){return function(){return a.apply(b,arguments)}},h=function(a,b,c){var i,j,k,l,m=a&h.G,n=a&h.P,o=m?d:a&h.S?d[b]:(d[b]||{})[f],p=m?e:e[b]||(e[b]={});m&&(c=b);for(i in c)j=!(a&h.F)&&o&&i in o,j&&i in p||(k=j?o[i]:c[i],m&&"function"!=typeof o[i]?l=c[i]:a&h.B&&j?l=g(k,d):a&h.W&&o[i]==k?!function(a){l=function(b){return this instanceof a?new a(b):a(b)},l[f]=a[f]}(k):l=n&&"function"==typeof k?g(Function.call,k):k,p[i]=l,n&&((p[f]||(p[f]={}))[i]=k))};h.F=1,h.G=2,h.S=4,h.P=8,h.B=16,h.W=32,b.exports=h},{"./$.core":41,"./$.global":49}],44:[function(a,b,c){b.exports=function(a){if(void 0==a)throw TypeError("Can't call method on  "+a);return a}},{}],45:[function(a,b,c){var d=a("./$.is-object"),e=a("./$.global").document,f=d(e)&&d(e.createElement);b.exports=function(a){return f?e.createElement(a):{}}},{"./$.global":49,"./$.is-object":56}],46:[function(a,b,c){var d=a("./$");b.exports=function(a){var b=d.getKeys(a),c=d.getSymbols;if(c)for(var e,f=c(a),g=d.isEnum,h=0;f.length>h;)g.call(a,e=f[h++])&&b.push(e);return b}},{"./$":64}],47:[function(a,b,c){b.exports=function(a){try{return!!a()}catch(b){return!0}}},{}],48:[function(a,b,c){var d=a("./$.ctx"),e=a("./$.iter-call"),f=a("./$.is-array-iter"),g=a("./$.an-object"),h=a("./$.to-length"),i=a("./core.get-iterator-method");b.exports=function(a,b,c,j){var k,l,m,n=i(a),o=d(c,j,b?2:1),p=0;if("function"!=typeof n)throw TypeError(a+" is not iterable!");if(f(n))for(k=h(a.length);k>p;p++)b?o(g(l=a[p])[0],l[1]):o(a[p]);else for(m=n.call(a);!(l=m.next()).done;)e(m,o,l.value,b)}},{"./$.an-object":34,"./$.ctx":42,"./$.is-array-iter":55,"./$.iter-call":58,"./$.to-length":82,"./core.get-iterator-method":87}],49:[function(a,b,c){var d="undefined",e=b.exports=typeof window!=d&&window.Math==Math?window:typeof self!=d&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},{}],50:[function(a,b,c){var d={}.hasOwnProperty;b.exports=function(a,b){return d.call(a,b)}},{}],51:[function(a,b,c){var d=a("./$"),e=a("./$.property-desc");b.exports=a("./$.support-desc")?function(a,b,c){return d.setDesc(a,b,e(1,c))}:function(a,b,c){return a[b]=c,a}},{"./$":64,"./$.property-desc":69,"./$.support-desc":77}],52:[function(a,b,c){b.exports=a("./$.global").document&&document.documentElement},{"./$.global":49}],53:[function(a,b,c){b.exports=function(a,b,c){var d=void 0===c;switch(b.length){case 0:return d?a():a.call(c);case 1:return d?a(b[0]):a.call(c,b[0]);case 2:return d?a(b[0],b[1]):a.call(c,b[0],b[1]);case 3:return d?a(b[0],b[1],b[2]):a.call(c,b[0],b[1],b[2]);case 4:return d?a(b[0],b[1],b[2],b[3]):a.call(c,b[0],b[1],b[2],b[3])}return a.apply(c,b)}},{}],54:[function(a,b,c){var d=a("./$.cof");b.exports=0 in Object("z")?Object:function(a){return"String"==d(a)?a.split(""):Object(a)}},{"./$.cof":37}],55:[function(a,b,c){var d=a("./$.iterators"),e=a("./$.wks")("iterator");b.exports=function(a){return(d.Array||Array.prototype[e])===a}},{"./$.iterators":63,"./$.wks":86}],56:[function(a,b,c){b.exports=function(a){return null!==a&&("object"==typeof a||"function"==typeof a)}},{}],57:[function(a,b,c){b.exports="keys"in[]&&!("next"in[].keys())},{}],58:[function(a,b,c){var d=a("./$.an-object");b.exports=function(a,b,c,e){try{return e?b(d(c)[0],c[1]):b(c)}catch(f){var g=a["return"];throw void 0!==g&&d(g.call(a)),f}}},{"./$.an-object":34}],59:[function(a,b,c){"use strict";var d=a("./$"),e={};a("./$.hide")(e,a("./$.wks")("iterator"),function(){return this}),b.exports=function(b,c,f){b.prototype=d.create(e,{next:a("./$.property-desc")(1,f)}),a("./$.tag")(b,c+" Iterator")}},{"./$":64,"./$.hide":51,"./$.property-desc":69,"./$.tag":78,"./$.wks":86}],60:[function(a,b,c){"use strict";var d=a("./$.library"),e=a("./$.def"),f=a("./$.redef"),g=a("./$.hide"),h=a("./$.has"),i=a("./$.wks")("iterator"),j=a("./$.iterators"),k="@@iterator",l="keys",m="values",n=function(){return this};b.exports=function(b,c,o,p,q,r,s){a("./$.iter-create")(o,c,p);var t,u,v=function(a){switch(a){case l:return function(){return new o(this,a)};case m:return function(){return new o(this,a)}}return function(){return new o(this,a)}},w=c+" Iterator",x=b.prototype,y=x[i]||x[k]||q&&x[q],z=y||v(q);if(y){var A=a("./$").getProto(z.call(new b));a("./$.tag")(A,w,!0),!d&&h(x,k)&&g(A,i,n)}if((!d||s)&&g(x,i,z),j[c]=z,j[w]=n,q)if(t={keys:r?z:v(l),values:q==m?z:v(m),entries:q!=m?z:v("entries")},s)for(u in t)u in x||f(x,u,t[u]);else e(e.P+e.F*a("./$.iter-buggy"),c,t)}},{"./$":64,"./$.def":43,"./$.has":50,"./$.hide":51,"./$.iter-buggy":57,"./$.iter-create":59,"./$.iterators":63,"./$.library":65,"./$.redef":70,"./$.tag":78,"./$.wks":86}],61:[function(a,b,c){var d=a("./$.wks")("iterator"),e=!1;try{var f=[7][d]();f["return"]=function(){e=!0},Array.from(f,function(){throw 2})}catch(g){}b.exports=function(a){if(!e)return!1;var b=!1;try{var c=[7],f=c[d]();f.next=function(){b=!0},c[d]=function(){return f},a(c)}catch(g){}return b}},{"./$.wks":86}],62:[function(a,b,c){b.exports=function(a,b){return{value:b,done:!!a}}},{}],63:[function(a,b,c){b.exports={}},{}],64:[function(a,b,c){var d=Object;b.exports={create:d.create,getProto:d.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:d.getOwnPropertyDescriptor,setDesc:d.defineProperty,setDescs:d.defineProperties,getKeys:d.keys,getNames:d.getOwnPropertyNames,getSymbols:d.getOwnPropertySymbols,each:[].forEach}},{}],65:[function(a,b,c){b.exports=!0},{}],66:[function(a,b,c){var d,e,f,g=a("./$.global"),h=a("./$.task").set,i=g.MutationObserver||g.WebKitMutationObserver,j=g.process,k="process"==a("./$.cof")(j),l=function(){var a,b;for(k&&(a=j.domain)&&(j.domain=null,a.exit());d;)b=d.domain,b&&b.enter(),d.fn.call(),b&&b.exit(),d=d.next;e=void 0,a&&a.enter()};if(k)f=function(){j.nextTick(l)};else if(i){var m=1,n=document.createTextNode("");new i(l).observe(n,{characterData:!0}),f=function(){n.data=m=-m}}else f=function(){h.call(g,l)};b.exports=function(a){var b={fn:a,next:void 0,domain:k&&j.domain};e&&(e.next=b),d||(d=b,f()),e=b}},{"./$.cof":37,"./$.global":49,"./$.task":79}],67:[function(a,b,c){var d=a("./$.redef");b.exports=function(a,b){for(var c in b)d(a,c,b[c]);return a}},{"./$.redef":70}],68:[function(a,b,c){b.exports=function(b,c){var d=a("./$.def"),e=(a("./$.core").Object||{})[b]||Object[b],f={};f[b]=c(e),d(d.S+d.F*a("./$.fails")(function(){e(1)}),"Object",f)}},{"./$.core":41,"./$.def":43,"./$.fails":47}],69:[function(a,b,c){b.exports=function(a,b){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:b}}},{}],70:[function(a,b,c){b.exports=a("./$.hide")},{"./$.hide":51}],71:[function(a,b,c){b.exports=Object.is||function(a,b){return a===b?0!==a||1/a===1/b:a!=a&&b!=b}},{}],72:[function(a,b,c){var d=a("./$").getDesc,e=a("./$.is-object"),f=a("./$.an-object"),g=function(a,b){if(f(a),!e(b)&&null!==b)throw TypeError(b+": can't set as prototype!")};b.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(b,c){try{c=a("./$.ctx")(Function.call,d(Object.prototype,"__proto__").set,2),c({},[])}catch(e){b=!0}return function(a,d){return g(a,d),b?a.__proto__=d:c(a,d),a}}():void 0),check:g}},{"./$":64,"./$.an-object":34,"./$.ctx":42,"./$.is-object":56}],73:[function(a,b,c){var d=a("./$.global"),e="__core-js_shared__",f=d[e]||(d[e]={});b.exports=function(a){return f[a]||(f[a]={})}},{"./$.global":49}],74:[function(a,b,c){"use strict";var d=a("./$"),e=a("./$.wks")("species");b.exports=function(b){!a("./$.support-desc")||e in b||d.setDesc(b,e,{configurable:!0,get:function(){return this}})}},{"./$":64,"./$.support-desc":77,"./$.wks":86}],75:[function(a,b,c){b.exports=function(a,b,c){if(!(a instanceof b))throw TypeError(c+": use the 'new' operator!");return a}},{}],76:[function(a,b,c){var d=a("./$.to-integer"),e=a("./$.defined");b.exports=function(a){return function(b,c){var f,g,h=String(e(b)),i=d(c),j=h.length;return 0>i||i>=j?a?"":void 0:(f=h.charCodeAt(i),55296>f||f>56319||i+1===j||(g=h.charCodeAt(i+1))<56320||g>57343?a?h.charAt(i):f:a?h.slice(i,i+2):(f-55296<<10)+(g-56320)+65536)}}},{"./$.defined":44,"./$.to-integer":80}],77:[function(a,b,c){b.exports=!a("./$.fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./$.fails":47}],78:[function(a,b,c){var d=a("./$.has"),e=a("./$.hide"),f=a("./$.wks")("toStringTag");b.exports=function(a,b,c){a&&!d(a=c?a:a.prototype,f)&&e(a,f,b)}},{"./$.has":50,"./$.hide":51,"./$.wks":86}],79:[function(a,b,c){"use strict";var d,e,f,g=a("./$.ctx"),h=a("./$.invoke"),i=a("./$.html"),j=a("./$.dom-create"),k=a("./$.global"),l=k.process,m=k.setImmediate,n=k.clearImmediate,o=k.MessageChannel,p=0,q={},r="onreadystatechange",s=function(){var a=+this;if(q.hasOwnProperty(a)){var b=q[a];delete q[a],b()}},t=function(a){s.call(a.data)};m&&n||(m=function(a){for(var b=[],c=1;arguments.length>c;)b.push(arguments[c++]);return q[++p]=function(){h("function"==typeof a?a:Function(a),b)},d(p),p},n=function(a){delete q[a]},"process"==a("./$.cof")(l)?d=function(a){l.nextTick(g(s,a,1))}:o?(e=new o,f=e.port2,e.port1.onmessage=t,d=g(f.postMessage,f,1)):k.addEventListener&&"function"==typeof postMessage&&!k.importScript?(d=function(a){k.postMessage(a+"","*")},k.addEventListener("message",t,!1)):d=r in j("script")?function(a){i.appendChild(j("script"))[r]=function(){i.removeChild(this),s.call(a)}}:function(a){setTimeout(g(s,a,1),0)}),b.exports={set:m,clear:n}},{"./$.cof":37,"./$.ctx":42,"./$.dom-create":45,"./$.global":49,"./$.html":52,"./$.invoke":53}],80:[function(a,b,c){var d=Math.ceil,e=Math.floor;b.exports=function(a){return isNaN(a=+a)?0:(a>0?e:d)(a)}},{}],81:[function(a,b,c){var d=a("./$.iobject"),e=a("./$.defined");b.exports=function(a){return d(e(a))}},{"./$.defined":44,"./$.iobject":54}],82:[function(a,b,c){var d=a("./$.to-integer"),e=Math.min;b.exports=function(a){return a>0?e(d(a),9007199254740991):0}},{"./$.to-integer":80}],83:[function(a,b,c){var d=a("./$.defined");b.exports=function(a){return Object(d(a))}},{"./$.defined":44}],84:[function(a,b,c){var d=0,e=Math.random();b.exports=function(a){return"Symbol(".concat(void 0===a?"":a,")_",(++d+e).toString(36))}},{}],85:[function(a,b,c){b.exports=function(){}},{}],86:[function(a,b,c){var d=a("./$.shared")("wks"),e=a("./$.global").Symbol;b.exports=function(b){return d[b]||(d[b]=e&&e[b]||(e||a("./$.uid"))("Symbol."+b))}},{"./$.global":49,"./$.shared":73,"./$.uid":84}],87:[function(a,b,c){var d=a("./$.classof"),e=a("./$.wks")("iterator"),f=a("./$.iterators");b.exports=a("./$.core").getIteratorMethod=function(a){return void 0!=a?a[e]||a["@@iterator"]||f[d(a)]:void 0}},{"./$.classof":36,"./$.core":41,"./$.iterators":63,"./$.wks":86}],88:[function(a,b,c){var d=a("./$.an-object"),e=a("./core.get-iterator-method");b.exports=a("./$.core").getIterator=function(a){var b=e(a);if("function"!=typeof b)throw TypeError(a+" is not iterable!");return d(b.call(a))}},{"./$.an-object":34,"./$.core":41,"./core.get-iterator-method":87}],89:[function(a,b,c){var d=a("./$.classof"),e=a("./$.wks")("iterator"),f=a("./$.iterators");b.exports=a("./$.core").isIterable=function(a){var b=Object(a);return e in b||"@@iterator"in b||f.hasOwnProperty(d(b))}},{"./$.classof":36,"./$.core":41,"./$.iterators":63,"./$.wks":86}],90:[function(a,b,c){"use strict";var d=a("./$.ctx"),e=a("./$.def"),f=a("./$.to-object"),g=a("./$.iter-call"),h=a("./$.is-array-iter"),i=a("./$.to-length"),j=a("./core.get-iterator-method");e(e.S+e.F*!a("./$.iter-detect")(function(a){Array.from(a)}),"Array",{from:function(a){var b,c,e,k,l=f(a),m="function"==typeof this?this:Array,n=arguments[1],o=void 0!==n,p=0,q=j(l);if(o&&(n=d(n,arguments[2],2)),void 0==q||m==Array&&h(q))for(c=new m(b=i(l.length));b>p;p++)c[p]=o?n(l[p],p):l[p];else for(k=q.call(l),c=new m;!(e=k.next()).done;p++)c[p]=o?g(k,n,[e.value,p],!0):e.value;return c.length=p,c}})},{"./$.ctx":42,"./$.def":43,"./$.is-array-iter":55,"./$.iter-call":58,"./$.iter-detect":61,"./$.to-length":82,"./$.to-object":83,"./core.get-iterator-method":87}],91:[function(a,b,c){"use strict";var d=a("./$.unscope"),e=a("./$.iter-step"),f=a("./$.iterators"),g=a("./$.to-iobject");a("./$.iter-define")(Array,"Array",function(a,b){this._t=g(a),this._i=0,this._k=b},function(){var a=this._t,b=this._k,c=this._i++;return!a||c>=a.length?(this._t=void 0,e(1)):"keys"==b?e(0,c):"values"==b?e(0,a[c]):e(0,[c,a[c]])},"values"),f.Arguments=f.Array,d("keys"),d("values"),d("entries")},{"./$.iter-define":60,"./$.iter-step":62,"./$.iterators":63,"./$.to-iobject":81,"./$.unscope":85}],92:[function(a,b,c){"use strict";var d=a("./$.collection-strong");a("./$.collection")("Map",function(a){return function(){return a(this,arguments[0])}},{get:function(a){var b=d.getEntry(this,a);return b&&b.v},set:function(a,b){return d.def(this,0===a?0:a,b)}},d,!0)},{"./$.collection":40,"./$.collection-strong":38}],93:[function(a,b,c){var d=a("./$.def");d(d.S,"Object",{assign:a("./$.assign")})},{"./$.assign":35,"./$.def":43}],94:[function(a,b,c){var d=a("./$.to-iobject");a("./$.object-sap")("getOwnPropertyDescriptor",function(a){return function(b,c){return a(d(b),c)}})},{"./$.object-sap":68,"./$.to-iobject":81}],95:[function(a,b,c){var d=a("./$.to-object");a("./$.object-sap")("keys",function(a){return function(b){return a(d(b))}})},{"./$.object-sap":68,"./$.to-object":83}],96:[function(a,b,c){var d=a("./$.def");d(d.S,"Object",{setPrototypeOf:a("./$.set-proto").set})},{"./$.def":43,"./$.set-proto":72}],97:[function(a,b,c){},{}],98:[function(a,b,c){"use strict";var d,e=a("./$"),f=a("./$.library"),g=a("./$.global"),h=a("./$.ctx"),i=a("./$.classof"),j=a("./$.def"),k=a("./$.is-object"),l=a("./$.an-object"),m=a("./$.a-function"),n=a("./$.strict-new"),o=a("./$.for-of"),p=a("./$.set-proto").set,q=a("./$.same"),r=a("./$.species"),s=a("./$.wks")("species"),t=a("./$.uid")("record"),u=a("./$.microtask"),v="Promise",w=g.process,x="process"==i(w),y=g[v],z=function(a){var b=new y(function(){});return a&&(b.constructor=Object),y.resolve(b)===b},A=function(){function b(a){var c=new y(a);return p(c,b.prototype),c}var c=!1;try{if(c=y&&y.resolve&&z(),p(b,y),b.prototype=e.create(y.prototype,{constructor:{value:b}}),b.resolve(5).then(function(){})instanceof b||(c=!1),c&&a("./$.support-desc")){var d=!1;y.resolve(e.setDesc({},"then",{get:function(){d=!0}})),c=d}}catch(f){c=!1}return c}(),B=function(a){return k(a)&&(A?"Promise"==i(a):t in a)},C=function(a,b){return f&&a===y&&b===d?!0:q(a,b)},D=function(a){var b=l(a)[s];return void 0!=b?b:a},E=function(a){var b;return k(a)&&"function"==typeof(b=a.then)?b:!1},F=function(a,b){if(!a.n){a.n=!0;var c=a.c;u(function(){for(var d=a.v,e=1==a.s,f=0,h=function(b){var c,f,g=e?b.ok:b.fail;try{g?(e||(a.h=!0),c=g===!0?d:g(d),c===b.P?b.rej(TypeError("Promise-chain cycle")):(f=E(c))?f.call(c,b.res,b.rej):b.res(c)):b.rej(d)}catch(h){b.rej(h)}};c.length>f;)h(c[f++]);c.length=0,a.n=!1,b&&setTimeout(function(){u(function(){G(a.p)&&(x?w.emit("unhandledRejection",d,a.p):g.console&&console.error&&console.error("Unhandled promise rejection",d)),a.a=void 0})},1)})}},G=function(a){var b,c=a[t],d=c.a||c.c,e=0;if(c.h)return!1;for(;d.length>e;)if(b=d[e++],b.fail||!G(b.P))return!1;return!0},H=function(a){var b=this;b.d||(b.d=!0,b=b.r||b,b.v=a,b.s=2,b.a=b.c.slice(),F(b,!0))},I=function(a){var b,c=this;if(!c.d){c.d=!0,c=c.r||c;try{(b=E(a))?u(function(){var d={r:c,d:!1};try{b.call(a,h(I,d,1),h(H,d,1))}catch(e){H.call(d,e)}}):(c.v=a,c.s=1,F(c,!1))}catch(d){H.call({r:c,d:!1},d)}}};A||(y=function(a){m(a);var b={p:n(this,y,v),c:[],a:void 0,s:0,d:!1,v:void 0,h:!1,n:!1};this[t]=b;try{a(h(I,b,1),h(H,b,1))}catch(c){H.call(b,c)}},a("./$.mix")(y.prototype,{then:function(a,b){var c=l(l(this).constructor)[s],d={ok:"function"==typeof a?a:!0,fail:"function"==typeof b?b:!1},e=d.P=new(void 0!=c?c:y)(function(a,b){d.res=m(a),d.rej=m(b)}),f=this[t];return f.c.push(d),f.a&&f.a.push(d),f.s&&F(f,!1),e},"catch":function(a){return this.then(void 0,a)}})),j(j.G+j.W+j.F*!A,{Promise:y}),a("./$.tag")(y,v),r(y),r(d=a("./$.core")[v]),j(j.S+j.F*!A,v,{reject:function(a){return new this(function(b,c){c(a)})}}),j(j.S+j.F*(!A||z(!0)),v,{resolve:function(a){return B(a)&&C(a.constructor,this)?a:new this(function(b){b(a)})}}),j(j.S+j.F*!(A&&a("./$.iter-detect")(function(a){y.all(a)["catch"](function(){})})),v,{all:function(a){var b=D(this),c=[];return new b(function(d,f){o(a,!1,c.push,c);var g=c.length,h=Array(g);g?e.each.call(c,function(a,c){b.resolve(a).then(function(a){h[c]=a,--g||d(h)},f)}):d(h)})},race:function(a){var b=D(this);return new b(function(c,d){o(a,!1,function(a){b.resolve(a).then(c,d)})})}})},{"./$":64,"./$.a-function":33,"./$.an-object":34,"./$.classof":36,"./$.core":41,"./$.ctx":42,"./$.def":43,"./$.for-of":48,"./$.global":49,"./$.is-object":56,"./$.iter-detect":61,"./$.library":65,"./$.microtask":66,"./$.mix":67,"./$.same":71,"./$.set-proto":72,"./$.species":74,"./$.strict-new":75,"./$.support-desc":77,"./$.tag":78,"./$.uid":84,"./$.wks":86}],99:[function(a,b,c){"use strict";var d=a("./$.collection-strong");a("./$.collection")("Set",function(a){return function(){return a(this,arguments[0])}},{add:function(a){return d.def(this,a=0===a?0:a,a)}},d)},{"./$.collection":40,"./$.collection-strong":38}],100:[function(a,b,c){"use strict";var d=a("./$.string-at")(!0);a("./$.iter-define")(String,"String",function(a){this._t=String(a),this._i=0},function(){var a,b=this._t,c=this._i;return c>=b.length?{value:void 0,done:!0}:(a=d(b,c),this._i+=a.length,{value:a,done:!1})})},{"./$.iter-define":60,"./$.string-at":76}],101:[function(a,b,c){var d=a("./$.def");d(d.P,"Map",{toJSON:a("./$.collection-to-json")("Map")})},{"./$.collection-to-json":39,"./$.def":43}],102:[function(a,b,c){var d=a("./$.def");d(d.P,"Set",{toJSON:a("./$.collection-to-json")("Set")})},{"./$.collection-to-json":39,"./$.def":43}],103:[function(a,b,c){a("./es6.array.iterator");var d=a("./$.iterators");d.NodeList=d.HTMLCollection=d.Array},{"./$.iterators":63,"./es6.array.iterator":91}],104:[function(a,b,c){(function(a,d){!function(a){if("object"==typeof c&&"undefined"!=typeof b)b.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof d?e=d:"undefined"!=typeof self&&(e=self),e.Promise=a()}}(function(){var b,c,e;return function f(a,b,c){function d(g,h){if(!b[g]){if(!a[g]){var i="function"==typeof _dereq_&&_dereq_;if(!h&&i)return i(g,!0);if(e)return e(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=b[g]={exports:{}};a[g][0].call(k.exports,function(b){var c=a[g][1][b];return d(c?c:b)},k,k.exports,f,a,b,c)}return b[g].exports}for(var e="function"==typeof _dereq_&&_dereq_,g=0;g<c.length;g++)d(c[g]);return d}({1:[function(a,b,c){"use strict";b.exports=function(a){function b(a){var b=new c(a),d=b.promise();return b.setHowMany(1),b.setUnwrap(),b.init(),d}var c=a._SomePromiseArray;a.any=function(a){return b(a)},a.prototype.any=function(){return b(this)}}},{}],2:[function(a,b,c){"use strict";function d(){this._isTickUsed=!1,this._lateQueue=new k(16),this._normalQueue=new k(16),this._trampolineEnabled=!0;var a=this;this.drainQueues=function(){a._drainQueues()},this._schedule=j.isStatic?j(this.drainQueues):j}function e(a,b,c){this._lateQueue.push(a,b,c),this._queueTick()}function f(a,b,c){this._normalQueue.push(a,b,c),this._queueTick()}function g(a){this._normalQueue._pushOne(a),this._queueTick()}var h;try{throw new Error}catch(i){h=i}var j=a("./schedule.js"),k=a("./queue.js"),l=a("./util.js");d.prototype.disableTrampolineIfNecessary=function(){l.hasDevTools&&(this._trampolineEnabled=!1)},d.prototype.enableTrampoline=function(){
this._trampolineEnabled||(this._trampolineEnabled=!0,this._schedule=function(a){setTimeout(a,0)})},d.prototype.haveItemsQueued=function(){return this._normalQueue.length()>0},d.prototype.throwLater=function(a,b){if(1===arguments.length&&(b=a,a=function(){throw b}),"undefined"!=typeof setTimeout)setTimeout(function(){a(b)},0);else try{this._schedule(function(){a(b)})}catch(c){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")}},l.hasDevTools?(j.isStatic&&(j=function(a){setTimeout(a,0)}),d.prototype.invokeLater=function(a,b,c){this._trampolineEnabled?e.call(this,a,b,c):this._schedule(function(){setTimeout(function(){a.call(b,c)},100)})},d.prototype.invoke=function(a,b,c){this._trampolineEnabled?f.call(this,a,b,c):this._schedule(function(){a.call(b,c)})},d.prototype.settlePromises=function(a){this._trampolineEnabled?g.call(this,a):this._schedule(function(){a._settlePromises()})}):(d.prototype.invokeLater=e,d.prototype.invoke=f,d.prototype.settlePromises=g),d.prototype.invokeFirst=function(a,b,c){this._normalQueue.unshift(a,b,c),this._queueTick()},d.prototype._drainQueue=function(a){for(;a.length()>0;){var b=a.shift();if("function"==typeof b){var c=a.shift(),d=a.shift();b.call(c,d)}else b._settlePromises()}},d.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._drainQueue(this._lateQueue)},d.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},d.prototype._reset=function(){this._isTickUsed=!1},b.exports=new d,b.exports.firstLineError=h},{"./queue.js":28,"./schedule.js":31,"./util.js":38}],3:[function(a,b,c){"use strict";b.exports=function(a,b,c){var d=function(a,b){this._reject(b)},e=function(a,b){b.promiseRejectionQueued=!0,b.bindingPromise._then(d,d,null,this,a)},f=function(a,b){this._isPending()&&this._resolveCallback(b.target)},g=function(a,b){b.promiseRejectionQueued||this._reject(a)};a.prototype.bind=function(d){var h=c(d),i=new a(b);i._propagateFrom(this,1);var j=this._target();if(i._setBoundTo(h),h instanceof a){var k={promiseRejectionQueued:!1,promise:i,target:j,bindingPromise:h};j._then(b,e,i._progress,i,k),h._then(f,g,i._progress,i,k)}else i._resolveCallback(j);return i},a.prototype._setBoundTo=function(a){void 0!==a?(this._bitField=131072|this._bitField,this._boundTo=a):this._bitField=-131073&this._bitField},a.prototype._isBound=function(){return 131072===(131072&this._bitField)},a.bind=function(d,e){var f=c(d),g=new a(b);return g._setBoundTo(f),f instanceof a?f._then(function(){g._resolveCallback(e)},g._reject,g._progress,g,null):g._resolveCallback(e),g}}},{}],4:[function(a,b,c){"use strict";function d(){try{Promise===f&&(Promise=e)}catch(a){}return f}var e;"undefined"!=typeof Promise&&(e=Promise);var f=a("./promise.js")();f.noConflict=d,b.exports=f},{"./promise.js":23}],5:[function(a,b,c){"use strict";var d=Object.create;if(d){var e=d(null),f=d(null);e[" size"]=f[" size"]=0}b.exports=function(b){function c(a,c){var d;if(null!=a&&(d=a[c]),"function"!=typeof d){var e="Object "+h.classString(a)+" has no method '"+h.toString(c)+"'";throw new b.TypeError(e)}return d}function d(a){var b=this.pop(),d=c(a,b);return d.apply(a,this)}function e(a){return a[this]}function f(a){var b=+this;return 0>b&&(b=Math.max(0,b+a.length)),a[b]}var g,h=a("./util.js"),i=h.canEvaluate;h.isIdentifier;b.prototype.call=function(a){for(var b=arguments.length,c=new Array(b-1),e=1;b>e;++e)c[e-1]=arguments[e];return c.push(a),this._then(d,void 0,void 0,c,void 0)},b.prototype.get=function(a){var b,c="number"==typeof a;if(c)b=f;else if(i){var d=g(a);b=null!==d?d:e}else b=e;return this._then(b,void 0,void 0,a,void 0)}}},{"./util.js":38}],6:[function(a,b,c){"use strict";b.exports=function(b){var c=a("./errors.js"),d=a("./async.js"),e=c.CancellationError;b.prototype._cancel=function(a){if(!this.isCancellable())return this;for(var b,c=this;void 0!==(b=c._cancellationParent)&&b.isCancellable();)c=b;this._unsetCancellable(),c._target()._rejectCallback(a,!1,!0)},b.prototype.cancel=function(a){return this.isCancellable()?(void 0===a&&(a=new e),d.invokeLater(this._cancel,this,a),this):this},b.prototype.cancellable=function(){return this._cancellable()?this:(d.enableTrampoline(),this._setCancellable(),this._cancellationParent=void 0,this)},b.prototype.uncancellable=function(){var a=this.then();return a._unsetCancellable(),a},b.prototype.fork=function(a,b,c){var d=this._then(a,b,c,void 0,void 0);return d._setCancellable(),d._cancellationParent=void 0,d}}},{"./async.js":2,"./errors.js":13}],7:[function(b,c,d){"use strict";c.exports=function(){function c(a){this._parent=a;var b=this._length=1+(void 0===a?0:a._length);v(this,c),b>32&&this.uncycle()}function d(a,b){for(var c=0;c<b.length-1;++c)b[c].push("From previous event:"),b[c]=b[c].join("\n");return c<b.length&&(b[c]=b[c].join("\n")),a+"\n"+b.join("\n")}function e(a){for(var b=0;b<a.length;++b)(0===a[b].length||b+1<a.length&&a[b][0]===a[b+1][0])&&(a.splice(b,1),b--)}function f(a){for(var b=a[0],c=1;c<a.length;++c){for(var d=a[c],e=b.length-1,f=b[e],g=-1,h=d.length-1;h>=0;--h)if(d[h]===f){g=h;break}for(var h=g;h>=0;--h){var i=d[h];if(b[e]!==i)break;b.pop(),e--}b=d}}function g(a){for(var b=[],c=0;c<a.length;++c){var d=a[c],e=p.test(d)||"    (No stack trace)"===d,f=e&&s(d);e&&!f&&(r&&" "!==d.charAt(0)&&(d="    "+d),b.push(d))}return b}function h(a){for(var b=a.stack.replace(/\s+$/g,"").split("\n"),c=0;c<b.length;++c){var d=b[c];if("    (No stack trace)"===d||p.test(d))break}return c>0&&(b=b.slice(c)),b}function i(a){var b;if("function"==typeof a)b="[function "+(a.name||"anonymous")+"]";else{b=a.toString();var c=/\[object [a-zA-Z0-9$_]+\]/;if(c.test(b))try{var d=JSON.stringify(a);b=d}catch(e){}0===b.length&&(b="(empty array)")}return"(<"+j(b)+">, no stack trace)"}function j(a){var b=41;return a.length<b?a:a.substr(0,b-3)+"..."}function k(a){var b=a.match(t);return b?{fileName:b[1],line:parseInt(b[2],10)}:void 0}var l,m=b("./async.js"),n=b("./util.js"),o=/[\\\/]bluebird[\\\/]js[\\\/](main|debug|zalgo|instrumented)/,p=null,q=null,r=!1;n.inherits(c,Error),c.prototype.uncycle=function(){var a=this._length;if(!(2>a)){for(var b=[],c={},d=0,e=this;void 0!==e;++d)b.push(e),e=e._parent;a=this._length=d;for(var d=a-1;d>=0;--d){var f=b[d].stack;void 0===c[f]&&(c[f]=d)}for(var d=0;a>d;++d){var g=b[d].stack,h=c[g];if(void 0!==h&&h!==d){h>0&&(b[h-1]._parent=void 0,b[h-1]._length=1),b[d]._parent=void 0,b[d]._length=1;var i=d>0?b[d-1]:this;a-1>h?(i._parent=b[h+1],i._parent.uncycle(),i._length=i._parent._length+1):(i._parent=void 0,i._length=1);for(var j=i._length+1,k=d-2;k>=0;--k)b[k]._length=j,j++;return}}}},c.prototype.parent=function(){return this._parent},c.prototype.hasParent=function(){return void 0!==this._parent},c.prototype.attachExtraTrace=function(a){if(!a.__stackCleaned__){this.uncycle();for(var b=c.parseStackAndMessage(a),h=b.message,i=[b.stack],j=this;void 0!==j;)i.push(g(j.stack.split("\n"))),j=j._parent;f(i),e(i),n.notEnumerableProp(a,"stack",d(h,i)),n.notEnumerableProp(a,"__stackCleaned__",!0)}},c.parseStackAndMessage=function(a){var b=a.stack,c=a.toString();return b="string"==typeof b&&b.length>0?h(a):["    (No stack trace)"],{message:c,stack:g(b)}},c.formatAndLogError=function(a,b){if("undefined"!=typeof console){var c;if("object"==typeof a||"function"==typeof a){var d=a.stack;c=b+q(d,a)}else c=b+String(a);"function"==typeof l?l(c):("function"==typeof console.log||"object"==typeof console.log)&&console.log(c)}},c.unhandledRejection=function(a){c.formatAndLogError(a,"^--- With additional stack trace: ")},c.isSupported=function(){return"function"==typeof v},c.fireRejectionEvent=function(a,b,d,e){var f=!1;try{"function"==typeof b&&(f=!0,"rejectionHandled"===a?b(e):b(d,e))}catch(g){m.throwLater(g)}var h=!1;try{h=w(a,d,e)}catch(g){h=!0,m.throwLater(g)}var i=!1;if(u)try{i=u(a.toLowerCase(),{reason:d,promise:e})}catch(g){i=!0,m.throwLater(g)}h||f||i||"unhandledRejection"!==a||c.formatAndLogError(d,"Unhandled rejection ")};var s=function(){return!1},t=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;c.setBounds=function(a,b){if(c.isSupported()){for(var d,e,f=a.stack.split("\n"),g=b.stack.split("\n"),h=-1,i=-1,j=0;j<f.length;++j){var l=k(f[j]);if(l){d=l.fileName,h=l.line;break}}for(var j=0;j<g.length;++j){var l=k(g[j]);if(l){e=l.fileName,i=l.line;break}}0>h||0>i||!d||!e||d!==e||h>=i||(s=function(a){if(o.test(a))return!0;var b=k(a);return b&&b.fileName===d&&h<=b.line&&b.line<=i?!0:!1})}};var u,v=function(){var a=/^\s*at\s*/,b=function(a,b){return"string"==typeof a?a:void 0!==b.name&&void 0!==b.message?b.toString():i(b)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit=Error.stackTraceLimit+6,p=a,q=b;var c=Error.captureStackTrace;return s=function(a){return o.test(a)},function(a,b){Error.stackTraceLimit=Error.stackTraceLimit+6,c(a,b),Error.stackTraceLimit=Error.stackTraceLimit-6}}var d=new Error;if("string"==typeof d.stack&&d.stack.split("\n")[0].indexOf("stackDetection@")>=0)return p=/@/,q=b,r=!0,function(a){a.stack=(new Error).stack};var e;try{throw new Error}catch(f){e="stack"in f}return"stack"in d||!e||"number"!=typeof Error.stackTraceLimit?(q=function(a,b){return"string"==typeof a?a:"object"!=typeof b&&"function"!=typeof b||void 0===b.name||void 0===b.message?i(b):b.toString()},null):(p=a,q=b,function(a){Error.stackTraceLimit=Error.stackTraceLimit+6;try{throw new Error}catch(b){a.stack=b.stack}Error.stackTraceLimit=Error.stackTraceLimit-6})}([]),w=function(){if(n.isNode)return function(b,c,d){return"rejectionHandled"===b?a.emit(b,d):a.emit(b,c,d)};var b=!1,c=!0;try{var d=new self.CustomEvent("test");b=d instanceof CustomEvent}catch(e){}if(!b)try{var f=document.createEvent("CustomEvent");f.initCustomEvent("testingtheevent",!1,!0,{}),self.dispatchEvent(f)}catch(e){c=!1}c&&(u=function(a,c){var d;return b?d=new self.CustomEvent(a,{detail:c,bubbles:!1,cancelable:!0}):self.dispatchEvent&&(d=document.createEvent("CustomEvent"),d.initCustomEvent(a,!1,!0,c)),d?!self.dispatchEvent(d):!1});var g={};return g.unhandledRejection="onunhandledRejection".toLowerCase(),g.rejectionHandled="onrejectionHandled".toLowerCase(),function(a,b,c){var d=g[a],e=self[d];return e?("rejectionHandled"===a?e.call(self,c):e.call(self,b,c),!0):!1}}();return"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(l=function(a){console.warn(a)},n.isNode&&a.stderr.isTTY?l=function(b){a.stderr.write("[31m"+b+"[39m\n")}:n.isNode||"string"!=typeof(new Error).stack||(l=function(a){console.warn("%c"+a,"color: red")})),c}},{"./async.js":2,"./util.js":38}],8:[function(a,b,c){"use strict";b.exports=function(b){function c(a,b,c){this._instances=a,this._callback=b,this._promise=c}function d(a,b){var c={},d=g(a).call(c,b);if(d===h)return d;var e=i(c);return e.length?(h.e=new j("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"),h):d}var e=a("./util.js"),f=a("./errors.js"),g=e.tryCatch,h=e.errorObj,i=a("./es5.js").keys,j=f.TypeError;return c.prototype.doFilter=function(a){for(var c=this._callback,e=this._promise,f=e._boundValue(),i=0,j=this._instances.length;j>i;++i){var k=this._instances[i],l=k===Error||null!=k&&k.prototype instanceof Error;if(l&&a instanceof k){var m=g(c).call(f,a);return m===h?(b.e=m.e,b):m}if("function"==typeof k&&!l){var n=d(k,a);if(n===h){a=h.e;break}if(n){var m=g(c).call(f,a);return m===h?(b.e=m.e,b):m}}}return b.e=a,b},c}},{"./errors.js":13,"./es5.js":14,"./util.js":38}],9:[function(a,b,c){"use strict";b.exports=function(a,b,c){function d(){this._trace=new b(f())}function e(){return c()?new d:void 0}function f(){var a=g.length-1;return a>=0?g[a]:void 0}var g=[];return d.prototype._pushContext=function(){c()&&void 0!==this._trace&&g.push(this._trace)},d.prototype._popContext=function(){c()&&void 0!==this._trace&&g.pop()},a.prototype._peekContext=f,a.prototype._pushContext=d.prototype._pushContext,a.prototype._popContext=d.prototype._popContext,e}},{}],10:[function(b,c,d){"use strict";c.exports=function(c,d){var e,f,g=c._getDomain,h=b("./async.js"),i=b("./errors.js").Warning,j=b("./util.js"),k=j.canAttachTrace,l=j.isNode&&(!!a.env.BLUEBIRD_DEBUG||"development"===a.env.NODE_ENV);return j.isNode&&0==a.env.BLUEBIRD_DEBUG&&(l=!1),l&&h.disableTrampolineIfNecessary(),c.prototype._ignoreRejections=function(){this._unsetRejectionIsUnhandled(),this._bitField=16777216|this._bitField},c.prototype._ensurePossibleRejectionHandled=function(){0===(16777216&this._bitField)&&(this._setRejectionIsUnhandled(),h.invokeLater(this._notifyUnhandledRejection,this,void 0))},c.prototype._notifyUnhandledRejectionIsHandled=function(){d.fireRejectionEvent("rejectionHandled",e,void 0,this)},c.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var a=this._getCarriedStackTrace()||this._settledValue;this._setUnhandledRejectionIsNotified(),d.fireRejectionEvent("unhandledRejection",f,a,this)}},c.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=524288|this._bitField},c.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-524289&this._bitField},c.prototype._isUnhandledRejectionNotified=function(){return(524288&this._bitField)>0},c.prototype._setRejectionIsUnhandled=function(){this._bitField=2097152|this._bitField},c.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-2097153&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},c.prototype._isRejectionUnhandled=function(){return(2097152&this._bitField)>0},c.prototype._setCarriedStackTrace=function(a){this._bitField=1048576|this._bitField,this._fulfillmentHandler0=a},c.prototype._isCarryingStackTrace=function(){return(1048576&this._bitField)>0},c.prototype._getCarriedStackTrace=function(){return this._isCarryingStackTrace()?this._fulfillmentHandler0:void 0},c.prototype._captureStackTrace=function(){return l&&(this._trace=new d(this._peekContext())),this},c.prototype._attachExtraTrace=function(a,b){if(l&&k(a)){var c=this._trace;if(void 0!==c&&b&&(c=c._parent),void 0!==c)c.attachExtraTrace(a);else if(!a.__stackCleaned__){var e=d.parseStackAndMessage(a);j.notEnumerableProp(a,"stack",e.message+"\n"+e.stack.join("\n")),j.notEnumerableProp(a,"__stackCleaned__",!0)}}},c.prototype._warn=function(a){var b=new i(a),c=this._peekContext();if(c)c.attachExtraTrace(b);else{var e=d.parseStackAndMessage(b);b.stack=e.message+"\n"+e.stack.join("\n")}d.formatAndLogError(b,"")},c.onPossiblyUnhandledRejection=function(a){var b=g();f="function"==typeof a?null===b?a:b.bind(a):void 0},c.onUnhandledRejectionHandled=function(a){var b=g();e="function"==typeof a?null===b?a:b.bind(a):void 0},c.longStackTraces=function(){if(h.haveItemsQueued()&&l===!1)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/DT1qyG\n");l=d.isSupported(),l&&h.disableTrampolineIfNecessary()},c.hasLongStackTraces=function(){return l&&d.isSupported()},d.isSupported()||(c.longStackTraces=function(){},l=!1),function(){return l}}},{"./async.js":2,"./errors.js":13,"./util.js":38}],11:[function(a,b,c){"use strict";var d=a("./util.js"),e=d.isPrimitive;b.exports=function(a){var b=function(){return this},c=function(){throw this},d=function(){},f=function(){throw void 0},g=function(a,b){return 1===b?function(){throw a}:2===b?function(){return a}:void 0};a.prototype["return"]=a.prototype.thenReturn=function(c){return void 0===c?this.then(d):e(c)?this._then(g(c,2),void 0,void 0,void 0,void 0):(c instanceof a&&c._ignoreRejections(),this._then(b,void 0,void 0,c,void 0))},a.prototype["throw"]=a.prototype.thenThrow=function(a){return void 0===a?this.then(f):e(a)?this._then(g(a,1),void 0,void 0,void 0,void 0):this._then(c,void 0,void 0,a,void 0)}}},{"./util.js":38}],12:[function(a,b,c){"use strict";b.exports=function(a,b){var c=a.reduce;a.prototype.each=function(a){return c(this,a,null,b)},a.each=function(a,d){return c(a,d,null,b)}}},{}],13:[function(a,b,c){"use strict";function d(a,b){function c(d){return this instanceof c?(l(this,"message","string"==typeof d?d:b),l(this,"name",a),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new c(d)}return k(c,Error),c}function e(a){return this instanceof e?(l(this,"name","OperationalError"),l(this,"message",a),this.cause=a,this.isOperational=!0,void(a instanceof Error?(l(this,"message",a.message),l(this,"stack",a.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new e(a)}var f,g,h=a("./es5.js"),i=h.freeze,j=a("./util.js"),k=j.inherits,l=j.notEnumerableProp,m=d("Warning","warning"),n=d("CancellationError","cancellation error"),o=d("TimeoutError","timeout error"),p=d("AggregateError","aggregate error");try{f=TypeError,g=RangeError}catch(q){f=d("TypeError","type error"),g=d("RangeError","range error")}for(var r="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),s=0;s<r.length;++s)"function"==typeof Array.prototype[r[s]]&&(p.prototype[r[s]]=Array.prototype[r[s]]);h.defineProperty(p.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),p.prototype.isOperational=!0;var t=0;p.prototype.toString=function(){var a=Array(4*t+1).join(" "),b="\n"+a+"AggregateError of:\n";t++,a=Array(4*t+1).join(" ");for(var c=0;c<this.length;++c){for(var d=this[c]===this?"[Circular AggregateError]":this[c]+"",e=d.split("\n"),f=0;f<e.length;++f)e[f]=a+e[f];d=e.join("\n"),b+=d+"\n"}return t--,b},k(e,Error);var u=Error.__BluebirdErrorTypes__;u||(u=i({CancellationError:n,TimeoutError:o,OperationalError:e,RejectionError:e,AggregateError:p}),l(Error,"__BluebirdErrorTypes__",u)),b.exports={Error:Error,TypeError:f,RangeError:g,CancellationError:u.CancellationError,OperationalError:u.OperationalError,TimeoutError:u.TimeoutError,AggregateError:u.AggregateError,Warning:m}},{"./es5.js":14,"./util.js":38}],14:[function(a,b,c){var d=function(){"use strict";return void 0===this}();if(d)b.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:d,propertyIsWritable:function(a,b){var c=Object.getOwnPropertyDescriptor(a,b);return!(c&&!c.writable&&!c.set)}};else{var e={}.hasOwnProperty,f={}.toString,g={}.constructor.prototype,h=function(a){var b=[];for(var c in a)e.call(a,c)&&b.push(c);return b},i=function(a,b){return{value:a[b]}},j=function(a,b,c){return a[b]=c.value,a},k=function(a){return a},l=function(a){try{return Object(a).constructor.prototype}catch(b){return g}},m=function(a){try{return"[object Array]"===f.call(a)}catch(b){return!1}};b.exports={isArray:m,keys:h,names:h,defineProperty:j,getDescriptor:i,freeze:k,getPrototypeOf:l,isES5:d,propertyIsWritable:function(){return!0}}}},{}],15:[function(a,b,c){"use strict";b.exports=function(a,b){var c=a.map;a.prototype.filter=function(a,d){return c(this,a,d,b)},a.filter=function(a,d,e){return c(a,d,e,b)}}},{}],16:[function(a,b,c){"use strict";b.exports=function(b,c,d){function e(){return this}function f(){throw this}function g(a){return function(){return a}}function h(a){return function(){throw a}}function i(a,b,c){var d;return d=m(b)?c?g(b):h(b):c?e:f,a._then(d,n,void 0,b,void 0)}function j(a){var e=this.promise,f=this.handler,g=e._isBound()?f.call(e._boundValue()):f();if(void 0!==g){var h=d(g,e);if(h instanceof b)return h=h._target(),i(h,a,e.isFulfilled())}return e.isRejected()?(c.e=a,c):a}function k(a){var c=this.promise,e=this.handler,f=c._isBound()?e.call(c._boundValue(),a):e(a);if(void 0!==f){var g=d(f,c);if(g instanceof b)return g=g._target(),i(g,a,!0)}return a}var l=a("./util.js"),m=l.isPrimitive,n=l.thrower;b.prototype._passThroughHandler=function(a,b){if("function"!=typeof a)return this.then();var c={promise:this,handler:a};return this._then(b?j:k,b?j:void 0,void 0,c,void 0)},b.prototype.lastly=b.prototype["finally"]=function(a){return this._passThroughHandler(a,!0)},b.prototype.tap=function(a){return this._passThroughHandler(a,!1)}}},{"./util.js":38}],17:[function(a,b,c){"use strict";b.exports=function(b,c,d,e){function f(a,c,d){for(var f=0;f<c.length;++f){d._pushContext();var g=l(c[f])(a);if(d._popContext(),g===k){d._pushContext();var h=b.reject(k.e);return d._popContext(),h}var i=e(g,d);if(i instanceof b)return i}return null}function g(a,c,e,f){var g=this._promise=new b(d);g._captureStackTrace(),this._stack=f,this._generatorFunction=a,this._receiver=c,this._generator=void 0,this._yieldHandlers="function"==typeof e?[e].concat(m):m}var h=a("./errors.js"),i=h.TypeError,j=a("./util.js"),k=j.errorObj,l=j.tryCatch,m=[];g.prototype.promise=function(){return this._promise},g.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._next(void 0)},g.prototype._continue=function(a){if(a===k)return this._promise._rejectCallback(a.e,!1,!0);var c=a.value;if(a.done===!0)this._promise._resolveCallback(c);else{var d=e(c,this._promise);if(!(d instanceof b)&&(d=f(d,this._yieldHandlers,this._promise),null===d))return void this._throw(new i("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/4Y4pDk\n\n".replace("%s",c)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));d._then(this._next,this._throw,void 0,this,null)}},g.prototype._throw=function(a){this._promise._attachExtraTrace(a),this._promise._pushContext();var b=l(this._generator["throw"]).call(this._generator,a);this._promise._popContext(),this._continue(b)},g.prototype._next=function(a){this._promise._pushContext();var b=l(this._generator.next).call(this._generator,a);this._promise._popContext(),this._continue(b)},b.coroutine=function(a,b){if("function"!=typeof a)throw new i("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var c=Object(b).yieldHandler,d=g,e=(new Error).stack;return function(){var b=a.apply(this,arguments),f=new d(void 0,void 0,c,e);return f._generator=b,f._next(void 0),f.promise()}},b.coroutine.addYieldHandler=function(a){if("function"!=typeof a)throw new i("fn must be a function\n\n    See http://goo.gl/916lJJ\n");m.push(a)},b.spawn=function(a){if("function"!=typeof a)return c("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var d=new g(a,this),e=d.promise();return d._run(b.spawn),e}}},{"./errors.js":13,"./util.js":38}],18:[function(a,b,c){"use strict";b.exports=function(b,c,d,e){var f=a("./util.js");f.canEvaluate,f.tryCatch,f.errorObj;b.join=function(){var a,b=arguments.length-1;if(b>0&&"function"==typeof arguments[b]){a=arguments[b];var d}for(var e=arguments.length,f=new Array(e),g=0;e>g;++g)f[g]=arguments[g];a&&f.pop();var d=new c(f).promise();return void 0!==a?d.spread(a):d}}},{"./util.js":38}],19:[function(a,b,c){"use strict";b.exports=function(b,c,d,e,f){function g(a,b,c,d){this.constructor$(a),this._promise._captureStackTrace();var e=j();this._callback=null===e?b:e.bind(b),this._preservedValues=d===f?new Array(this.length()):null,this._limit=c,this._inFlight=0,this._queue=c>=1?[]:p,k.invoke(h,this,void 0)}function h(){this._init$(void 0,-2)}function i(a,b,c,d){var e="object"==typeof c&&null!==c?c.concurrency:0;return e="number"==typeof e&&isFinite(e)&&e>=1?e:0,new g(a,b,e,d)}var j=b._getDomain,k=a("./async.js"),l=a("./util.js"),m=l.tryCatch,n=l.errorObj,o={},p=[];l.inherits(g,c),g.prototype._init=function(){},g.prototype._promiseFulfilled=function(a,c){var d=this._values,f=this.length(),g=this._preservedValues,h=this._limit;if(d[c]===o){if(d[c]=a,h>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return}else{if(h>=1&&this._inFlight>=h)return d[c]=a,void this._queue.push(c);null!==g&&(g[c]=a);var i=this._callback,j=this._promise._boundValue();this._promise._pushContext();var k=m(i).call(j,a,c,f);if(this._promise._popContext(),k===n)return this._reject(k.e);var l=e(k,this._promise);if(l instanceof b){if(l=l._target(),l._isPending())return h>=1&&this._inFlight++,d[c]=o,l._proxyPromiseArray(this,c);if(!l._isFulfilled())return this._reject(l._reason());k=l._value()}d[c]=k}var p=++this._totalResolved;p>=f&&(null!==g?this._filter(d,g):this._resolve(d))},g.prototype._drainQueue=function(){for(var a=this._queue,b=this._limit,c=this._values;a.length>0&&this._inFlight<b;){if(this._isResolved())return;var d=a.pop();this._promiseFulfilled(c[d],d)}},g.prototype._filter=function(a,b){for(var c=b.length,d=new Array(c),e=0,f=0;c>f;++f)a[f]&&(d[e++]=b[f]);d.length=e,this._resolve(d)},g.prototype.preservedValues=function(){return this._preservedValues},b.prototype.map=function(a,b){return"function"!=typeof a?d("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):i(this,a,b,null).promise()},b.map=function(a,b,c,e){return"function"!=typeof b?d("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):i(a,b,c,e).promise()}}},{"./async.js":2,"./util.js":38}],20:[function(a,b,c){"use strict";b.exports=function(b,c,d,e){var f=a("./util.js"),g=f.tryCatch;b.method=function(a){if("function"!=typeof a)throw new b.TypeError("fn must be a function\n\n    See http://goo.gl/916lJJ\n");return function(){var d=new b(c);d._captureStackTrace(),d._pushContext();var e=g(a).apply(this,arguments);return d._popContext(),d._resolveFromSyncValue(e),d}},b.attempt=b["try"]=function(a,d,h){if("function"!=typeof a)return e("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var i=new b(c);i._captureStackTrace(),i._pushContext();var j=f.isArray(d)?g(a).apply(h,d):g(a).call(h,d);return i._popContext(),i._resolveFromSyncValue(j),i},b.prototype._resolveFromSyncValue=function(a){a===f.errorObj?this._rejectCallback(a.e,!1,!0):this._resolveCallback(a,!0)}}},{"./util.js":38}],21:[function(a,b,c){"use strict";b.exports=function(b){function c(a,b){var c=this;if(!f.isArray(a))return d.call(c,a,b);var e=h(b).apply(c._boundValue(),[null].concat(a));e===i&&g.throwLater(e.e)}function d(a,b){var c=this,d=c._boundValue(),e=void 0===a?h(b).call(d,null):h(b).call(d,null,a);e===i&&g.throwLater(e.e)}function e(a,b){var c=this;if(!a){var d=c._target(),e=d._getCarriedStackTrace();e.cause=a,a=e}var f=h(b).call(c._boundValue(),a);f===i&&g.throwLater(f.e)}var f=a("./util.js"),g=a("./async.js"),h=f.tryCatch,i=f.errorObj;b.prototype.asCallback=b.prototype.nodeify=function(a,b){if("function"==typeof a){var f=d;void 0!==b&&Object(b).spread&&(f=c),this._then(f,e,void 0,this,a)}return this}}},{"./async.js":2,"./util.js":38}],22:[function(a,b,c){"use strict";b.exports=function(b,c){var d=a("./util.js"),e=a("./async.js"),f=d.tryCatch,g=d.errorObj;b.prototype.progressed=function(a){return this._then(void 0,void 0,a,void 0,void 0)},b.prototype._progress=function(a){this._isFollowingOrFulfilledOrRejected()||this._target()._progressUnchecked(a)},b.prototype._progressHandlerAt=function(a){return 0===a?this._progressHandler0:this[(a<<2)+a-5+2]},b.prototype._doProgressWith=function(a){var c=a.value,e=a.handler,h=a.promise,i=a.receiver,j=f(e).call(i,c);if(j===g){if(null!=j.e&&"StopProgressPropagation"!==j.e.name){var k=d.canAttachTrace(j.e)?j.e:new Error(d.toString(j.e));h._attachExtraTrace(k),h._progress(j.e)}}else j instanceof b?j._then(h._progress,null,null,h,void 0):h._progress(j)},b.prototype._progressUnchecked=function(a){for(var d=this._length(),f=this._progress,g=0;d>g;g++){var h=this._progressHandlerAt(g),i=this._promiseAt(g);if(i instanceof b)"function"==typeof h?e.invoke(this._doProgressWith,this,{handler:h,promise:i,receiver:this._receiverAt(g),value:a}):e.invoke(f,i,a);else{var j=this._receiverAt(g);"function"==typeof h?h.call(j,a,i):j instanceof c&&!j._isResolved()&&j._promiseProgressed(a,i)}}}}},{"./async.js":2,"./util.js":38}],23:[function(b,c,d){"use strict";c.exports=function(){function c(a){if("function"!=typeof a)throw new m("the promise constructor requires a resolver function\n\n    See http://goo.gl/EC22Yn\n");if(this.constructor!==c)throw new m("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/KsIlge\n");this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._progressHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._settledValue=void 0,a!==n&&this._resolveFromResolver(a)}function d(a){var b=new c(n);b._fulfillmentHandler0=a,b._rejectionHandler0=a,b._progressHandler0=a,b._promise0=a,b._receiver0=a,b._settledValue=a}var e,f=function(){return new m("circular promise resolution chain\n\n    See http://goo.gl/LhFpo0\n")},g=function(){return new c.PromiseInspection(this._target())},h=function(a){return c.reject(new m(a))},i=b("./util.js");e=i.isNode?function(){var b=a.domain;return void 0===b&&(b=null),b}:function(){return null},i.notEnumerableProp(c,"_getDomain",e);var j={},k=b("./async.js"),l=b("./errors.js"),m=c.TypeError=l.TypeError;c.RangeError=l.RangeError,c.CancellationError=l.CancellationError,c.TimeoutError=l.TimeoutError,c.OperationalError=l.OperationalError,c.RejectionError=l.OperationalError,c.AggregateError=l.AggregateError;var n=function(){},o={},p={e:null},q=b("./thenables.js")(c,n),r=b("./promise_array.js")(c,n,q,h),s=b("./captured_trace.js")(),t=b("./debuggability.js")(c,s),u=b("./context.js")(c,s,t),v=b("./catch_filter.js")(p),w=b("./promise_resolver.js"),x=w._nodebackForPromise,y=i.errorObj,z=i.tryCatch;return c.prototype.toString=function(){return"[object Promise]"},c.prototype.caught=c.prototype["catch"]=function(a){var b=arguments.length;if(b>1){var d,e=new Array(b-1),f=0;for(d=0;b-1>d;++d){var g=arguments[d];if("function"!=typeof g)return c.reject(new m("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"));e[f++]=g}e.length=f,a=arguments[d];var h=new v(e,a,this);return this._then(void 0,h.doFilter,void 0,h,void 0)}return this._then(void 0,a,void 0,void 0,void 0)},c.prototype.reflect=function(){return this._then(g,g,void 0,this,void 0)},c.prototype.then=function(a,b,c){if(t()&&arguments.length>0&&"function"!=typeof a&&"function"!=typeof b){var d=".then() only accepts functions but was passed: "+i.classString(a);arguments.length>1&&(d+=", "+i.classString(b)),this._warn(d)}return this._then(a,b,c,void 0,void 0)},c.prototype.done=function(a,b,c){var d=this._then(a,b,c,void 0,void 0);d._setIsFinal()},c.prototype.spread=function(a,b){return this.all()._then(a,b,void 0,o,void 0)},c.prototype.isCancellable=function(){return!this.isResolved()&&this._cancellable()},c.prototype.toJSON=function(){var a={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(a.fulfillmentValue=this.value(),a.isFulfilled=!0):this.isRejected()&&(a.rejectionReason=this.reason(),a.isRejected=!0),a},c.prototype.all=function(){return new r(this).promise()},c.prototype.error=function(a){return this.caught(i.originatesFromRejection,a)},c.is=function(a){return a instanceof c},c.fromNode=function(a){var b=new c(n),d=z(a)(x(b));return d===y&&b._rejectCallback(d.e,!0,!0),b},c.all=function(a){return new r(a).promise()},c.defer=c.pending=function(){var a=new c(n);return new w(a)},c.cast=function(a){var b=q(a);if(!(b instanceof c)){var d=b;b=new c(n),b._fulfillUnchecked(d)}return b},c.resolve=c.fulfilled=c.cast,c.reject=c.rejected=function(a){var b=new c(n);return b._captureStackTrace(),b._rejectCallback(a,!0),b},c.setScheduler=function(a){if("function"!=typeof a)throw new m("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var b=k._schedule;return k._schedule=a,b},c.prototype._then=function(a,b,d,f,g){var h=void 0!==g,i=h?g:new c(n);h||(i._propagateFrom(this,5),i._captureStackTrace());var j=this._target();j!==this&&(void 0===f&&(f=this._boundTo),h||i._setIsMigrated());var l=j._addCallbacks(a,b,d,i,f,e());return j._isResolved()&&!j._isSettlePromisesQueued()&&k.invoke(j._settlePromiseAtPostResolution,j,l),i},c.prototype._settlePromiseAtPostResolution=function(a){
this._isRejectionUnhandled()&&this._unsetRejectionIsUnhandled(),this._settlePromiseAt(a)},c.prototype._length=function(){return 131071&this._bitField},c.prototype._isFollowingOrFulfilledOrRejected=function(){return(939524096&this._bitField)>0},c.prototype._isFollowing=function(){return 536870912===(536870912&this._bitField)},c.prototype._setLength=function(a){this._bitField=-131072&this._bitField|131071&a},c.prototype._setFulfilled=function(){this._bitField=268435456|this._bitField},c.prototype._setRejected=function(){this._bitField=134217728|this._bitField},c.prototype._setFollowing=function(){this._bitField=536870912|this._bitField},c.prototype._setIsFinal=function(){this._bitField=33554432|this._bitField},c.prototype._isFinal=function(){return(33554432&this._bitField)>0},c.prototype._cancellable=function(){return(67108864&this._bitField)>0},c.prototype._setCancellable=function(){this._bitField=67108864|this._bitField},c.prototype._unsetCancellable=function(){this._bitField=-67108865&this._bitField},c.prototype._setIsMigrated=function(){this._bitField=4194304|this._bitField},c.prototype._unsetIsMigrated=function(){this._bitField=-4194305&this._bitField},c.prototype._isMigrated=function(){return(4194304&this._bitField)>0},c.prototype._receiverAt=function(a){var b=0===a?this._receiver0:this[5*a-5+4];return b===j?void 0:void 0===b&&this._isBound()?this._boundValue():b},c.prototype._promiseAt=function(a){return 0===a?this._promise0:this[5*a-5+3]},c.prototype._fulfillmentHandlerAt=function(a){return 0===a?this._fulfillmentHandler0:this[5*a-5+0]},c.prototype._rejectionHandlerAt=function(a){return 0===a?this._rejectionHandler0:this[5*a-5+1]},c.prototype._boundValue=function(){var a=this._boundTo;return void 0!==a&&a instanceof c?a.isFulfilled()?a.value():void 0:a},c.prototype._migrateCallbacks=function(a,b){var d=a._fulfillmentHandlerAt(b),e=a._rejectionHandlerAt(b),f=a._progressHandlerAt(b),g=a._promiseAt(b),h=a._receiverAt(b);g instanceof c&&g._setIsMigrated(),void 0===h&&(h=j),this._addCallbacks(d,e,f,g,h,null)},c.prototype._addCallbacks=function(a,b,c,d,e,f){var g=this._length();if(g>=131066&&(g=0,this._setLength(0)),0===g)this._promise0=d,void 0!==e&&(this._receiver0=e),"function"!=typeof a||this._isCarryingStackTrace()||(this._fulfillmentHandler0=null===f?a:f.bind(a)),"function"==typeof b&&(this._rejectionHandler0=null===f?b:f.bind(b)),"function"==typeof c&&(this._progressHandler0=null===f?c:f.bind(c));else{var h=5*g-5;this[h+3]=d,this[h+4]=e,"function"==typeof a&&(this[h+0]=null===f?a:f.bind(a)),"function"==typeof b&&(this[h+1]=null===f?b:f.bind(b)),"function"==typeof c&&(this[h+2]=null===f?c:f.bind(c))}return this._setLength(g+1),g},c.prototype._setProxyHandlers=function(a,b){var c=this._length();if(c>=131066&&(c=0,this._setLength(0)),0===c)this._promise0=b,this._receiver0=a;else{var d=5*c-5;this[d+3]=b,this[d+4]=a}this._setLength(c+1)},c.prototype._proxyPromiseArray=function(a,b){this._setProxyHandlers(a,b)},c.prototype._resolveCallback=function(a,b){if(!this._isFollowingOrFulfilledOrRejected()){if(a===this)return this._rejectCallback(f(),!1,!0);var d=q(a,this);if(!(d instanceof c))return this._fulfill(a);var e=1|(b?4:0);this._propagateFrom(d,e);var g=d._target();if(g._isPending()){for(var h=this._length(),i=0;h>i;++i)g._migrateCallbacks(this,i);this._setFollowing(),this._setLength(0),this._setFollowee(g)}else g._isFulfilled()?this._fulfillUnchecked(g._value()):this._rejectUnchecked(g._reason(),g._getCarriedStackTrace())}},c.prototype._rejectCallback=function(a,b,c){c||i.markAsOriginatingFromRejection(a);var d=i.ensureErrorObject(a),e=d===a;this._attachExtraTrace(d,b?e:!1),this._reject(a,e?void 0:d)},c.prototype._resolveFromResolver=function(a){var b=this;this._captureStackTrace(),this._pushContext();var c=!0,d=z(a)(function(a){null!==b&&(b._resolveCallback(a),b=null)},function(a){null!==b&&(b._rejectCallback(a,c),b=null)});c=!1,this._popContext(),void 0!==d&&d===y&&null!==b&&(b._rejectCallback(d.e,!0,!0),b=null)},c.prototype._settlePromiseFromHandler=function(a,b,c,d){if(!d._isRejected()){d._pushContext();var e;if(e=b!==o||this._isRejected()?z(a).call(b,c):z(a).apply(this._boundValue(),c),d._popContext(),e===y||e===d||e===p){var g=e===d?f():e.e;d._rejectCallback(g,!1,!0)}else d._resolveCallback(e)}},c.prototype._target=function(){for(var a=this;a._isFollowing();)a=a._followee();return a},c.prototype._followee=function(){return this._rejectionHandler0},c.prototype._setFollowee=function(a){this._rejectionHandler0=a},c.prototype._cleanValues=function(){this._cancellable()&&(this._cancellationParent=void 0)},c.prototype._propagateFrom=function(a,b){(1&b)>0&&a._cancellable()&&(this._setCancellable(),this._cancellationParent=a),(4&b)>0&&a._isBound()&&this._setBoundTo(a._boundTo)},c.prototype._fulfill=function(a){this._isFollowingOrFulfilledOrRejected()||this._fulfillUnchecked(a)},c.prototype._reject=function(a,b){this._isFollowingOrFulfilledOrRejected()||this._rejectUnchecked(a,b)},c.prototype._settlePromiseAt=function(a){var b=this._promiseAt(a),d=b instanceof c;if(d&&b._isMigrated())return b._unsetIsMigrated(),k.invoke(this._settlePromiseAt,this,a);var e=this._isFulfilled()?this._fulfillmentHandlerAt(a):this._rejectionHandlerAt(a),f=this._isCarryingStackTrace()?this._getCarriedStackTrace():void 0,g=this._settledValue,h=this._receiverAt(a);this._clearCallbackDataAtIndex(a),"function"==typeof e?d?this._settlePromiseFromHandler(e,h,g,b):e.call(h,g,b):h instanceof r?h._isResolved()||(this._isFulfilled()?h._promiseFulfilled(g,b):h._promiseRejected(g,b)):d&&(this._isFulfilled()?b._fulfill(g):b._reject(g,f)),a>=4&&4===(31&a)&&k.invokeLater(this._setLength,this,0)},c.prototype._clearCallbackDataAtIndex=function(a){if(0===a)this._isCarryingStackTrace()||(this._fulfillmentHandler0=void 0),this._rejectionHandler0=this._progressHandler0=this._receiver0=this._promise0=void 0;else{var b=5*a-5;this[b+3]=this[b+4]=this[b+0]=this[b+1]=this[b+2]=void 0}},c.prototype._isSettlePromisesQueued=function(){return-1073741824===(-1073741824&this._bitField)},c.prototype._setSettlePromisesQueued=function(){this._bitField=-1073741824|this._bitField},c.prototype._unsetSettlePromisesQueued=function(){this._bitField=1073741823&this._bitField},c.prototype._queueSettlePromises=function(){k.settlePromises(this),this._setSettlePromisesQueued()},c.prototype._fulfillUnchecked=function(a){if(a===this){var b=f();return this._attachExtraTrace(b),this._rejectUnchecked(b,void 0)}this._setFulfilled(),this._settledValue=a,this._cleanValues(),this._length()>0&&this._queueSettlePromises()},c.prototype._rejectUncheckedCheckError=function(a){var b=i.ensureErrorObject(a);this._rejectUnchecked(a,b===a?void 0:b)},c.prototype._rejectUnchecked=function(a,b){if(a===this){var c=f();return this._attachExtraTrace(c),this._rejectUnchecked(c)}return this._setRejected(),this._settledValue=a,this._cleanValues(),this._isFinal()?void k.throwLater(function(a){throw"stack"in a&&k.invokeFirst(s.unhandledRejection,void 0,a),a},void 0===b?a:b):(void 0!==b&&b!==a&&this._setCarriedStackTrace(b),void(this._length()>0?this._queueSettlePromises():this._ensurePossibleRejectionHandled()))},c.prototype._settlePromises=function(){this._unsetSettlePromisesQueued();for(var a=this._length(),b=0;a>b;b++)this._settlePromiseAt(b)},i.notEnumerableProp(c,"_makeSelfResolutionError",f),b("./progress.js")(c,r),b("./method.js")(c,n,q,h),b("./bind.js")(c,n,q),b("./finally.js")(c,p,q),b("./direct_resolve.js")(c),b("./synchronous_inspection.js")(c),b("./join.js")(c,r,q,n),c.Promise=c,b("./map.js")(c,r,h,q,n),b("./cancel.js")(c),b("./using.js")(c,h,q,u),b("./generators.js")(c,h,n,q),b("./nodeify.js")(c),b("./call_get.js")(c),b("./props.js")(c,r,q,h),b("./race.js")(c,n,q,h),b("./reduce.js")(c,r,h,q,n),b("./settle.js")(c,r),b("./some.js")(c,r,h),b("./promisify.js")(c,n),b("./any.js")(c),b("./each.js")(c,n),b("./timers.js")(c,n),b("./filter.js")(c,n),i.toFastProperties(c),i.toFastProperties(c.prototype),d({a:1}),d({b:2}),d({c:3}),d(1),d(function(){}),d(void 0),d(!1),d(new c(n)),s.setBounds(k.firstLineError,i.lastLineError),c}},{"./any.js":1,"./async.js":2,"./bind.js":3,"./call_get.js":5,"./cancel.js":6,"./captured_trace.js":7,"./catch_filter.js":8,"./context.js":9,"./debuggability.js":10,"./direct_resolve.js":11,"./each.js":12,"./errors.js":13,"./filter.js":15,"./finally.js":16,"./generators.js":17,"./join.js":18,"./map.js":19,"./method.js":20,"./nodeify.js":21,"./progress.js":22,"./promise_array.js":24,"./promise_resolver.js":25,"./promisify.js":26,"./props.js":27,"./race.js":29,"./reduce.js":30,"./settle.js":32,"./some.js":33,"./synchronous_inspection.js":34,"./thenables.js":35,"./timers.js":36,"./using.js":37,"./util.js":38}],24:[function(a,b,c){"use strict";b.exports=function(b,c,d,e){function f(a){switch(a){case-2:return[];case-3:return{}}}function g(a){var d,e=this._promise=new b(c);a instanceof b&&(d=a,e._propagateFrom(d,5)),this._values=a,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var h=a("./util.js"),i=h.isArray;return g.prototype.length=function(){return this._length},g.prototype.promise=function(){return this._promise},g.prototype._init=function j(a,c){var g=d(this._values,this._promise);if(g instanceof b){if(g=g._target(),this._values=g,!g._isFulfilled())return g._isPending()?void g._then(j,this._reject,void 0,this,c):void this._reject(g._reason());if(g=g._value(),!i(g)){var h=new b.TypeError("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");return void this.__hardReject__(h)}}else if(!i(g))return void this._promise._reject(e("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n")._reason());if(0===g.length)return void(-5===c?this._resolveEmptyArray():this._resolve(f(c)));var k=this.getActualLength(g.length);this._length=k,this._values=this.shouldCopyValues()?new Array(k):this._values;for(var l=this._promise,m=0;k>m;++m){var n=this._isResolved(),o=d(g[m],l);o instanceof b?(o=o._target(),n?o._ignoreRejections():o._isPending()?o._proxyPromiseArray(this,m):o._isFulfilled()?this._promiseFulfilled(o._value(),m):this._promiseRejected(o._reason(),m)):n||this._promiseFulfilled(o,m)}},g.prototype._isResolved=function(){return null===this._values},g.prototype._resolve=function(a){this._values=null,this._promise._fulfill(a)},g.prototype.__hardReject__=g.prototype._reject=function(a){this._values=null,this._promise._rejectCallback(a,!1,!0)},g.prototype._promiseProgressed=function(a,b){this._promise._progress({index:b,value:a})},g.prototype._promiseFulfilled=function(a,b){this._values[b]=a;var c=++this._totalResolved;c>=this._length&&this._resolve(this._values)},g.prototype._promiseRejected=function(a,b){this._totalResolved++,this._reject(a)},g.prototype.shouldCopyValues=function(){return!0},g.prototype.getActualLength=function(a){return a},g}},{"./util.js":38}],25:[function(a,b,c){"use strict";function d(a){return a instanceof Error&&n.getPrototypeOf(a)===Error.prototype}function e(a){var b;if(d(a)){b=new l(a),b.name=a.name,b.message=a.message,b.stack=a.stack;for(var c=n.keys(a),e=0;e<c.length;++e){var f=c[e];o.test(f)||(b[f]=a[f])}return b}return h.markAsOriginatingFromRejection(a),a}function f(a){return function(b,c){if(null!==a){if(b){var d=e(i(b));a._attachExtraTrace(d),a._reject(d)}else if(arguments.length>2){for(var f=arguments.length,g=new Array(f-1),h=1;f>h;++h)g[h-1]=arguments[h];a._fulfill(g)}else a._fulfill(c);a=null}}}var g,h=a("./util.js"),i=h.maybeWrapAsError,j=a("./errors.js"),k=j.TimeoutError,l=j.OperationalError,m=h.haveGetters,n=a("./es5.js"),o=/^(?:name|message|stack|cause)$/;if(g=m?function(a){this.promise=a}:function(a){this.promise=a,this.asCallback=f(a),this.callback=this.asCallback},m){var p={get:function(){return f(this.promise)}};n.defineProperty(g.prototype,"asCallback",p),n.defineProperty(g.prototype,"callback",p)}g._nodebackForPromise=f,g.prototype.toString=function(){return"[object PromiseResolver]"},g.prototype.resolve=g.prototype.fulfill=function(a){if(!(this instanceof g))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._resolveCallback(a)},g.prototype.reject=function(a){if(!(this instanceof g))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._rejectCallback(a)},g.prototype.progress=function(a){if(!(this instanceof g))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._progress(a)},g.prototype.cancel=function(a){this.promise.cancel(a)},g.prototype.timeout=function(){this.reject(new k("timeout"))},g.prototype.isResolved=function(){return this.promise.isResolved()},g.prototype.toJSON=function(){return this.promise.toJSON()},b.exports=g},{"./errors.js":13,"./es5.js":14,"./util.js":38}],26:[function(a,b,c){"use strict";b.exports=function(b,c){function d(a){return!w.test(a)}function e(a){try{return a.__isPromisified__===!0}catch(b){return!1}}function f(a,b,c){var d=n.getDataPropertyOrDefault(a,b+c,u);return d?e(d):!1}function g(a,b,c){for(var d=0;d<a.length;d+=2){var e=a[d];if(c.test(e))for(var f=e.replace(c,""),g=0;g<a.length;g+=2)if(a[g]===f)throw new s("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/iWrZbw\n".replace("%s",b))}}function h(a,b,c,d){for(var h=n.inheritedDataKeys(a),i=[],j=0;j<h.length;++j){var k=h[j],l=a[k],m=d===x?!0:x(k,l,a);"function"!=typeof l||e(l)||f(a,k,b)||!d(k,l,a,m)||i.push(k,l)}return g(i,b,c),i}function i(a,d,e,f){function g(){var e=d;d===m&&(e=this);var f=new b(c);f._captureStackTrace();var g="string"==typeof i&&this!==h?this[i]:a,j=o(f);try{g.apply(e,p(arguments,j))}catch(k){f._rejectCallback(q(k),!0,!0)}return f}var h=function(){return this}(),i=a;return"string"==typeof i&&(a=f),n.notEnumerableProp(g,"__isPromisified__",!0),g}function j(a,b,c,d){for(var e=new RegExp(y(b)+"$"),f=h(a,b,e,c),g=0,i=f.length;i>g;g+=2){var j=f[g],k=f[g+1],l=j+b;a[l]=d===z?z(j,m,j,k,b):d(k,function(){return z(j,m,j,k,b)})}return n.toFastProperties(a),a}function k(a,b){return z(a,b,void 0,a)}var l,m={},n=a("./util.js"),o=a("./promise_resolver.js")._nodebackForPromise,p=n.withAppended,q=n.maybeWrapAsError,r=n.canEvaluate,s=a("./errors").TypeError,t="Async",u={__isPromisified__:!0},v=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],w=new RegExp("^(?:"+v.join("|")+")$"),x=function(a){return n.isIdentifier(a)&&"_"!==a.charAt(0)&&"constructor"!==a},y=function(a){return a.replace(/([$])/,"\\$")},z=r?l:i;b.promisify=function(a,b){if("function"!=typeof a)throw new s("fn must be a function\n\n    See http://goo.gl/916lJJ\n");if(e(a))return a;var c=k(a,arguments.length<2?m:b);return n.copyDescriptors(a,c,d),c},b.promisifyAll=function(a,b){if("function"!=typeof a&&"object"!=typeof a)throw new s("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/9ITlV0\n");b=Object(b);var c=b.suffix;"string"!=typeof c&&(c=t);var d=b.filter;"function"!=typeof d&&(d=x);var e=b.promisifier;if("function"!=typeof e&&(e=z),!n.isIdentifier(c))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/8FZo5V\n");for(var f=n.inheritedDataKeys(a),g=0;g<f.length;++g){var h=a[f[g]];"constructor"!==f[g]&&n.isClass(h)&&(j(h.prototype,c,d,e),j(h,c,d,e))}return j(a,c,d,e)}}},{"./errors":13,"./promise_resolver.js":25,"./util.js":38}],27:[function(a,b,c){"use strict";b.exports=function(b,c,d,e){function f(a){for(var b=j.keys(a),c=b.length,d=new Array(2*c),e=0;c>e;++e){var f=b[e];d[e]=a[f],d[e+c]=f}this.constructor$(d)}function g(a){var c,g=d(a);return i(g)?(c=g instanceof b?g._then(b.props,void 0,void 0,void 0,void 0):new f(g).promise(),g instanceof b&&c._propagateFrom(g,4),c):e("cannot await properties of a non-object\n\n    See http://goo.gl/OsFKC8\n")}var h=a("./util.js"),i=h.isObject,j=a("./es5.js");h.inherits(f,c),f.prototype._init=function(){this._init$(void 0,-3)},f.prototype._promiseFulfilled=function(a,b){this._values[b]=a;var c=++this._totalResolved;if(c>=this._length){for(var d={},e=this.length(),f=0,g=this.length();g>f;++f)d[this._values[f+e]]=this._values[f];this._resolve(d)}},f.prototype._promiseProgressed=function(a,b){this._promise._progress({key:this._values[b+this.length()],value:a})},f.prototype.shouldCopyValues=function(){return!1},f.prototype.getActualLength=function(a){return a>>1},b.prototype.props=function(){return g(this)},b.props=function(a){return g(a)}}},{"./es5.js":14,"./util.js":38}],28:[function(a,b,c){"use strict";function d(a,b,c,d,e){for(var f=0;e>f;++f)c[f+d]=a[f+b],a[f+b]=void 0}function e(a){this._capacity=a,this._length=0,this._front=0}e.prototype._willBeOverCapacity=function(a){return this._capacity<a},e.prototype._pushOne=function(a){var b=this.length();this._checkCapacity(b+1);var c=this._front+b&this._capacity-1;this[c]=a,this._length=b+1},e.prototype._unshiftOne=function(a){var b=this._capacity;this._checkCapacity(this.length()+1);var c=this._front,d=(c-1&b-1^b)-b;this[d]=a,this._front=d,this._length=this.length()+1},e.prototype.unshift=function(a,b,c){this._unshiftOne(c),this._unshiftOne(b),this._unshiftOne(a)},e.prototype.push=function(a,b,c){var d=this.length()+3;if(this._willBeOverCapacity(d))return this._pushOne(a),this._pushOne(b),void this._pushOne(c);var e=this._front+d-3;this._checkCapacity(d);var f=this._capacity-1;this[e+0&f]=a,this[e+1&f]=b,this[e+2&f]=c,this._length=d},e.prototype.shift=function(){var a=this._front,b=this[a];return this[a]=void 0,this._front=a+1&this._capacity-1,this._length--,b},e.prototype.length=function(){return this._length},e.prototype._checkCapacity=function(a){this._capacity<a&&this._resizeTo(this._capacity<<1)},e.prototype._resizeTo=function(a){var b=this._capacity;this._capacity=a;var c=this._front,e=this._length,f=c+e&b-1;d(this,0,this,b,f)},b.exports=e},{}],29:[function(a,b,c){"use strict";b.exports=function(b,c,d,e){function f(a,f){var i=d(a);if(i instanceof b)return h(i);if(!g(a))return e("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");var j=new b(c);void 0!==f&&j._propagateFrom(f,5);for(var k=j._fulfill,l=j._reject,m=0,n=a.length;n>m;++m){var o=a[m];(void 0!==o||m in a)&&b.cast(o)._then(k,l,void 0,j,null)}return j}var g=a("./util.js").isArray,h=function(a){return a.then(function(b){return f(b,a)})};b.race=function(a){return f(a,void 0)},b.prototype.race=function(){return f(this,void 0)}}},{"./util.js":38}],30:[function(a,b,c){"use strict";b.exports=function(b,c,d,e,f){function g(a,c,d,g){this.constructor$(a),this._promise._captureStackTrace(),this._preservedValues=g===f?[]:null,this._zerothIsAccum=void 0===d,this._gotAccum=!1,this._reducingIndex=this._zerothIsAccum?1:0,this._valuesPhase=void 0;var i=e(d,this._promise),l=!1,m=i instanceof b;m&&(i=i._target(),i._isPending()?i._proxyPromiseArray(this,-1):i._isFulfilled()?(d=i._value(),this._gotAccum=!0):(this._reject(i._reason()),l=!0)),m||this._zerothIsAccum||(this._gotAccum=!0);var n=j();this._callback=null===n?c:n.bind(c),this._accum=d,l||k.invoke(h,this,void 0)}function h(){this._init$(void 0,-5)}function i(a,b,c,e){if("function"!=typeof b)return d("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var f=new g(a,b,c,e);return f.promise()}var j=b._getDomain,k=a("./async.js"),l=a("./util.js"),m=l.tryCatch,n=l.errorObj;l.inherits(g,c),g.prototype._init=function(){},g.prototype._resolveEmptyArray=function(){(this._gotAccum||this._zerothIsAccum)&&this._resolve(null!==this._preservedValues?[]:this._accum)},g.prototype._promiseFulfilled=function(a,c){var d=this._values;d[c]=a;var f,g=this.length(),h=this._preservedValues,i=null!==h,j=this._gotAccum,k=this._valuesPhase;if(!k)for(k=this._valuesPhase=new Array(g),f=0;g>f;++f)k[f]=0;if(f=k[c],0===c&&this._zerothIsAccum?(this._accum=a,this._gotAccum=j=!0,k[c]=0===f?1:2):-1===c?(this._accum=a,this._gotAccum=j=!0):0===f?k[c]=1:(k[c]=2,this._accum=a),j){for(var l,o=this._callback,p=this._promise._boundValue(),q=this._reducingIndex;g>q;++q)if(f=k[q],2!==f){if(1!==f)return;if(a=d[q],this._promise._pushContext(),i?(h.push(a),l=m(o).call(p,a,q,g)):l=m(o).call(p,this._accum,a,q,g),this._promise._popContext(),l===n)return this._reject(l.e);var r=e(l,this._promise);if(r instanceof b){if(r=r._target(),r._isPending())return k[q]=4,r._proxyPromiseArray(this,q);if(!r._isFulfilled())return this._reject(r._reason());l=r._value()}this._reducingIndex=q+1,this._accum=l}else this._reducingIndex=q+1;this._resolve(i?h:this._accum)}},b.prototype.reduce=function(a,b){return i(this,a,b,null)},b.reduce=function(a,b,c,d){return i(a,b,c,d)}}},{"./async.js":2,"./util.js":38}],31:[function(b,c,e){"use strict";var f,g=b("./util"),h=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")};if(g.isNode&&"undefined"==typeof MutationObserver){var i=d.setImmediate,j=a.nextTick;f=g.isRecentNode?function(a){i.call(d,a)}:function(b){j.call(a,b)}}else"undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&window.navigator.standalone?f="undefined"!=typeof setImmediate?function(a){setImmediate(a)}:"undefined"!=typeof setTimeout?function(a){setTimeout(a,0)}:h:(f=function(a){var b=document.createElement("div"),c=new MutationObserver(a);return c.observe(b,{attributes:!0}),function(){b.classList.toggle("foo")}},f.isStatic=!0);c.exports=f},{"./util":38}],32:[function(a,b,c){"use strict";b.exports=function(b,c){function d(a){this.constructor$(a)}var e=b.PromiseInspection,f=a("./util.js");f.inherits(d,c),d.prototype._promiseResolved=function(a,b){this._values[a]=b;var c=++this._totalResolved;c>=this._length&&this._resolve(this._values)},d.prototype._promiseFulfilled=function(a,b){var c=new e;c._bitField=268435456,c._settledValue=a,this._promiseResolved(b,c)},d.prototype._promiseRejected=function(a,b){var c=new e;c._bitField=134217728,c._settledValue=a,this._promiseResolved(b,c)},b.settle=function(a){return new d(a).promise()},b.prototype.settle=function(){return new d(this).promise()}}},{"./util.js":38}],33:[function(a,b,c){"use strict";b.exports=function(b,c,d){function e(a){this.constructor$(a),this._howMany=0,this._unwrap=!1,this._initialized=!1}function f(a,b){if((0|b)!==b||0>b)return d("expecting a positive integer\n\n    See http://goo.gl/1wAmHx\n");var c=new e(a),f=c.promise();return c.setHowMany(b),c.init(),f}var g=a("./util.js"),h=a("./errors.js").RangeError,i=a("./errors.js").AggregateError,j=g.isArray;g.inherits(e,c),e.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var a=j(this._values);!this._isResolved()&&a&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},e.prototype.init=function(){this._initialized=!0,this._init()},e.prototype.setUnwrap=function(){this._unwrap=!0},e.prototype.howMany=function(){return this._howMany},e.prototype.setHowMany=function(a){this._howMany=a},e.prototype._promiseFulfilled=function(a){this._addFulfilled(a),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values))},e.prototype._promiseRejected=function(a){if(this._addRejected(a),this.howMany()>this._canPossiblyFulfill()){for(var b=new i,c=this.length();c<this._values.length;++c)b.push(this._values[c]);this._reject(b)}},e.prototype._fulfilled=function(){return this._totalResolved},e.prototype._rejected=function(){return this._values.length-this.length()},e.prototype._addRejected=function(a){this._values.push(a)},e.prototype._addFulfilled=function(a){this._values[this._totalResolved++]=a},e.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},e.prototype._getRangeError=function(a){var b="Input array must contain at least "+this._howMany+" items but contains only "+a+" items";return new h(b)},e.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},b.some=function(a,b){return f(a,b)},b.prototype.some=function(a){return f(this,a)},b._SomePromiseArray=e}},{"./errors.js":13,"./util.js":38}],34:[function(a,b,c){"use strict";b.exports=function(a){function b(a){void 0!==a?(a=a._target(),this._bitField=a._bitField,this._settledValue=a._settledValue):(this._bitField=0,this._settledValue=void 0)}b.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return this._settledValue},b.prototype.error=b.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return this._settledValue},b.prototype.isFulfilled=a.prototype._isFulfilled=function(){return(268435456&this._bitField)>0},b.prototype.isRejected=a.prototype._isRejected=function(){return(134217728&this._bitField)>0},b.prototype.isPending=a.prototype._isPending=function(){return 0===(402653184&this._bitField)},b.prototype.isResolved=a.prototype._isResolved=function(){return(402653184&this._bitField)>0},a.prototype.isPending=function(){return this._target()._isPending()},a.prototype.isRejected=function(){return this._target()._isRejected()},a.prototype.isFulfilled=function(){return this._target()._isFulfilled()},a.prototype.isResolved=function(){return this._target()._isResolved()},a.prototype._value=function(){return this._settledValue},a.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue},a.prototype.value=function(){var a=this._target();if(!a.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return a._settledValue},a.prototype.reason=function(){var a=this._target();if(!a.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return a._unsetRejectionIsUnhandled(),a._settledValue},a.PromiseInspection=b}},{}],35:[function(a,b,c){"use strict";b.exports=function(b,c){function d(a,d){if(j(a)){if(a instanceof b)return a;if(f(a)){var k=new b(c);return a._then(k._fulfillUnchecked,k._rejectUncheckedCheckError,k._progressUnchecked,k,null),k}var l=h.tryCatch(e)(a);if(l===i){d&&d._pushContext();var k=b.reject(l.e);return d&&d._popContext(),k}if("function"==typeof l)return g(a,l,d)}return a}function e(a){return a.then}function f(a){return k.call(a,"_promise0")}function g(a,d,e){function f(a){k&&(k._resolveCallback(a),k=null)}function g(a){k&&(k._rejectCallback(a,m,!0),k=null)}function j(a){k&&"function"==typeof k._progress&&k._progress(a)}var k=new b(c),l=k;e&&e._pushContext(),k._captureStackTrace(),e&&e._popContext();var m=!0,n=h.tryCatch(d).call(a,f,g,j);return m=!1,k&&n===i&&(k._rejectCallback(n.e,!0,!0),k=null),l}var h=a("./util.js"),i=h.errorObj,j=h.isObject,k={}.hasOwnProperty;return d}},{"./util.js":38}],36:[function(a,b,c){"use strict";b.exports=function(b,c){function d(a){var b=this;return b instanceof Number&&(b=+b),clearTimeout(b),a}function e(a){var b=this;throw b instanceof Number&&(b=+b),clearTimeout(b),a}var f=a("./util.js"),g=b.TimeoutError,h=function(a,b){if(a.isPending()){"string"!=typeof b&&(b="operation timed out");var c=new g(b);f.markAsOriginatingFromRejection(c),a._attachExtraTrace(c),a._cancel(c)}},i=function(a){return j(+this).thenReturn(a)},j=b.delay=function(a,d){if(void 0===d){d=a,a=void 0;var e=new b(c);return setTimeout(function(){e._fulfill()},d),e}return d=+d,b.resolve(a)._then(i,null,null,d,void 0)};b.prototype.delay=function(a){return j(this,a)},b.prototype.timeout=function(a,b){a=+a;var c=this.then().cancellable();c._cancellationParent=this;var f=setTimeout(function(){h(c,b)},a);return c._then(d,e,void 0,f,void 0)}}},{"./util.js":38}],37:[function(a,b,c){"use strict";b.exports=function(b,c,d,e){function f(a){for(var c=a.length,d=0;c>d;++d){var e=a[d];if(e.isRejected())return b.reject(e.error());a[d]=e._settledValue}return a}function g(a){setTimeout(function(){throw a},0)}function h(a){var b=d(a);return b!==a&&"function"==typeof a._isDisposable&&"function"==typeof a._getDisposer&&a._isDisposable()&&b._setDisposable(a._getDisposer()),b}function i(a,c){function e(){if(f>=i)return j.resolve();var k=h(a[f++]);if(k instanceof b&&k._isDisposable()){try{k=d(k._getDisposer().tryDispose(c),a.promise)}catch(l){return g(l)}if(k instanceof b)return k._then(e,g,null,null,null)}e()}var f=0,i=a.length,j=b.defer();return e(),j.promise}function j(a){var b=new q;return b._settledValue=a,b._bitField=268435456,i(this,b).thenReturn(a)}function k(a){var b=new q;return b._settledValue=a,b._bitField=134217728,i(this,b).thenThrow(a)}function l(a,b,c){this._data=a,this._promise=b,this._context=c}function m(a,b,c){this.constructor$(a,b,c)}function n(a){return l.isDisposer(a)?(this.resources[this.index]._setDisposable(a),a.promise()):a}var o=a("./errors.js").TypeError,p=a("./util.js").inherits,q=b.PromiseInspection;l.prototype.data=function(){return this._data},l.prototype.promise=function(){return this._promise},l.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():null},l.prototype.tryDispose=function(a){var b=this.resource(),c=this._context;void 0!==c&&c._pushContext();var d=null!==b?this.doDispose(b,a):null;return void 0!==c&&c._popContext(),this._promise._unsetDisposable(),this._data=null,d},l.isDisposer=function(a){return null!=a&&"function"==typeof a.resource&&"function"==typeof a.tryDispose},p(m,l),m.prototype.doDispose=function(a,b){var c=this.data();return c.call(a,a,b)},b.using=function(){var a=arguments.length;if(2>a)return c("you must pass at least 2 arguments to Promise.using");var e=arguments[a-1];if("function"!=typeof e)return c("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var g,h=!0;2===a&&Array.isArray(arguments[0])?(g=arguments[0],a=g.length,h=!1):(g=arguments,a--);for(var i=new Array(a),m=0;a>m;++m){var o=g[m];if(l.isDisposer(o)){var p=o;o=o.promise(),o._setDisposable(p)}else{var q=d(o);q instanceof b&&(o=q._then(n,null,null,{resources:i,index:m},void 0))}i[m]=o}var r=b.settle(i).then(f).then(function(a){r._pushContext();var b;try{b=h?e.apply(void 0,a):e.call(void 0,a)}finally{r._popContext()}return b})._then(j,k,void 0,i,void 0);return i.promise=r,r},b.prototype._setDisposable=function(a){this._bitField=262144|this._bitField,this._disposer=a},b.prototype._isDisposable=function(){return(262144&this._bitField)>0},b.prototype._getDisposer=function(){return this._disposer},b.prototype._unsetDisposable=function(){this._bitField=-262145&this._bitField,this._disposer=void 0},b.prototype.disposer=function(a){if("function"==typeof a)return new m(a,this,e());throw new o}}},{"./errors.js":13,"./util.js":38}],38:[function(b,c,d){"use strict";function e(){try{var a=B;return B=null,a.apply(this,arguments)}catch(b){return A.e=b,A}}function f(a){return B=a,e}function g(a){return null==a||a===!0||a===!1||"string"==typeof a||"number"==typeof a}function h(a){return!g(a)}function i(a){return g(a)?new Error(r(a)):a}function j(a,b){var c,d=a.length,e=new Array(d+1);for(c=0;d>c;++c)e[c]=a[c];return e[c]=b,e}function k(a,b,c){if(!x.isES5)return{}.hasOwnProperty.call(a,b)?a[b]:void 0;var d=Object.getOwnPropertyDescriptor(a,b);return null!=d?null==d.get&&null==d.set?d.value:c:void 0}function l(a,b,c){if(g(a))return a;var d={value:c,configurable:!0,enumerable:!1,writable:!0};return x.defineProperty(a,b,d),a}function m(a){throw a}function n(a){try{if("function"==typeof a){var b=x.names(a.prototype),c=x.isES5&&b.length>1,d=b.length>0&&!(1===b.length&&"constructor"===b[0]),e=E.test(a+"")&&x.names(a).length>0;if(c||d||e)return!0}return!1}catch(f){return!1}}function o(a){function b(){}
b.prototype=a;for(var c=8;c--;)new b;return a}function p(a){return F.test(a)}function q(a,b,c){for(var d=new Array(a),e=0;a>e;++e)d[e]=b+e+c;return d}function r(a){try{return a+""}catch(b){return"[no string representation]"}}function s(a){try{l(a,"isOperational",!0)}catch(b){}}function t(a){return null==a?!1:a instanceof Error.__BluebirdErrorTypes__.OperationalError||a.isOperational===!0}function u(a){return a instanceof Error&&x.propertyIsWritable(a,"stack")}function v(a){return{}.toString.call(a)}function w(a,b,c){for(var d=x.names(a),e=0;e<d.length;++e){var f=d[e];if(c(f))try{x.defineProperty(b,f,x.getDescriptor(a,f))}catch(g){}}}var x=b("./es5.js"),y="undefined"==typeof navigator,z=function(){try{var a={};return x.defineProperty(a,"f",{get:function(){return 3}}),3===a.f}catch(b){return!1}}(),A={e:{}},B,C=function(a,b){function c(){this.constructor=a,this.constructor$=b;for(var c in b.prototype)d.call(b.prototype,c)&&"$"!==c.charAt(c.length-1)&&(this[c+"$"]=b.prototype[c])}var d={}.hasOwnProperty;return c.prototype=b.prototype,a.prototype=new c,a.prototype},D=function(){var a=[Array.prototype,Object.prototype,Function.prototype],b=function(b){for(var c=0;c<a.length;++c)if(a[c]===b)return!0;return!1};if(x.isES5){var c=Object.getOwnPropertyNames;return function(a){for(var d=[],e=Object.create(null);null!=a&&!b(a);){var f;try{f=c(a)}catch(g){return d}for(var h=0;h<f.length;++h){var i=f[h];if(!e[i]){e[i]=!0;var j=Object.getOwnPropertyDescriptor(a,i);null!=j&&null==j.get&&null==j.set&&d.push(i)}}a=x.getPrototypeOf(a)}return d}}var d={}.hasOwnProperty;return function(c){if(b(c))return[];var e=[];a:for(var f in c)if(d.call(c,f))e.push(f);else{for(var g=0;g<a.length;++g)if(d.call(a[g],f))continue a;e.push(f)}return e}}(),E=/this\s*\.\s*\S+\s*=/,F=/^[a-z$_][a-z$_0-9]*$/i,G=function(){return"stack"in new Error?function(a){return u(a)?a:new Error(r(a))}:function(a){if(u(a))return a;try{throw new Error(r(a))}catch(b){return b}}}(),H={isClass:n,isIdentifier:p,inheritedDataKeys:D,getDataPropertyOrDefault:k,thrower:m,isArray:x.isArray,haveGetters:z,notEnumerableProp:l,isPrimitive:g,isObject:h,canEvaluate:y,errorObj:A,tryCatch:f,inherits:C,withAppended:j,maybeWrapAsError:i,toFastProperties:o,filledRange:q,toString:r,canAttachTrace:u,ensureErrorObject:G,originatesFromRejection:t,markAsOriginatingFromRejection:s,classString:v,copyDescriptors:w,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:"undefined"!=typeof a&&"[object process]"===v(a).toLowerCase()};H.isRecentNode=H.isNode&&function(){var b=a.versions.node.split(".").map(Number);return 0===b[0]&&b[1]>10||b[0]>0}(),H.isNode&&H.toFastProperties(a);try{throw new Error}catch(I){H.lastLineError=I}c.exports=H},{"./es5.js":14}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:110}],105:[function(a,b,c){b.exports=function(a){return a.charAt(0).toUpperCase()+a.substring(1)},b.exports.words=function(a){return a.replace(/(^|[^a-zA-Z\u00C0-\u017F'])([a-zA-Z\u00C0-\u017F])/g,function(a){return a.toUpperCase()})}},{}],106:[function(a,b,c){function d(a){e.call(this),a=a||{},this.states=a.states||["default"],this.currentState=a.defaultState||this.states[0],this.history=[],this.configs={},this.events=[];var b=this;this.on("transition",function(a){b.events.forEach(function(c){c.from===a.from&&c.to===a.to&&b.emit(c.event)})})}var e=a("events").EventEmitter;d.prototype=Object.create(e.prototype),d.prototype.setState=function(a){var b=this.currentState;if(!this._validate(b,a))return!1;this.history.push({state:b,args:this.currentArgs});var c=arguments.length>1?[].slice.call(arguments,1):null;return this.currentArgs=c,this.currentState=a,this._emit(b,a,c),!0},d.prototype.back=function(){if(!this.history.length)return!1;var a=this.history[this.history.length-1],b=this.currentState,c=a.state,d=a.args;return this._validate(b,c)?(this.history.pop(),this.currentState=c,this.currentArgs=d,this._emit(b,c,d,!0),!0):!1},d.prototype.lock=function(){this.locked=!0},d.prototype.unlock=function(){this.locked=!1},d.prototype.config=function(a,b){b.to=b.to||{},b.from=b.from||{},this.configs[a]=b},d.prototype.register=function(a,b){this.events.push({event:a,from:b.from,to:b.to})},d.prototype._emit=function(a,b,c,d){var e={from:a,to:b,args:c,back:d};this.emit("transition",e),this.emit("leave:"+a,e),this.emit("enter:"+b,e)},d.prototype._validate=function(a,b){if(!(this.locked||a===b||this.states.indexOf(b)<0)){var c=this.configs[a];if(c)if(c.to.only){if(c.to.only.indexOf(b)<0)return}else if(c.to.exclude&&c.to.exclude.indexOf(b)>-1)return;var d=this.configs[b];if(d)if(d.from.only){if(d.from.only.indexOf(a)<0)return}else if(d.from.exclude&&d.from.exclude.indexOf(a)>-1)return;return!0}},b.exports=d},{events:108}],107:[function(a,b,c){arguments[4][97][0].apply(c,arguments)},{dup:97}],108:[function(a,b,c){function d(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function e(a){return"function"==typeof a}function f(a){return"number"==typeof a}function g(a){return"object"==typeof a&&null!==a}function h(a){return void 0===a}b.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._maxListeners=void 0,d.defaultMaxListeners=10,d.prototype.setMaxListeners=function(a){if(!f(a)||0>a||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},d.prototype.emit=function(a){var b,c,d,f,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||g(this._events.error)&&!this._events.error.length)){if(b=arguments[1],b instanceof Error)throw b;throw TypeError('Uncaught, unspecified "error" event.')}if(c=this._events[a],h(c))return!1;if(e(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(d=arguments.length,f=new Array(d-1),i=1;d>i;i++)f[i-1]=arguments[i];c.apply(this,f)}else if(g(c)){for(d=arguments.length,f=new Array(d-1),i=1;d>i;i++)f[i-1]=arguments[i];for(j=c.slice(),d=j.length,i=0;d>i;i++)j[i].apply(this,f)}return!0},d.prototype.addListener=function(a,b){var c;if(!e(b))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,e(b.listener)?b.listener:b),this._events[a]?g(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,g(this._events[a])&&!this._events[a].warned){var c;c=h(this._maxListeners)?d.defaultMaxListeners:this._maxListeners,c&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace())}return this},d.prototype.on=d.prototype.addListener,d.prototype.once=function(a,b){function c(){this.removeListener(a,c),d||(d=!0,b.apply(this,arguments))}if(!e(b))throw TypeError("listener must be a function");var d=!1;return c.listener=b,this.on(a,c),this},d.prototype.removeListener=function(a,b){var c,d,f,h;if(!e(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],f=c.length,d=-1,c===b||e(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(g(c)){for(h=f;h-->0;)if(c[h]===b||c[h].listener&&c[h].listener===b){d=h;break}if(0>d)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(d,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},d.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],e(c))this.removeListener(a,c);else for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},d.prototype.listeners=function(a){var b;return b=this._events&&this._events[a]?e(this._events[a])?[this._events[a]]:this._events[a].slice():[]},d.listenerCount=function(a,b){var c;return c=a._events&&a._events[b]?e(a._events[b])?1:a._events[b].length:0}},{}],109:[function(a,b,c){(function(a){function b(a,b){for(var c=0,d=a.length-1;d>=0;d--){var e=a[d];"."===e?a.splice(d,1):".."===e?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c--;c)a.unshift("..");return a}function d(a,b){if(a.filter)return a.filter(b);for(var c=[],d=0;d<a.length;d++)b(a[d],d,a)&&c.push(a[d]);return c}var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,f=function(a){return e.exec(a).slice(1)};c.resolve=function(){for(var c="",e=!1,f=arguments.length-1;f>=-1&&!e;f--){var g=f>=0?arguments[f]:a.cwd();if("string"!=typeof g)throw new TypeError("Arguments to path.resolve must be strings");g&&(c=g+"/"+c,e="/"===g.charAt(0))}return c=b(d(c.split("/"),function(a){return!!a}),!e).join("/"),(e?"/":"")+c||"."},c.normalize=function(a){var e=c.isAbsolute(a),f="/"===g(a,-1);return a=b(d(a.split("/"),function(a){return!!a}),!e).join("/"),a||e||(a="."),a&&f&&(a+="/"),(e?"/":"")+a},c.isAbsolute=function(a){return"/"===a.charAt(0)},c.join=function(){var a=Array.prototype.slice.call(arguments,0);return c.normalize(d(a,function(a,b){if("string"!=typeof a)throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))},c.relative=function(a,b){function d(a){for(var b=0;b<a.length&&""===a[b];b++);for(var c=a.length-1;c>=0&&""===a[c];c--);return b>c?[]:a.slice(b,c-b+1)}a=c.resolve(a).substr(1),b=c.resolve(b).substr(1);for(var e=d(a.split("/")),f=d(b.split("/")),g=Math.min(e.length,f.length),h=g,i=0;g>i;i++)if(e[i]!==f[i]){h=i;break}for(var j=[],i=h;i<e.length;i++)j.push("..");return j=j.concat(f.slice(h)),j.join("/")},c.sep="/",c.delimiter=":",c.dirname=function(a){var b=f(a),c=b[0],d=b[1];return c||d?(d&&(d=d.substr(0,d.length-1)),c+d):"."},c.basename=function(a,b){var c=f(a)[2];return b&&c.substr(-1*b.length)===b&&(c=c.substr(0,c.length-b.length)),c},c.extname=function(a){return f(a)[3]};var g="b"==="ab".substr(-1)?function(a,b,c){return a.substr(b,c)}:function(a,b,c){return 0>b&&(b=a.length+b),a.substr(b,c)}}).call(this,a("_process"))},{_process:110}],110:[function(a,b,c){function d(){k=!1,h.length?j=h.concat(j):l=-1,j.length&&e()}function e(){if(!k){var a=setTimeout(d);k=!0;for(var b=j.length;b;){for(h=j,j=[];++l<b;)h&&h[l].run();l=-1,b=j.length}h=null,k=!1,clearTimeout(a)}}function f(a,b){this.fun=a,this.array=b}function g(){}var h,i=b.exports={},j=[],k=!1,l=-1;i.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];j.push(new f(a,b)),1!==j.length||k||setTimeout(e,0)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.binding=function(a){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(a){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],111:[function(a,b,c){(function(a){!function(d){function e(a){throw RangeError(H[a])}function f(a,b){for(var c=a.length,d=[];c--;)d[c]=b(a[c]);return d}function g(a,b){var c=a.split("@"),d="";c.length>1&&(d=c[0]+"@",a=c[1]),a=a.replace(G,".");var e=a.split("."),g=f(e,b).join(".");return d+g}function h(a){for(var b,c,d=[],e=0,f=a.length;f>e;)b=a.charCodeAt(e++),b>=55296&&56319>=b&&f>e?(c=a.charCodeAt(e++),56320==(64512&c)?d.push(((1023&b)<<10)+(1023&c)+65536):(d.push(b),e--)):d.push(b);return d}function i(a){return f(a,function(a){var b="";return a>65535&&(a-=65536,b+=K(a>>>10&1023|55296),a=56320|1023&a),b+=K(a)}).join("")}function j(a){return 10>a-48?a-22:26>a-65?a-65:26>a-97?a-97:w}function k(a,b){return a+22+75*(26>a)-((0!=b)<<5)}function l(a,b,c){var d=0;for(a=c?J(a/A):a>>1,a+=J(a/b);a>I*y>>1;d+=w)a=J(a/I);return J(d+(I+1)*a/(a+z))}function m(a){var b,c,d,f,g,h,k,m,n,o,p=[],q=a.length,r=0,s=C,t=B;for(c=a.lastIndexOf(D),0>c&&(c=0),d=0;c>d;++d)a.charCodeAt(d)>=128&&e("not-basic"),p.push(a.charCodeAt(d));for(f=c>0?c+1:0;q>f;){for(g=r,h=1,k=w;f>=q&&e("invalid-input"),m=j(a.charCodeAt(f++)),(m>=w||m>J((v-r)/h))&&e("overflow"),r+=m*h,n=t>=k?x:k>=t+y?y:k-t,!(n>m);k+=w)o=w-n,h>J(v/o)&&e("overflow"),h*=o;b=p.length+1,t=l(r-g,b,0==g),J(r/b)>v-s&&e("overflow"),s+=J(r/b),r%=b,p.splice(r++,0,s)}return i(p)}function n(a){var b,c,d,f,g,i,j,m,n,o,p,q,r,s,t,u=[];for(a=h(a),q=a.length,b=C,c=0,g=B,i=0;q>i;++i)p=a[i],128>p&&u.push(K(p));for(d=f=u.length,f&&u.push(D);q>d;){for(j=v,i=0;q>i;++i)p=a[i],p>=b&&j>p&&(j=p);for(r=d+1,j-b>J((v-c)/r)&&e("overflow"),c+=(j-b)*r,b=j,i=0;q>i;++i)if(p=a[i],b>p&&++c>v&&e("overflow"),p==b){for(m=c,n=w;o=g>=n?x:n>=g+y?y:n-g,!(o>m);n+=w)t=m-o,s=w-o,u.push(K(k(o+t%s,0))),m=J(t/s);u.push(K(k(m,0))),g=l(c,r,d==f),c=0,++d}++c,++b}return u.join("")}function o(a){return g(a,function(a){return E.test(a)?m(a.slice(4).toLowerCase()):a})}function p(a){return g(a,function(a){return F.test(a)?"xn--"+n(a):a})}var q="object"==typeof c&&c&&!c.nodeType&&c,r="object"==typeof b&&b&&!b.nodeType&&b,s="object"==typeof a&&a;(s.global===s||s.window===s||s.self===s)&&(d=s);var t,u,v=2147483647,w=36,x=1,y=26,z=38,A=700,B=72,C=128,D="-",E=/^xn--/,F=/[^\x20-\x7E]/,G=/[\x2E\u3002\uFF0E\uFF61]/g,H={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},I=w-x,J=Math.floor,K=String.fromCharCode;if(t={version:"1.3.2",ucs2:{decode:h,encode:i},decode:m,encode:n,toASCII:p,toUnicode:o},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return t});else if(q&&r)if(b.exports==q)r.exports=t;else for(u in t)t.hasOwnProperty(u)&&(q[u]=t[u]);else d.punycode=t}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],112:[function(a,b,c){"use strict";function d(a,b){return Object.prototype.hasOwnProperty.call(a,b)}b.exports=function(a,b,c,f){b=b||"&",c=c||"=";var g={};if("string"!=typeof a||0===a.length)return g;var h=/\+/g;a=a.split(b);var i=1e3;f&&"number"==typeof f.maxKeys&&(i=f.maxKeys);var j=a.length;i>0&&j>i&&(j=i);for(var k=0;j>k;++k){var l,m,n,o,p=a[k].replace(h,"%20"),q=p.indexOf(c);q>=0?(l=p.substr(0,q),m=p.substr(q+1)):(l=p,m=""),n=decodeURIComponent(l),o=decodeURIComponent(m),d(g,n)?e(g[n])?g[n].push(o):g[n]=[g[n],o]:g[n]=o}return g};var e=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}},{}],113:[function(a,b,c){"use strict";function d(a,b){if(a.map)return a.map(b);for(var c=[],d=0;d<a.length;d++)c.push(b(a[d],d));return c}var e=function(a){switch(typeof a){case"string":return a;case"boolean":return a?"true":"false";case"number":return isFinite(a)?a:"";default:return""}};b.exports=function(a,b,c,h){return b=b||"&",c=c||"=",null===a&&(a=void 0),"object"==typeof a?d(g(a),function(g){var h=encodeURIComponent(e(g))+c;return f(a[g])?d(a[g],function(a){return h+encodeURIComponent(e(a))}).join(b):h+encodeURIComponent(e(a[g]))}).join(b):h?encodeURIComponent(e(h))+c+encodeURIComponent(e(a)):""};var f=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},g=Object.keys||function(a){var b=[];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b}},{}],114:[function(a,b,c){"use strict";c.decode=c.parse=a("./decode"),c.encode=c.stringify=a("./encode")},{"./decode":112,"./encode":113}],115:[function(a,b,c){function d(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function e(a,b,c){if(a&&j(a)&&a instanceof d)return a;var e=new d;return e.parse(a,b,c),e}function f(a){return i(a)&&(a=e(a)),a instanceof d?a.format():d.prototype.format.call(a)}function g(a,b){return e(a,!1,!0).resolve(b)}function h(a,b){return a?e(a,!1,!0).resolveObject(b):b}function i(a){return"string"==typeof a}function j(a){return"object"==typeof a&&null!==a}function k(a){return null===a}function l(a){return null==a}var m=a("punycode");c.parse=e,c.resolve=g,c.resolveObject=h,c.format=f,c.Url=d;var n=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,p=["<",">",'"',"`"," ","\r","\n","	"],q=["{","}","|","\\","^","`"].concat(p),r=["'"].concat(q),s=["%","/","?",";","#"].concat(r),t=["/","?","#"],u=255,v=/^[a-z0-9A-Z_-]{0,63}$/,w=/^([a-z0-9A-Z_-]{0,63})(.*)$/,x={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},z={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},A=a("querystring");d.prototype.parse=function(a,b,c){if(!i(a))throw new TypeError("Parameter 'url' must be a string, not "+typeof a);var d=a;d=d.trim();var e=n.exec(d);if(e){e=e[0];var f=e.toLowerCase();this.protocol=f,d=d.substr(e.length)}if(c||e||d.match(/^\/\/[^@\/]+@[^@\/]+/)){var g="//"===d.substr(0,2);!g||e&&y[e]||(d=d.substr(2),this.slashes=!0)}if(!y[e]&&(g||e&&!z[e])){for(var h=-1,j=0;j<t.length;j++){var k=d.indexOf(t[j]);-1!==k&&(-1===h||h>k)&&(h=k)}var l,o;o=-1===h?d.lastIndexOf("@"):d.lastIndexOf("@",h),-1!==o&&(l=d.slice(0,o),d=d.slice(o+1),this.auth=decodeURIComponent(l)),h=-1;for(var j=0;j<s.length;j++){var k=d.indexOf(s[j]);-1!==k&&(-1===h||h>k)&&(h=k)}-1===h&&(h=d.length),this.host=d.slice(0,h),d=d.slice(h),this.parseHost(),this.hostname=this.hostname||"";var p="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!p)for(var q=this.hostname.split(/\./),j=0,B=q.length;B>j;j++){var C=q[j];if(C&&!C.match(v)){for(var D="",E=0,F=C.length;F>E;E++)D+=C.charCodeAt(E)>127?"x":C[E];if(!D.match(v)){var G=q.slice(0,j),H=q.slice(j+1),I=C.match(w);I&&(G.push(I[1]),H.unshift(I[2])),H.length&&(d="/"+H.join(".")+d),this.hostname=G.join(".");break}}}if(this.hostname.length>u?this.hostname="":this.hostname=this.hostname.toLowerCase(),!p){for(var J=this.hostname.split("."),K=[],j=0;j<J.length;++j){var L=J[j];K.push(L.match(/[^A-Za-z0-9_-]/)?"xn--"+m.encode(L):L)}this.hostname=K.join(".")}var M=this.port?":"+this.port:"",N=this.hostname||"";this.host=N+M,this.href+=this.host,p&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==d[0]&&(d="/"+d))}if(!x[f])for(var j=0,B=r.length;B>j;j++){var O=r[j],P=encodeURIComponent(O);P===O&&(P=escape(O)),d=d.split(O).join(P)}var Q=d.indexOf("#");-1!==Q&&(this.hash=d.substr(Q),d=d.slice(0,Q));var R=d.indexOf("?");if(-1!==R?(this.search=d.substr(R),this.query=d.substr(R+1),b&&(this.query=A.parse(this.query)),d=d.slice(0,R)):b&&(this.search="",this.query={}),d&&(this.pathname=d),z[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var M=this.pathname||"",L=this.search||"";this.path=M+L}return this.href=this.format(),this},d.prototype.format=function(){var a=this.auth||"";a&&(a=encodeURIComponent(a),a=a.replace(/%3A/i,":"),a+="@");var b=this.protocol||"",c=this.pathname||"",d=this.hash||"",e=!1,f="";this.host?e=a+this.host:this.hostname&&(e=a+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(e+=":"+this.port)),this.query&&j(this.query)&&Object.keys(this.query).length&&(f=A.stringify(this.query));var g=this.search||f&&"?"+f||"";return b&&":"!==b.substr(-1)&&(b+=":"),this.slashes||(!b||z[b])&&e!==!1?(e="//"+(e||""),c&&"/"!==c.charAt(0)&&(c="/"+c)):e||(e=""),d&&"#"!==d.charAt(0)&&(d="#"+d),g&&"?"!==g.charAt(0)&&(g="?"+g),c=c.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),g=g.replace("#","%23"),b+e+c+g+d},d.prototype.resolve=function(a){return this.resolveObject(e(a,!1,!0)).format()},d.prototype.resolveObject=function(a){if(i(a)){var b=new d;b.parse(a,!1,!0),a=b}var c=new d;if(Object.keys(this).forEach(function(a){c[a]=this[a]},this),c.hash=a.hash,""===a.href)return c.href=c.format(),c;if(a.slashes&&!a.protocol)return Object.keys(a).forEach(function(b){"protocol"!==b&&(c[b]=a[b])}),z[c.protocol]&&c.hostname&&!c.pathname&&(c.path=c.pathname="/"),c.href=c.format(),c;if(a.protocol&&a.protocol!==c.protocol){if(!z[a.protocol])return Object.keys(a).forEach(function(b){c[b]=a[b]}),c.href=c.format(),c;if(c.protocol=a.protocol,a.host||y[a.protocol])c.pathname=a.pathname;else{for(var e=(a.pathname||"").split("/");e.length&&!(a.host=e.shift()););a.host||(a.host=""),a.hostname||(a.hostname=""),""!==e[0]&&e.unshift(""),e.length<2&&e.unshift(""),c.pathname=e.join("/")}if(c.search=a.search,c.query=a.query,c.host=a.host||"",c.auth=a.auth,c.hostname=a.hostname||a.host,c.port=a.port,c.pathname||c.search){var f=c.pathname||"",g=c.search||"";c.path=f+g}return c.slashes=c.slashes||a.slashes,c.href=c.format(),c}var h=c.pathname&&"/"===c.pathname.charAt(0),j=a.host||a.pathname&&"/"===a.pathname.charAt(0),m=j||h||c.host&&a.pathname,n=m,o=c.pathname&&c.pathname.split("/")||[],e=a.pathname&&a.pathname.split("/")||[],p=c.protocol&&!z[c.protocol];if(p&&(c.hostname="",c.port=null,c.host&&(""===o[0]?o[0]=c.host:o.unshift(c.host)),c.host="",a.protocol&&(a.hostname=null,a.port=null,a.host&&(""===e[0]?e[0]=a.host:e.unshift(a.host)),a.host=null),m=m&&(""===e[0]||""===o[0])),j)c.host=a.host||""===a.host?a.host:c.host,c.hostname=a.hostname||""===a.hostname?a.hostname:c.hostname,c.search=a.search,c.query=a.query,o=e;else if(e.length)o||(o=[]),o.pop(),o=o.concat(e),c.search=a.search,c.query=a.query;else if(!l(a.search)){if(p){c.hostname=c.host=o.shift();var q=c.host&&c.host.indexOf("@")>0?c.host.split("@"):!1;q&&(c.auth=q.shift(),c.host=c.hostname=q.shift())}return c.search=a.search,c.query=a.query,k(c.pathname)&&k(c.search)||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.href=c.format(),c}if(!o.length)return c.pathname=null,c.search?c.path="/"+c.search:c.path=null,c.href=c.format(),c;for(var r=o.slice(-1)[0],s=(c.host||a.host)&&("."===r||".."===r)||""===r,t=0,u=o.length;u>=0;u--)r=o[u],"."==r?o.splice(u,1):".."===r?(o.splice(u,1),t++):t&&(o.splice(u,1),t--);if(!m&&!n)for(;t--;t)o.unshift("..");!m||""===o[0]||o[0]&&"/"===o[0].charAt(0)||o.unshift(""),s&&"/"!==o.join("/").substr(-1)&&o.push("");var v=""===o[0]||o[0]&&"/"===o[0].charAt(0);if(p){c.hostname=c.host=v?"":o.length?o.shift():"";var q=c.host&&c.host.indexOf("@")>0?c.host.split("@"):!1;q&&(c.auth=q.shift(),c.host=c.hostname=q.shift())}return m=m||c.host&&o.length,m&&!v&&o.unshift(""),o.length?c.pathname=o.join("/"):(c.pathname=null,c.path=null),k(c.pathname)&&k(c.search)||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.auth=a.auth||c.auth,c.slashes=c.slashes||a.slashes,c.href=c.format(),c},d.prototype.parseHost=function(){var a=this.host,b=o.exec(a);b&&(b=b[0],":"!==b&&(this.port=b.substr(1)),a=a.substr(0,a.length-b.length)),a&&(this.hostname=a)}},{punycode:111,querystring:114}],116:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(){var a=r();return a.compile=function(b,c){return k.compile(b,c,a)},a.precompile=function(b,c){return k.precompile(b,c,a)},a.AST=i["default"],a.Compiler=k.Compiler,a.JavaScriptCompiler=m["default"],a.Parser=j.parser,a.parse=j.parse,a}c.__esModule=!0;var f=a("./handlebars.runtime"),g=d(f),h=a("./handlebars/compiler/ast"),i=d(h),j=a("./handlebars/compiler/base"),k=a("./handlebars/compiler/compiler"),l=a("./handlebars/compiler/javascript-compiler"),m=d(l),n=a("./handlebars/compiler/visitor"),o=d(n),p=a("./handlebars/no-conflict"),q=d(p),r=g["default"].create,s=e();s.create=e,q["default"](s),s.Visitor=o["default"],s["default"]=s,c["default"]=s,b.exports=c["default"]},{"./handlebars.runtime":117,"./handlebars/compiler/ast":119,"./handlebars/compiler/base":120,"./handlebars/compiler/compiler":122,"./handlebars/compiler/javascript-compiler":124,"./handlebars/compiler/visitor":127,"./handlebars/no-conflict":141}],117:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function f(){var a=new h.HandlebarsEnvironment;return n.extend(a,h),a.SafeString=j["default"],a.Exception=l["default"],a.Utils=n,a.escapeExpression=n.escapeExpression,a.VM=p,a.template=function(b){return p.template(b,a)},a}c.__esModule=!0;var g=a("./handlebars/base"),h=e(g),i=a("./handlebars/safe-string"),j=d(i),k=a("./handlebars/exception"),l=d(k),m=a("./handlebars/utils"),n=e(m),o=a("./handlebars/runtime"),p=e(o),q=a("./handlebars/no-conflict"),r=d(q),s=f();s.create=f,r["default"](s),s["default"]=s,c["default"]=s,b.exports=c["default"]},{"./handlebars/base":118,"./handlebars/exception":131,"./handlebars/no-conflict":141,"./handlebars/runtime":142,"./handlebars/safe-string":143,"./handlebars/utils":144}],118:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b,c){this.helpers=a||{},this.partials=b||{},this.decorators=c||{},i.registerDefaultHelpers(this),j.registerDefaultDecorators(this)}c.__esModule=!0,c.HandlebarsEnvironment=e;var f=a("./utils"),g=a("./exception"),h=d(g),i=a("./helpers"),j=a("./decorators"),k=a("./logger"),l=d(k),m="4.0.2";c.VERSION=m;var n=7;c.COMPILER_REVISION=n;var o={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};c.REVISION_CHANGES=o;var p="[object Object]";e.prototype={constructor:e,logger:l["default"],log:l["default"].log,registerHelper:function(a,b){if(f.toString.call(a)===p){if(b)throw new h["default"]("Arg not supported with multiple helpers");f.extend(this.helpers,a)}else this.helpers[a]=b},unregisterHelper:function(a){delete this.helpers[a]},registerPartial:function(a,b){if(f.toString.call(a)===p)f.extend(this.partials,a);else{if("undefined"==typeof b)throw new h["default"]("Attempting to register a partial as undefined");this.partials[a]=b}},unregisterPartial:function(a){delete this.partials[a]},registerDecorator:function(a,b){if(f.toString.call(a)===p){if(b)throw new h["default"]("Arg not supported with multiple decorators");f.extend(this.decorators,a)}else this.decorators[a]=b},unregisterDecorator:function(a){delete this.decorators[a]}};var q=l["default"].log;c.log=q,c.createFrame=f.createFrame,c.logger=l["default"]},{"./decorators":129,"./exception":131,"./helpers":132,"./logger":140,"./utils":144}],119:[function(a,b,c){"use strict";c.__esModule=!0;var d={helpers:{helperExpression:function(a){return"SubExpression"===a.type||("MustacheStatement"===a.type||"BlockStatement"===a.type)&&!!(a.params&&a.params.length||a.hash)},scopedId:function(a){return/^\.|this\b/.test(a.original)},simpleId:function(a){return 1===a.parts.length&&!d.helpers.scopedId(a)&&!a.depth}}};c["default"]=d,b.exports=c["default"]},{}],120:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if("Program"===a.type)return a;h["default"].yy=n,n.locInfo=function(a){return new n.SourceLocation(b&&b.srcName,a)};var c=new j["default"](b);return c.accept(h["default"].parse(a))}c.__esModule=!0,c.parse=f;var g=a("./parser"),h=e(g),i=a("./whitespace-control"),j=e(i),k=a("./helpers"),l=d(k),m=a("../utils");c.parser=h["default"];var n={};m.extend(n,l)},{"../utils":144,"./helpers":123,"./parser":125,"./whitespace-control":128}],121:[function(a,b,c){"use strict";function d(a,b,c){if(f.isArray(a)){for(var d=[],e=0,g=a.length;g>e;e++)d.push(b.wrap(a[e],c));return d}return"boolean"==typeof a||"number"==typeof a?a+"":a}function e(a){this.srcFile=a,this.source=[]}c.__esModule=!0;var f=a("../utils"),g=void 0;try{if("function"!=typeof define||!define.amd){var h=a("source-map");g=h.SourceNode}}catch(i){}g||(g=function(a,b,c,d){this.src="",d&&this.add(d)},g.prototype={add:function(a){f.isArray(a)&&(a=a.join("")),this.src+=a},prepend:function(a){f.isArray(a)&&(a=a.join("")),this.src=a+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),e.prototype={isEmpty:function(){return!this.source.length},prepend:function(a,b){this.source.unshift(this.wrap(a,b))},push:function(a,b){this.source.push(this.wrap(a,b))},merge:function(){var a=this.empty();return this.each(function(b){a.add(["  ",b,"\n"])}),a},each:function(a){for(var b=0,c=this.source.length;c>b;b++)a(this.source[b])},empty:function(){var a=this.currentLocation||{start:{}};return new g(a.start.line,a.start.column,this.srcFile)},wrap:function(a){var b=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return a instanceof g?a:(a=d(a,this,b),new g(b.start.line,b.start.column,this.srcFile,a))},functionCall:function(a,b,c){return c=this.generateList(c),this.wrap([a,b?"."+b+"(":"(",c,")"])},quotedString:function(a){return'"'+(a+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(a){var b=[];for(var c in a)if(a.hasOwnProperty(c)){var e=d(a[c],this);"undefined"!==e&&b.push([this.quotedString(c),":",e])}var f=this.generateList(b);return f.prepend("{"),f.add("}"),f},generateList:function(a){for(var b=this.empty(),c=0,e=a.length;e>c;c++)c&&b.add(","),b.add(d(a[c],this));return b},generateArray:function(a){var b=this.generateList(a);return b.prepend("["),b.add("]"),b}},c["default"]=e,b.exports=c["default"]},{"../utils":144,"source-map":146}],122:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(){}function f(a,b,c){if(null==a||"string"!=typeof a&&"Program"!==a.type)throw new k["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+a);b=b||{},"data"in b||(b.data=!0),b.compat&&(b.useDepths=!0);var d=c.parse(a,b),e=(new c.Compiler).compile(d,b);return(new c.JavaScriptCompiler).compile(e,b)}function g(a,b,c){function d(){var d=c.parse(a,b),e=(new c.Compiler).compile(d,b),f=(new c.JavaScriptCompiler).compile(e,b,void 0,!0);return c.template(f)}function e(a,b){return f||(f=d()),f.call(this,a,b)}if(void 0===b&&(b={}),null==a||"string"!=typeof a&&"Program"!==a.type)throw new k["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+a);"data"in b||(b.data=!0),b.compat&&(b.useDepths=!0);var f=void 0;return e._setup=function(a){return f||(f=d()),f._setup(a)},e._child=function(a,b,c,e){return f||(f=d()),f._child(a,b,c,e)},e}function h(a,b){if(a===b)return!0;if(l.isArray(a)&&l.isArray(b)&&a.length===b.length){for(var c=0;c<a.length;c++)if(!h(a[c],b[c]))return!1;return!0}}function i(a){if(!a.path.parts){var b=a.path;a.path={type:"PathExpression",data:!1,depth:0,parts:[b.original+""],original:b.original+"",loc:b.loc}}}c.__esModule=!0,c.Compiler=e,c.precompile=f,c.compile=g;var j=a("../exception"),k=d(j),l=a("../utils"),m=a("./ast"),n=d(m),o=[].slice;e.prototype={compiler:e,equals:function(a){var b=this.opcodes.length;if(a.opcodes.length!==b)return!1;for(var c=0;b>c;c++){var d=this.opcodes[c],e=a.opcodes[c];if(d.opcode!==e.opcode||!h(d.args,e.args))return!1}b=this.children.length;for(var c=0;b>c;c++)if(!this.children[c].equals(a.children[c]))return!1;return!0},guid:0,compile:function(a,b){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=b,this.stringParams=b.stringParams,this.trackIds=b.trackIds,b.blockParams=b.blockParams||[];var c=b.knownHelpers;if(b.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,
"with":!0,log:!0,lookup:!0},c)for(var d in c)d in c&&(b.knownHelpers[d]=c[d]);return this.accept(a)},compileProgram:function(a){var b=new this.compiler,c=b.compile(a,this.options),d=this.guid++;return this.usePartial=this.usePartial||c.usePartial,this.children[d]=c,this.useDepths=this.useDepths||c.useDepths,d},accept:function(a){if(!this[a.type])throw new k["default"]("Unknown type: "+a.type,a);this.sourceNode.unshift(a);var b=this[a.type](a);return this.sourceNode.shift(),b},Program:function(a){this.options.blockParams.unshift(a.blockParams);for(var b=a.body,c=b.length,d=0;c>d;d++)this.accept(b[d]);return this.options.blockParams.shift(),this.isSimple=1===c,this.blockParams=a.blockParams?a.blockParams.length:0,this},BlockStatement:function(a){i(a);var b=a.program,c=a.inverse;b=b&&this.compileProgram(b),c=c&&this.compileProgram(c);var d=this.classifySexpr(a);"helper"===d?this.helperSexpr(a,b,c):"simple"===d?(this.simpleSexpr(a),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("emptyHash"),this.opcode("blockValue",a.path.original)):(this.ambiguousSexpr(a,b,c),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(a){var b=a.program&&this.compileProgram(a.program),c=this.setupFullMustacheParams(a,b,void 0),d=a.path;this.useDecorators=!0,this.opcode("registerDecorator",c.length,d.original)},PartialStatement:function(a){this.usePartial=!0;var b=a.program;b&&(b=this.compileProgram(a.program));var c=a.params;if(c.length>1)throw new k["default"]("Unsupported number of partial arguments: "+c.length,a);c.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):c.push({type:"PathExpression",parts:[],depth:0}));var d=a.name.original,e="SubExpression"===a.name.type;e&&this.accept(a.name),this.setupFullMustacheParams(a,b,void 0,!0);var f=a.indent||"";this.options.preventIndent&&f&&(this.opcode("appendContent",f),f=""),this.opcode("invokePartial",e,d,f),this.opcode("append")},PartialBlockStatement:function(a){this.PartialStatement(a)},MustacheStatement:function(a){this.SubExpression(a),a.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(a){this.DecoratorBlock(a)},ContentStatement:function(a){a.value&&this.opcode("appendContent",a.value)},CommentStatement:function(){},SubExpression:function(a){i(a);var b=this.classifySexpr(a);"simple"===b?this.simpleSexpr(a):"helper"===b?this.helperSexpr(a):this.ambiguousSexpr(a)},ambiguousSexpr:function(a,b,c){var d=a.path,e=d.parts[0],f=null!=b||null!=c;this.opcode("getContext",d.depth),this.opcode("pushProgram",b),this.opcode("pushProgram",c),d.strict=!0,this.accept(d),this.opcode("invokeAmbiguous",e,f)},simpleSexpr:function(a){var b=a.path;b.strict=!0,this.accept(b),this.opcode("resolvePossibleLambda")},helperSexpr:function(a,b,c){var d=this.setupFullMustacheParams(a,b,c),e=a.path,f=e.parts[0];if(this.options.knownHelpers[f])this.opcode("invokeKnownHelper",d.length,f);else{if(this.options.knownHelpersOnly)throw new k["default"]("You specified knownHelpersOnly, but used the unknown helper "+f,a);e.strict=!0,e.falsy=!0,this.accept(e),this.opcode("invokeHelper",d.length,e.original,n["default"].helpers.simpleId(e))}},PathExpression:function(a){this.addDepth(a.depth),this.opcode("getContext",a.depth);var b=a.parts[0],c=n["default"].helpers.scopedId(a),d=!a.depth&&!c&&this.blockParamIndex(b);d?this.opcode("lookupBlockParam",d,a.parts):b?a.data?(this.options.data=!0,this.opcode("lookupData",a.depth,a.parts,a.strict)):this.opcode("lookupOnContext",a.parts,a.falsy,a.strict,c):this.opcode("pushContext")},StringLiteral:function(a){this.opcode("pushString",a.value)},NumberLiteral:function(a){this.opcode("pushLiteral",a.value)},BooleanLiteral:function(a){this.opcode("pushLiteral",a.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(a){var b=a.pairs,c=0,d=b.length;for(this.opcode("pushHash");d>c;c++)this.pushParam(b[c].value);for(;c--;)this.opcode("assignToHash",b[c].key);this.opcode("popHash")},opcode:function(a){this.opcodes.push({opcode:a,args:o.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(a){a&&(this.useDepths=!0)},classifySexpr:function(a){var b=n["default"].helpers.simpleId(a.path),c=b&&!!this.blockParamIndex(a.path.parts[0]),d=!c&&n["default"].helpers.helperExpression(a),e=!c&&(d||b);if(e&&!d){var f=a.path.parts[0],g=this.options;g.knownHelpers[f]?d=!0:g.knownHelpersOnly&&(e=!1)}return d?"helper":e?"ambiguous":"simple"},pushParams:function(a){for(var b=0,c=a.length;c>b;b++)this.pushParam(a[b])},pushParam:function(a){var b=null!=a.value?a.value:a.original||"";if(this.stringParams)b.replace&&(b=b.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),a.depth&&this.addDepth(a.depth),this.opcode("getContext",a.depth||0),this.opcode("pushStringParam",b,a.type),"SubExpression"===a.type&&this.accept(a);else{if(this.trackIds){var c=void 0;if(!a.parts||n["default"].helpers.scopedId(a)||a.depth||(c=this.blockParamIndex(a.parts[0])),c){var d=a.parts.slice(1).join(".");this.opcode("pushId","BlockParam",c,d)}else b=a.original||b,b.replace&&(b=b.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",a.type,b)}this.accept(a)}},setupFullMustacheParams:function(a,b,c,d){var e=a.params;return this.pushParams(e),this.opcode("pushProgram",b),this.opcode("pushProgram",c),a.hash?this.accept(a.hash):this.opcode("emptyHash",d),e},blockParamIndex:function(a){for(var b=0,c=this.options.blockParams.length;c>b;b++){var d=this.options.blockParams[b],e=d&&l.indexOf(d,a);if(d&&e>=0)return[b,e]}}}},{"../exception":131,"../utils":144,"./ast":119}],123:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(b=b.path?b.path.original:b,a.path.original!==b){var c={loc:a.path.loc};throw new q["default"](a.path.original+" doesn't match "+b,c)}}function f(a,b){this.source=a,this.start={line:b.first_line,column:b.first_column},this.end={line:b.last_line,column:b.last_column}}function g(a){return/^\[.*\]$/.test(a)?a.substr(1,a.length-2):a}function h(a,b){return{open:"~"===a.charAt(2),close:"~"===b.charAt(b.length-3)}}function i(a){return a.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function j(a,b,c){c=this.locInfo(c);for(var d=a?"@":"",e=[],f=0,g="",h=0,i=b.length;i>h;h++){var j=b[h].part,k=b[h].original!==j;if(d+=(b[h].separator||"")+j,k||".."!==j&&"."!==j&&"this"!==j)e.push(j);else{if(e.length>0)throw new q["default"]("Invalid path: "+d,{loc:c});".."===j&&(f++,g+="../")}}return{type:"PathExpression",data:a,depth:f,parts:e,original:d,loc:c}}function k(a,b,c,d,e,f){var g=d.charAt(3)||d.charAt(2),h="{"!==g&&"&"!==g,i=/\*/.test(d);return{type:i?"Decorator":"MustacheStatement",path:a,params:b,hash:c,escaped:h,strip:e,loc:this.locInfo(f)}}function l(a,b,c,d){e(a,c),d=this.locInfo(d);var f={type:"Program",body:b,strip:{},loc:d};return{type:"BlockStatement",path:a.path,params:a.params,hash:a.hash,program:f,openStrip:{},inverseStrip:{},closeStrip:{},loc:d}}function m(a,b,c,d,f,g){d&&d.path&&e(a,d);var h=/\*/.test(a.open);b.blockParams=a.blockParams;var i=void 0,j=void 0;if(c){if(h)throw new q["default"]("Unexpected inverse block on decorator",c);c.chain&&(c.program.body[0].closeStrip=d.strip),j=c.strip,i=c.program}return f&&(f=i,i=b,b=f),{type:h?"DecoratorBlock":"BlockStatement",path:a.path,params:a.params,hash:a.hash,program:b,inverse:i,openStrip:a.strip,inverseStrip:j,closeStrip:d&&d.strip,loc:this.locInfo(g)}}function n(a,b){if(!b&&a.length){var c=a[0].loc,d=a[a.length-1].loc;c&&d&&(b={source:c.source,start:{line:c.start.line,column:c.start.column},end:{line:d.end.line,column:d.end.column}})}return{type:"Program",body:a,strip:{},loc:b}}function o(a,b,c,d){return e(a,c),{type:"PartialBlockStatement",name:a.path,params:a.params,hash:a.hash,program:b,openStrip:a.strip,closeStrip:c&&c.strip,loc:this.locInfo(d)}}c.__esModule=!0,c.SourceLocation=f,c.id=g,c.stripFlags=h,c.stripComment=i,c.preparePath=j,c.prepareMustache=k,c.prepareRawBlock=l,c.prepareBlock=m,c.prepareProgram=n,c.preparePartialBlock=o;var p=a("../exception"),q=d(p)},{"../exception":131}],124:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){this.value=a}function f(){}function g(a,b,c,d){var e=b.popStack(),f=0,g=c.length;for(a&&g--;g>f;f++)e=b.nameLookup(e,c[f],d);return a?[b.aliasable("container.strict"),"(",e,", ",b.quotedString(c[f]),")"]:e}c.__esModule=!0;var h=a("../base"),i=a("../exception"),j=d(i),k=a("../utils"),l=a("./code-gen"),m=d(l);f.prototype={nameLookup:function(a,b){return f.isValidJavaScriptVariableName(b)?[a,".",b]:[a,"[",JSON.stringify(b),"]"]},depthedLookup:function(a){return[this.aliasable("container.lookup"),'(depths, "',a,'")']},compilerInfo:function(){var a=h.COMPILER_REVISION,b=h.REVISION_CHANGES[a];return[a,b]},appendToBuffer:function(a,b,c){return k.isArray(a)||(a=[a]),a=this.source.wrap(a,b),this.environment.isSimple?["return ",a,";"]:c?["buffer += ",a,";"]:(a.appendToBuffer=!0,a)},initializeBuffer:function(){return this.quotedString("")},compile:function(a,b,c,d){this.environment=a,this.options=b,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!d,this.name=this.environment.name,this.isChild=!!c,this.context=c||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(a,b),this.useDepths=this.useDepths||a.useDepths||a.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||a.useBlockParams;var e=a.opcodes,f=void 0,g=void 0,h=void 0,i=void 0;for(h=0,i=e.length;i>h;h++)f=e[h],this.source.currentLocation=f.loc,g=g||f.loc,this[f.opcode].apply(this,f.args);if(this.source.currentLocation=g,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new j["default"]("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),d?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var k=this.createFunctionContext(d);if(this.isChild)return k;var l={compiler:this.compilerInfo(),main:k};this.decorators&&(l.main_d=this.decorators,l.useDecorators=!0);var m=this.context,n=m.programs,o=m.decorators;for(h=0,i=n.length;i>h;h++)n[h]&&(l[h]=n[h],o[h]&&(l[h+"_d"]=o[h],l.useDecorators=!0));return this.environment.usePartial&&(l.usePartial=!0),this.options.data&&(l.useData=!0),this.useDepths&&(l.useDepths=!0),this.useBlockParams&&(l.useBlockParams=!0),this.options.compat&&(l.compat=!0),d?l.compilerOptions=this.options:(l.compiler=JSON.stringify(l.compiler),this.source.currentLocation={start:{line:1,column:0}},l=this.objectLiteral(l),b.srcName?(l=l.toStringWithSourceMap({file:b.destName}),l.map=l.map&&l.map.toString()):l=l.toString()),l},preamble:function(){this.lastContext=0,this.source=new m["default"](this.options.srcName),this.decorators=new m["default"](this.options.srcName)},createFunctionContext:function(a){var b="",c=this.stackVars.concat(this.registers.list);c.length>0&&(b+=", "+c.join(", "));var d=0;for(var e in this.aliases){var f=this.aliases[e];this.aliases.hasOwnProperty(e)&&f.children&&f.referenceCount>1&&(b+=", alias"+ ++d+"="+e,f.children[0]="alias"+d)}var g=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&g.push("blockParams"),this.useDepths&&g.push("depths");var h=this.mergeSource(b);return a?(g.push(h),Function.apply(this,g)):this.source.wrap(["function(",g.join(","),") {\n  ",h,"}"])},mergeSource:function(a){var b=this.environment.isSimple,c=!this.forceBuffer,d=void 0,e=void 0,f=void 0,g=void 0;return this.source.each(function(a){a.appendToBuffer?(f?a.prepend("  + "):f=a,g=a):(f&&(e?f.prepend("buffer += "):d=!0,g.add(";"),f=g=void 0),e=!0,b||(c=!1))}),c?f?(f.prepend("return "),g.add(";")):e||this.source.push('return "";'):(a+=", buffer = "+(d?"":this.initializeBuffer()),f?(f.prepend("return buffer + "),g.add(";")):this.source.push("return buffer;")),a&&this.source.prepend("var "+a.substring(2)+(d?"":";\n")),this.source.merge()},blockValue:function(a){var b=this.aliasable("helpers.blockHelperMissing"),c=[this.contextName(0)];this.setupHelperArgs(a,0,c);var d=this.popStack();c.splice(1,0,d),this.push(this.source.functionCall(b,"call",c))},ambiguousBlockValue:function(){var a=this.aliasable("helpers.blockHelperMissing"),b=[this.contextName(0)];this.setupHelperArgs("",0,b,!0),this.flushInline();var c=this.topStack();b.splice(1,0,c),this.pushSource(["if (!",this.lastHelper,") { ",c," = ",this.source.functionCall(a,"call",b),"}"])},appendContent:function(a){this.pendingContent?a=this.pendingContent+a:this.pendingLocation=this.source.currentLocation,this.pendingContent=a},append:function(){if(this.isInline())this.replaceStack(function(a){return[" != null ? ",a,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var a=this.popStack();this.pushSource(["if (",a," != null) { ",this.appendToBuffer(a,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(a){this.lastContext=a},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(a,b,c,d){var e=0;d||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(a[e++])),this.resolvePath("context",a,e,b,c)},lookupBlockParam:function(a,b){this.useBlockParams=!0,this.push(["blockParams[",a[0],"][",a[1],"]"]),this.resolvePath("context",b,1)},lookupData:function(a,b,c){a?this.pushStackLiteral("container.data(data, "+a+")"):this.pushStackLiteral("data"),this.resolvePath("data",b,0,!0,c)},resolvePath:function(a,b,c,d,e){var f=this;if(this.options.strict||this.options.assumeObjects)return void this.push(g(this.options.strict&&e,this,b,a));for(var h=b.length;h>c;c++)this.replaceStack(function(e){var g=f.nameLookup(e,b[c],a);return d?[" && ",g]:[" != null ? ",g," : ",e]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(a,b){this.pushContext(),this.pushString(b),"SubExpression"!==b&&("string"==typeof a?this.pushString(a):this.pushStackLiteral(a))},emptyHash:function(a){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(a?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var a=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(a.ids)),this.stringParams&&(this.push(this.objectLiteral(a.contexts)),this.push(this.objectLiteral(a.types))),this.push(this.objectLiteral(a.values))},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){null!=a?this.pushStackLiteral(this.programExpression(a)):this.pushStackLiteral(null)},registerDecorator:function(a,b){var c=this.nameLookup("decorators",b,"decorator"),d=this.setupHelperArgs(b,a);this.decorators.push(["fn = ",this.decorators.functionCall(c,"",["fn","props","container",d])," || fn;"])},invokeHelper:function(a,b,c){var d=this.popStack(),e=this.setupHelper(a,b),f=c?[e.name," || "]:"",g=["("].concat(f,d);this.options.strict||g.push(" || ",this.aliasable("helpers.helperMissing")),g.push(")"),this.push(this.source.functionCall(g,"call",e.callParams))},invokeKnownHelper:function(a,b){var c=this.setupHelper(a,b);this.push(this.source.functionCall(c.name,"call",c.callParams))},invokeAmbiguous:function(a,b){this.useRegister("helper");var c=this.popStack();this.emptyHash();var d=this.setupHelper(0,a,b),e=this.lastHelper=this.nameLookup("helpers",a,"helper"),f=["(","(helper = ",e," || ",c,")"];this.options.strict||(f[0]="(helper = ",f.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",f,d.paramsInit?["),(",d.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",d.callParams)," : helper))"])},invokePartial:function(a,b,c){var d=[],e=this.setupParams(b,1,d);a&&(b=this.popStack(),delete e.name),c&&(e.indent=JSON.stringify(c)),e.helpers="helpers",e.partials="partials",e.decorators="container.decorators",a?d.unshift(b):d.unshift(this.nameLookup("partials",b,"partial")),this.options.compat&&(e.depths="depths"),e=this.objectLiteral(e),d.push(e),this.push(this.source.functionCall("container.invokePartial","",d))},assignToHash:function(a){var b=this.popStack(),c=void 0,d=void 0,e=void 0;this.trackIds&&(e=this.popStack()),this.stringParams&&(d=this.popStack(),c=this.popStack());var f=this.hash;c&&(f.contexts[a]=c),d&&(f.types[a]=d),e&&(f.ids[a]=e),f.values[a]=b},pushId:function(a,b,c){"BlockParam"===a?this.pushStackLiteral("blockParams["+b[0]+"].path["+b[1]+"]"+(c?" + "+JSON.stringify("."+c):"")):"PathExpression"===a?this.pushString(b):"SubExpression"===a?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:f,compileChildren:function(a,b){for(var c=a.children,d=void 0,e=void 0,f=0,g=c.length;g>f;f++){d=c[f],e=new this.compiler;var h=this.matchExistingProgram(d);null==h?(this.context.programs.push(""),h=this.context.programs.length,d.index=h,d.name="program"+h,this.context.programs[h]=e.compile(d,b,this.context,!this.precompile),this.context.decorators[h]=e.decorators,this.context.environments[h]=d,this.useDepths=this.useDepths||e.useDepths,this.useBlockParams=this.useBlockParams||e.useBlockParams):(d.index=h,d.name="program"+h,this.useDepths=this.useDepths||d.useDepths,this.useBlockParams=this.useBlockParams||d.useBlockParams)}},matchExistingProgram:function(a){for(var b=0,c=this.context.environments.length;c>b;b++){var d=this.context.environments[b];if(d&&d.equals(a))return b}},programExpression:function(a){var b=this.environment.children[a],c=[b.index,"data",b.blockParams];return(this.useBlockParams||this.useDepths)&&c.push("blockParams"),this.useDepths&&c.push("depths"),"container.program("+c.join(", ")+")"},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},push:function(a){return a instanceof e||(a=this.source.wrap(a)),this.inlineStack.push(a),a},pushStackLiteral:function(a){this.push(new e(a))},pushSource:function(a){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),a&&this.source.push(a)},replaceStack:function(a){var b=["("],c=void 0,d=void 0,f=void 0;if(!this.isInline())throw new j["default"]("replaceStack on non-inline");var g=this.popStack(!0);if(g instanceof e)c=[g.value],b=["(",c],f=!0;else{d=!0;var h=this.incrStack();b=["((",this.push(h)," = ",g,")"],c=this.topStack()}var i=a.call(this,c);f||this.popStack(),d&&this.stackSlot--,this.push(b.concat(i,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var a=this.inlineStack;this.inlineStack=[];for(var b=0,c=a.length;c>b;b++){var d=a[b];if(d instanceof e)this.compileStack.push(d);else{var f=this.incrStack();this.pushSource([f," = ",d,";"]),this.compileStack.push(f)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var b=this.isInline(),c=(b?this.inlineStack:this.compileStack).pop();if(!a&&c instanceof e)return c.value;if(!b){if(!this.stackSlot)throw new j["default"]("Invalid stack pop");this.stackSlot--}return c},topStack:function(){var a=this.isInline()?this.inlineStack:this.compileStack,b=a[a.length-1];return b instanceof e?b.value:b},contextName:function(a){return this.useDepths&&a?"depths["+a+"]":"depth"+a},quotedString:function(a){return this.source.quotedString(a)},objectLiteral:function(a){return this.source.objectLiteral(a)},aliasable:function(a){var b=this.aliases[a];return b?(b.referenceCount++,b):(b=this.aliases[a]=this.source.wrap(a),b.aliasable=!0,b.referenceCount=1,b)},setupHelper:function(a,b,c){var d=[],e=this.setupHelperArgs(b,a,d,c),f=this.nameLookup("helpers",b,"helper");return{params:d,paramsInit:e,name:f,callParams:[this.contextName(0)].concat(d)}},setupParams:function(a,b,c){var d={},e=[],f=[],g=[],h=!c,i=void 0;h&&(c=[]),d.name=this.quotedString(a),d.hash=this.popStack(),this.trackIds&&(d.hashIds=this.popStack()),this.stringParams&&(d.hashTypes=this.popStack(),d.hashContexts=this.popStack());var j=this.popStack(),k=this.popStack();(k||j)&&(d.fn=k||"container.noop",d.inverse=j||"container.noop");for(var l=b;l--;)i=this.popStack(),c[l]=i,this.trackIds&&(g[l]=this.popStack()),this.stringParams&&(f[l]=this.popStack(),e[l]=this.popStack());return h&&(d.args=this.source.generateArray(c)),this.trackIds&&(d.ids=this.source.generateArray(g)),this.stringParams&&(d.types=this.source.generateArray(f),d.contexts=this.source.generateArray(e)),this.options.data&&(d.data="data"),this.useBlockParams&&(d.blockParams="blockParams"),d},setupHelperArgs:function(a,b,c,d){var e=this.setupParams(a,b,c);return e=this.objectLiteral(e),d?(this.useRegister("options"),c.push("options"),["options=",e]):c?(c.push(e),""):e}},function(){for(var a="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),b=f.RESERVED_WORDS={},c=0,d=a.length;d>c;c++)b[a[c]]=!0}(),f.isValidJavaScriptVariableName=function(a){return!f.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(a)},c["default"]=f,b.exports=c["default"]},{"../base":118,"../exception":131,"../utils":144,"./code-gen":121}],125:[function(a,b,c){"use strict";var d=function(){function a(){this.yy={}}var b={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(a,b,c,d,e,f,g){var h=f.length-1;switch(e){case 1:return f[h-1];case 2:this.$=d.prepareProgram(f[h]);break;case 3:this.$=f[h];break;case 4:this.$=f[h];break;case 5:this.$=f[h];break;case 6:this.$=f[h];break;case 7:this.$=f[h];break;case 8:this.$=f[h];break;case 9:this.$={type:"CommentStatement",value:d.stripComment(f[h]),strip:d.stripFlags(f[h],f[h]),loc:d.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:f[h],value:f[h],loc:d.locInfo(this._$)};break;case 11:this.$=d.prepareRawBlock(f[h-2],f[h-1],f[h],this._$);break;case 12:this.$={path:f[h-3],params:f[h-2],hash:f[h-1]};break;case 13:this.$=d.prepareBlock(f[h-3],f[h-2],f[h-1],f[h],!1,this._$);break;case 14:this.$=d.prepareBlock(f[h-3],f[h-2],f[h-1],f[h],!0,this._$);break;case 15:this.$={open:f[h-5],path:f[h-4],params:f[h-3],hash:f[h-2],blockParams:f[h-1],strip:d.stripFlags(f[h-5],f[h])};break;case 16:this.$={path:f[h-4],params:f[h-3],hash:f[h-2],blockParams:f[h-1],strip:d.stripFlags(f[h-5],f[h])};break;case 17:this.$={path:f[h-4],params:f[h-3],hash:f[h-2],blockParams:f[h-1],strip:d.stripFlags(f[h-5],f[h])};break;case 18:this.$={strip:d.stripFlags(f[h-1],f[h-1]),program:f[h]};break;case 19:var i=d.prepareBlock(f[h-2],f[h-1],f[h],f[h],!1,this._$),j=d.prepareProgram([i],f[h-1].loc);j.chained=!0,this.$={strip:f[h-2].strip,program:j,chain:!0};break;case 20:this.$=f[h];break;case 21:this.$={path:f[h-1],strip:d.stripFlags(f[h-2],f[h])};break;case 22:this.$=d.prepareMustache(f[h-3],f[h-2],f[h-1],f[h-4],d.stripFlags(f[h-4],f[h]),this._$);break;case 23:this.$=d.prepareMustache(f[h-3],f[h-2],f[h-1],f[h-4],d.stripFlags(f[h-4],f[h]),this._$);break;case 24:this.$={type:"PartialStatement",name:f[h-3],params:f[h-2],hash:f[h-1],indent:"",strip:d.stripFlags(f[h-4],f[h]),loc:d.locInfo(this._$)};break;case 25:this.$=d.preparePartialBlock(f[h-2],f[h-1],f[h],this._$);break;case 26:this.$={path:f[h-3],params:f[h-2],hash:f[h-1],strip:d.stripFlags(f[h-4],f[h])};break;case 27:this.$=f[h];break;case 28:this.$=f[h];break;case 29:this.$={type:"SubExpression",path:f[h-3],params:f[h-2],hash:f[h-1],loc:d.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:f[h],loc:d.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:d.id(f[h-2]),value:f[h],loc:d.locInfo(this._$)};break;case 32:this.$=d.id(f[h-1]);break;case 33:this.$=f[h];break;case 34:this.$=f[h];break;case 35:this.$={type:"StringLiteral",value:f[h],original:f[h],loc:d.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(f[h]),original:Number(f[h]),loc:d.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===f[h],original:"true"===f[h],loc:d.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:d.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:d.locInfo(this._$)};break;case 40:this.$=f[h];break;case 41:this.$=f[h];break;case 42:this.$=d.preparePath(!0,f[h],this._$);break;case 43:this.$=d.preparePath(!1,f[h],this._$);break;case 44:f[h-2].push({part:d.id(f[h]),original:f[h],separator:f[h-1]}),this.$=f[h-2];break;case 45:this.$=[{part:d.id(f[h]),original:f[h]}];break;case 46:this.$=[];break;case 47:f[h-1].push(f[h]);break;case 48:this.$=[f[h]];break;case 49:f[h-1].push(f[h]);break;case 50:this.$=[];break;case 51:f[h-1].push(f[h]);break;case 58:this.$=[];break;case 59:f[h-1].push(f[h]);break;case 64:this.$=[];break;case 65:f[h-1].push(f[h]);break;case 70:this.$=[];break;case 71:f[h-1].push(f[h]);break;case 78:this.$=[];break;case 79:f[h-1].push(f[h]);break;case 82:this.$=[];break;case 83:f[h-1].push(f[h]);break;case 86:this.$=[];break;case 87:f[h-1].push(f[h]);break;case 90:this.$=[];break;case 91:f[h-1].push(f[h]);break;case 94:this.$=[];break;case 95:f[h-1].push(f[h]);break;case 98:this.$=[f[h]];break;case 99:f[h-1].push(f[h]);break;case 100:this.$=[f[h]];break;case 101:f[h-1].push(f[h])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],
83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(a,b){throw new Error(a)},parse:function(a){function b(){var a;return a=c.lexer.lex()||1,"number"!=typeof a&&(a=c.symbols_[a]||a),a}var c=this,d=[0],e=[null],f=[],g=this.table,h="",i=0,j=0,k=0;this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var l=this.lexer.yylloc;f.push(l);var m=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var n,o,p,q,r,s,t,u,v,w={};;){if(p=d[d.length-1],this.defaultActions[p]?q=this.defaultActions[p]:((null===n||"undefined"==typeof n)&&(n=b()),q=g[p]&&g[p][n]),"undefined"==typeof q||!q.length||!q[0]){var x="";if(!k){v=[];for(s in g[p])this.terminals_[s]&&s>2&&v.push("'"+this.terminals_[s]+"'");x=this.lexer.showPosition?"Parse error on line "+(i+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+v.join(", ")+", got '"+(this.terminals_[n]||n)+"'":"Parse error on line "+(i+1)+": Unexpected "+(1==n?"end of input":"'"+(this.terminals_[n]||n)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[n]||n,line:this.lexer.yylineno,loc:l,expected:v})}}if(q[0]instanceof Array&&q.length>1)throw new Error("Parse Error: multiple actions possible at state: "+p+", token: "+n);switch(q[0]){case 1:d.push(n),e.push(this.lexer.yytext),f.push(this.lexer.yylloc),d.push(q[1]),n=null,o?(n=o,o=null):(j=this.lexer.yyleng,h=this.lexer.yytext,i=this.lexer.yylineno,l=this.lexer.yylloc,k>0&&k--);break;case 2:if(t=this.productions_[q[1]][1],w.$=e[e.length-t],w._$={first_line:f[f.length-(t||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(t||1)].first_column,last_column:f[f.length-1].last_column},m&&(w._$.range=[f[f.length-(t||1)].range[0],f[f.length-1].range[1]]),r=this.performAction.call(w,h,j,i,this.yy,q[1],e,f),"undefined"!=typeof r)return r;t&&(d=d.slice(0,-1*t*2),e=e.slice(0,-1*t),f=f.slice(0,-1*t)),d.push(this.productions_[q[1]][0]),e.push(w.$),f.push(w._$),u=g[d[d.length-2]][d[d.length-1]],d.push(u);break;case 3:return!0}}return!0}},c=function(){var a={EOF:1,parseError:function(a,b){if(!this.yy.parser)throw new Error(a);this.yy.parser.parseError(a,b)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a;var b=a.match(/(?:\r\n?|\n).*/g);return b?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b-1),this.offset-=b;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this},more:function(){return this._more=!0,this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=new Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d,e;this._more||(this.yytext="",this.match="");for(var f=this._currentRules(),g=0;g<f.length&&(c=this._input.match(this.rules[f[g]]),!c||b&&!(c[0].length>b[0].length)||(b=c,d=g,this.options.flex));g++);return b?(e=b[0].match(/(?:\r\n?|\n).*/g),e&&(this.yylineno+=e.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],a=this.performAction.call(this,this.yy,this,f[d],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),a?a:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return"undefined"!=typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return a.options={},a.performAction=function(a,b,c,d){function e(a,c){return b.yytext=b.yytext.substr(a,b.yyleng-c)}switch(c){case 0:if("\\\\"===b.yytext.slice(-2)?(e(0,1),this.begin("mu")):"\\"===b.yytext.slice(-1)?(e(0,1),this.begin("emu")):this.begin("mu"),b.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(b.yytext=b.yytext.substr(5,b.yyleng-9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(b.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return b.yytext=e(1,2).replace(/\\"/g,'"'),80;case 32:return b.yytext=e(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return 72;case 43:return"INVALID";case 44:return 5}},a.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],a.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},a}();return b.lexer=c,a.prototype=b,b.Parser=a,new a}();c.__esModule=!0,c["default"]=d},{}],126:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(new f).accept(a)}function f(){this.padding=0}c.__esModule=!0,c.print=e,c.PrintVisitor=f;var g=a("./visitor"),h=d(g);f.prototype=new h["default"],f.prototype.pad=function(a){for(var b="",c=0,d=this.padding;d>c;c++)b+="  ";return b+=a+"\n"},f.prototype.Program=function(a){var b="",c=a.body,d=void 0,e=void 0;if(a.blockParams){var f="BLOCK PARAMS: [";for(d=0,e=a.blockParams.length;e>d;d++)f+=" "+a.blockParams[d];f+=" ]",b+=this.pad(f)}for(d=0,e=c.length;e>d;d++)b+=this.accept(c[d]);return this.padding--,b},f.prototype.MustacheStatement=function(a){return this.pad("{{ "+this.SubExpression(a)+" }}")},f.prototype.Decorator=function(a){return this.pad("{{ DIRECTIVE "+this.SubExpression(a)+" }}")},f.prototype.BlockStatement=f.prototype.DecoratorBlock=function(a){var b="";return b+=this.pad(("DecoratorBlock"===a.type?"DIRECTIVE ":"")+"BLOCK:"),this.padding++,b+=this.pad(this.SubExpression(a)),a.program&&(b+=this.pad("PROGRAM:"),this.padding++,b+=this.accept(a.program),this.padding--),a.inverse&&(a.program&&this.padding++,b+=this.pad("{{^}}"),this.padding++,b+=this.accept(a.inverse),this.padding--,a.program&&this.padding--),this.padding--,b},f.prototype.PartialStatement=function(a){var b="PARTIAL:"+a.name.original;return a.params[0]&&(b+=" "+this.accept(a.params[0])),a.hash&&(b+=" "+this.accept(a.hash)),this.pad("{{> "+b+" }}")},f.prototype.PartialBlockStatement=function(a){var b="PARTIAL BLOCK:"+a.name.original;return a.params[0]&&(b+=" "+this.accept(a.params[0])),a.hash&&(b+=" "+this.accept(a.hash)),b+=" "+this.pad("PROGRAM:"),this.padding++,b+=this.accept(a.program),this.padding--,this.pad("{{> "+b+" }}")},f.prototype.ContentStatement=function(a){return this.pad("CONTENT[ '"+a.value+"' ]")},f.prototype.CommentStatement=function(a){return this.pad("{{! '"+a.value+"' }}")},f.prototype.SubExpression=function(a){for(var b=a.params,c=[],d=void 0,e=0,f=b.length;f>e;e++)c.push(this.accept(b[e]));return b="["+c.join(", ")+"]",d=a.hash?" "+this.accept(a.hash):"",this.accept(a.path)+" "+b+d},f.prototype.PathExpression=function(a){var b=a.parts.join("/");return(a.data?"@":"")+"PATH:"+b},f.prototype.StringLiteral=function(a){return'"'+a.value+'"'},f.prototype.NumberLiteral=function(a){return"NUMBER{"+a.value+"}"},f.prototype.BooleanLiteral=function(a){return"BOOLEAN{"+a.value+"}"},f.prototype.UndefinedLiteral=function(){return"UNDEFINED"},f.prototype.NullLiteral=function(){return"NULL"},f.prototype.Hash=function(a){for(var b=a.pairs,c=[],d=0,e=b.length;e>d;d++)c.push(this.accept(b[d]));return"HASH{"+c.join(", ")+"}"},f.prototype.HashPair=function(a){return a.key+"="+this.accept(a.value)}},{"./visitor":127}],127:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(){this.parents=[]}function f(a){this.acceptRequired(a,"path"),this.acceptArray(a.params),this.acceptKey(a,"hash")}function g(a){f.call(this,a),this.acceptKey(a,"program"),this.acceptKey(a,"inverse")}function h(a){this.acceptRequired(a,"name"),this.acceptArray(a.params),this.acceptKey(a,"hash")}c.__esModule=!0;var i=a("../exception"),j=d(i);e.prototype={constructor:e,mutating:!1,acceptKey:function(a,b){var c=this.accept(a[b]);if(this.mutating){if(c&&!e.prototype[c.type])throw new j["default"]('Unexpected node type "'+c.type+'" found when accepting '+b+" on "+a.type);a[b]=c}},acceptRequired:function(a,b){if(this.acceptKey(a,b),!a[b])throw new j["default"](a.type+" requires "+b)},acceptArray:function(a){for(var b=0,c=a.length;c>b;b++)this.acceptKey(a,b),a[b]||(a.splice(b,1),b--,c--)},accept:function(a){if(a){if(!this[a.type])throw new j["default"]("Unknown type: "+a.type,a);this.current&&this.parents.unshift(this.current),this.current=a;var b=this[a.type](a);return this.current=this.parents.shift(),!this.mutating||b?b:b!==!1?a:void 0}},Program:function(a){this.acceptArray(a.body)},MustacheStatement:f,Decorator:f,BlockStatement:g,DecoratorBlock:g,PartialStatement:h,PartialBlockStatement:function(a){h.call(this,a),this.acceptKey(a,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:f,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(a){this.acceptArray(a.pairs)},HashPair:function(a){this.acceptRequired(a,"value")}},c["default"]=e,b.exports=c["default"]},{"../exception":131}],128:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=a}function f(a,b,c){void 0===b&&(b=a.length);var d=a[b-1],e=a[b-2];return d?"ContentStatement"===d.type?(e||!c?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(d.original):void 0:c}function g(a,b,c){void 0===b&&(b=-1);var d=a[b+1],e=a[b+2];return d?"ContentStatement"===d.type?(e||!c?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(d.original):void 0:c}function h(a,b,c){var d=a[null==b?0:b+1];if(d&&"ContentStatement"===d.type&&(c||!d.rightStripped)){var e=d.value;d.value=d.value.replace(c?/^\s+/:/^[ \t]*\r?\n?/,""),d.rightStripped=d.value!==e}}function i(a,b,c){var d=a[null==b?a.length-1:b-1];if(d&&"ContentStatement"===d.type&&(c||!d.leftStripped)){var e=d.value;return d.value=d.value.replace(c?/\s+$/:/[ \t]+$/,""),d.leftStripped=d.value!==e,d.leftStripped}}c.__esModule=!0;var j=a("./visitor"),k=d(j);e.prototype=new k["default"],e.prototype.Program=function(a){var b=!this.options.ignoreStandalone,c=!this.isRootSeen;this.isRootSeen=!0;for(var d=a.body,e=0,j=d.length;j>e;e++){var k=d[e],l=this.accept(k);if(l){var m=f(d,e,c),n=g(d,e,c),o=l.openStandalone&&m,p=l.closeStandalone&&n,q=l.inlineStandalone&&m&&n;l.close&&h(d,e,!0),l.open&&i(d,e,!0),b&&q&&(h(d,e),i(d,e)&&"PartialStatement"===k.type&&(k.indent=/([ \t]+$)/.exec(d[e-1].original)[1])),b&&o&&(h((k.program||k.inverse).body),i(d,e)),b&&p&&(h(d,e),i((k.inverse||k.program).body))}}return a},e.prototype.BlockStatement=e.prototype.DecoratorBlock=e.prototype.PartialBlockStatement=function(a){this.accept(a.program),this.accept(a.inverse);var b=a.program||a.inverse,c=a.program&&a.inverse,d=c,e=c;if(c&&c.chained)for(d=c.body[0].program;e.chained;)e=e.body[e.body.length-1].program;var j={open:a.openStrip.open,close:a.closeStrip.close,openStandalone:g(b.body),closeStandalone:f((d||b).body)};if(a.openStrip.close&&h(b.body,null,!0),c){var k=a.inverseStrip;k.open&&i(b.body,null,!0),k.close&&h(d.body,null,!0),a.closeStrip.open&&i(e.body,null,!0),!this.options.ignoreStandalone&&f(b.body)&&g(d.body)&&(i(b.body),h(d.body))}else a.closeStrip.open&&i(b.body,null,!0);return j},e.prototype.Decorator=e.prototype.MustacheStatement=function(a){return a.strip},e.prototype.PartialStatement=e.prototype.CommentStatement=function(a){var b=a.strip||{};return{inlineStandalone:!0,open:b.open,close:b.close}},c["default"]=e,b.exports=c["default"]},{"./visitor":127}],129:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){g["default"](a)}c.__esModule=!0,c.registerDefaultDecorators=e;var f=a("./decorators/inline"),g=d(f)},{"./decorators/inline":130}],130:[function(a,b,c){"use strict";c.__esModule=!0;var d=a("../utils");c["default"]=function(a){a.registerDecorator("inline",function(a,b,c,e){var f=a;return b.partials||(b.partials={},f=function(e,f){var g=c.partials;c.partials=d.extend({},g,b.partials);var h=a(e,f);return c.partials=g,h}),b.partials[e.args[0]]=e.fn,f})},b.exports=c["default"]},{"../utils":144}],131:[function(a,b,c){"use strict";function d(a,b){var c=b&&b.loc,f=void 0,g=void 0;c&&(f=c.start.line,g=c.start.column,a+=" - "+f+":"+g);for(var h=Error.prototype.constructor.call(this,a),i=0;i<e.length;i++)this[e[i]]=h[e[i]];Error.captureStackTrace&&Error.captureStackTrace(this,d),c&&(this.lineNumber=f,this.column=g)}c.__esModule=!0;var e=["description","fileName","lineNumber","message","name","number","stack"];d.prototype=new Error,c["default"]=d,b.exports=c["default"]},{}],132:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){g["default"](a),i["default"](a),k["default"](a),m["default"](a),o["default"](a),q["default"](a),s["default"](a)}c.__esModule=!0,c.registerDefaultHelpers=e;var f=a("./helpers/block-helper-missing"),g=d(f),h=a("./helpers/each"),i=d(h),j=a("./helpers/helper-missing"),k=d(j),l=a("./helpers/if"),m=d(l),n=a("./helpers/log"),o=d(n),p=a("./helpers/lookup"),q=d(p),r=a("./helpers/with"),s=d(r)},{"./helpers/block-helper-missing":133,"./helpers/each":134,"./helpers/helper-missing":135,"./helpers/if":136,"./helpers/log":137,"./helpers/lookup":138,"./helpers/with":139}],133:[function(a,b,c){"use strict";c.__esModule=!0;var d=a("../utils");c["default"]=function(a){a.registerHelper("blockHelperMissing",function(b,c){var e=c.inverse,f=c.fn;if(b===!0)return f(this);if(b===!1||null==b)return e(this);if(d.isArray(b))return b.length>0?(c.ids&&(c.ids=[c.name]),a.helpers.each(b,c)):e(this);if(c.data&&c.ids){var g=d.createFrame(c.data);g.contextPath=d.appendContextPath(c.data.contextPath,c.name),c={data:g}}return f(b,c)})},b.exports=c["default"]},{"../utils":144}],134:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}c.__esModule=!0;var e=a("../utils"),f=a("../exception"),g=d(f);c["default"]=function(a){a.registerHelper("each",function(a,b){function c(b,c,f){null!=a[b]&&(j&&(j.key=b,j.index=c,j.first=0===c,j.last=!!f,k&&(j.contextPath=k+b)),i+=d(a[b],{data:j,blockParams:e.blockParams([a[b],b],[k+b,null])}))}if(!b)throw new g["default"]("Must pass iterator to #each");var d=b.fn,f=b.inverse,h=0,i="",j=void 0,k=void 0;if(b.data&&b.ids&&(k=e.appendContextPath(b.data.contextPath,b.ids[0])+"."),e.isFunction(a)&&(a=a.call(this)),b.data&&(j=e.createFrame(b.data)),a&&"object"==typeof a)if(e.isArray(a))for(var l=a.length;l>h;h++)c(h,h,h===a.length-1);else{var m=void 0;for(var n in a)a.hasOwnProperty(n)&&(void 0!==m&&c(m,h-1),m=n,h++);void 0!==m&&c(m,h-1,!0)}return 0===h&&(i=f(this)),i})},b.exports=c["default"]},{"../exception":131,"../utils":144}],135:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}c.__esModule=!0;var e=a("../exception"),f=d(e);c["default"]=function(a){a.registerHelper("helperMissing",function(){if(1===arguments.length)return void 0;throw new f["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},b.exports=c["default"]},{"../exception":131}],136:[function(a,b,c){"use strict";c.__esModule=!0;var d=a("../utils");c["default"]=function(a){a.registerHelper("if",function(a,b){return d.isFunction(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||d.isEmpty(a)?b.inverse(this):b.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers["if"].call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})})},b.exports=c["default"]},{"../utils":144}],137:[function(a,b,c){"use strict";c.__esModule=!0,c["default"]=function(a){a.registerHelper("log",function(){for(var b=[void 0],c=arguments[arguments.length-1],d=0;d<arguments.length-1;d++)b.push(arguments[d]);var e=1;null!=c.hash.level?e=c.hash.level:c.data&&null!=c.data.level&&(e=c.data.level),b[0]=e,a.log.apply(a,b)})},b.exports=c["default"]},{}],138:[function(a,b,c){"use strict";c.__esModule=!0,c["default"]=function(a){a.registerHelper("lookup",function(a,b){return a&&a[b]})},b.exports=c["default"]},{}],139:[function(a,b,c){"use strict";c.__esModule=!0;var d=a("../utils");c["default"]=function(a){a.registerHelper("with",function(a,b){d.isFunction(a)&&(a=a.call(this));var c=b.fn;if(d.isEmpty(a))return b.inverse(this);var e=b.data;return b.data&&b.ids&&(e=d.createFrame(b.data),e.contextPath=d.appendContextPath(b.data.contextPath,b.ids[0])),c(a,{data:e,blockParams:d.blockParams([a],[e&&e.contextPath])})})},b.exports=c["default"]},{"../utils":144}],140:[function(a,b,c){"use strict";c.__esModule=!0;var d={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(a){if("string"==typeof a){var b=d.methodMap.indexOf(a.toLowerCase());a=b>=0?b:parseInt(a,10)}return a},log:function(a){if(a=d.lookupLevel(a),"undefined"!=typeof console&&d.lookupLevel(d.level)<=a){var b=d.methodMap[a];console[b]||(b="log");for(var c=arguments.length,e=Array(c>1?c-1:0),f=1;c>f;f++)e[f-1]=arguments[f];console[b].apply(console,e)}}};c["default"]=d,b.exports=c["default"]},{}],141:[function(a,b,c){(function(a){"use strict";c.__esModule=!0,c["default"]=function(b){var c="undefined"!=typeof a?a:window,d=c.Handlebars;b.noConflict=function(){c.Handlebars===b&&(c.Handlebars=d)}},b.exports=c["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],142:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function f(a){var b=a&&a[0]||1,c=r.COMPILER_REVISION;if(b!==c){if(c>b){var d=r.REVISION_CHANGES[c],e=r.REVISION_CHANGES[b];throw new q["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+d+") or downgrade your runtime to an older version ("+e+").")}throw new q["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").")}}function g(a,b){function c(c,d,e){e.hash&&(d=o.extend({},d,e.hash),e.ids&&(e.ids[0]=!0)),c=b.VM.resolvePartial.call(this,c,d,e);var f=b.VM.invokePartial.call(this,c,d,e);if(null==f&&b.compile&&(e.partials[e.name]=b.compile(c,a.compilerOptions,b),f=e.partials[e.name](d,e)),null!=f){if(e.indent){for(var g=f.split("\n"),h=0,i=g.length;i>h&&(g[h]||h+1!==i);h++)g[h]=e.indent+g[h];f=g.join("\n")}return f}throw new q["default"]("The partial "+e.name+" could not be compiled when running in runtime-only mode")}function d(b){function c(b){return""+a.main(e,b,e.helpers,e.partials,g,i,h)}var f=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],g=f.data;d._setup(f),!f.partial&&a.useData&&(g=l(b,g));var h=void 0,i=a.useBlockParams?[]:void 0;return a.useDepths&&(h=f.depths?b!==f.depths[0]?[b].concat(f.depths):f.depths:[b]),(c=m(a.main,c,e,f.depths||[],g,i))(b,f)}if(!b)throw new q["default"]("No environment passed to template");if(!a||!a.main)throw new q["default"]("Unknown template object: "+typeof a);a.main.decorator=a.main_d,b.VM.checkRevision(a.compiler);var e={strict:function(a,b){if(!(b in a))throw new q["default"]('"'+b+'" not defined in '+a);return a[b];
},lookup:function(a,b){for(var c=a.length,d=0;c>d;d++)if(a[d]&&null!=a[d][b])return a[d][b]},lambda:function(a,b){return"function"==typeof a?a.call(b):a},escapeExpression:o.escapeExpression,invokePartial:c,fn:function(b){var c=a[b];return c.decorator=a[b+"_d"],c},programs:[],program:function(a,b,c,d,e){var f=this.programs[a],g=this.fn(a);return b||e||d||c?f=h(this,a,g,b,c,d,e):f||(f=this.programs[a]=h(this,a,g)),f},data:function(a,b){for(;a&&b--;)a=a._parent;return a},merge:function(a,b){var c=a||b;return a&&b&&a!==b&&(c=o.extend({},b,a)),c},noop:b.VM.noop,compilerInfo:a.compiler};return d.isTop=!0,d._setup=function(c){c.partial?(e.helpers=c.helpers,e.partials=c.partials,e.decorators=c.decorators):(e.helpers=e.merge(c.helpers,b.helpers),a.usePartial&&(e.partials=e.merge(c.partials,b.partials)),(a.usePartial||a.useDecorators)&&(e.decorators=e.merge(c.decorators,b.decorators)))},d._child=function(b,c,d,f){if(a.useBlockParams&&!d)throw new q["default"]("must pass block params");if(a.useDepths&&!f)throw new q["default"]("must pass parent depths");return h(e,b,a[b],c,0,d,f)},d}function h(a,b,c,d,e,f,g){function h(b){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],h=g;return g&&b!==g[0]&&(h=[b].concat(g)),c(a,b,a.helpers,a.partials,e.data||d,f&&[e.blockParams].concat(f),h)}return h=m(c,h,a,g,d,f),h.program=b,h.depth=g?g.length:0,h.blockParams=e||0,h}function i(a,b,c){return a?a.call||c.name||(c.name=a,a=c.partials[a]):a="@partial-block"===c.name?c.data["partial-block"]:c.partials[c.name],a}function j(a,b,c){c.partial=!0,c.ids&&(c.data.contextPath=c.ids[0]||c.data.contextPath);var d=void 0;if(c.fn&&c.fn!==k&&(d=c.data["partial-block"]=c.fn,d.partials&&(c.partials=o.extend({},c.partials,d.partials))),void 0===a&&d&&(a=d),void 0===a)throw new q["default"]("The partial "+c.name+" could not be found");return a instanceof Function?a(b,c):void 0}function k(){return""}function l(a,b){return b&&"root"in b||(b=b?r.createFrame(b):{},b.root=a),b}function m(a,b,c,d,e,f){if(a.decorator){var g={};b=a.decorator(b,g,c,d&&d[0],e,f,d),o.extend(b,g)}return b}c.__esModule=!0,c.checkRevision=f,c.template=g,c.wrapProgram=h,c.resolvePartial=i,c.invokePartial=j,c.noop=k;var n=a("./utils"),o=e(n),p=a("./exception"),q=d(p),r=a("./base")},{"./base":118,"./exception":131,"./utils":144}],143:[function(a,b,c){"use strict";function d(a){this.string=a}c.__esModule=!0,d.prototype.toString=d.prototype.toHTML=function(){return""+this.string},c["default"]=d,b.exports=c["default"]},{}],144:[function(a,b,c){"use strict";function d(a){return l[a]}function e(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],c)&&(a[c]=arguments[b][c]);return a}function f(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1}function g(a){if("string"!=typeof a){if(a&&a.toHTML)return a.toHTML();if(null==a)return"";if(!a)return a+"";a=""+a}return n.test(a)?a.replace(m,d):a}function h(a){return a||0===a?q(a)&&0===a.length?!0:!1:!0}function i(a){var b=e({},a);return b._parent=a,b}function j(a,b){return a.path=b,a}function k(a,b){return(a?a+".":"")+b}c.__esModule=!0,c.extend=e,c.indexOf=f,c.escapeExpression=g,c.isEmpty=h,c.createFrame=i,c.blockParams=j,c.appendContextPath=k;var l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},m=/[&<>"'`=]/g,n=/[&<>"'`=]/,o=Object.prototype.toString;c.toString=o;var p=function(a){return"function"==typeof a};p(/x/)&&(c.isFunction=p=function(a){return"function"==typeof a&&"[object Function]"===o.call(a)}),c.isFunction=p;var q=Array.isArray||function(a){return a&&"object"==typeof a?"[object Array]"===o.call(a):!1};c.isArray=q},{}],145:[function(a,b,c){function d(b,c){var d=a("fs"),f=d.readFileSync(c,"utf8");b.exports=e.compile(f)}var e=a("../dist/cjs/handlebars")["default"],f=a("../dist/cjs/handlebars/compiler/printer");e.PrintVisitor=f.PrintVisitor,e.print=f.print,b.exports=e,"undefined"!=typeof a&&a.extensions&&(a.extensions[".handlebars"]=d,a.extensions[".hbs"]=d)},{"../dist/cjs/handlebars":116,"../dist/cjs/handlebars/compiler/printer":126,fs:107}],146:[function(a,b,c){c.SourceMapGenerator=a("./source-map/source-map-generator").SourceMapGenerator,c.SourceMapConsumer=a("./source-map/source-map-consumer").SourceMapConsumer,c.SourceNode=a("./source-map/source-node").SourceNode},{"./source-map/source-map-consumer":153,"./source-map/source-map-generator":154,"./source-map/source-node":155}],147:[function(a,b,c){if("function"!=typeof d)var d=a("amdefine")(b,a);d(function(a,b,c){function d(){this._array=[],this._set={}}var e=a("./util");d.fromArray=function(a,b){for(var c=new d,e=0,f=a.length;f>e;e++)c.add(a[e],b);return c},d.prototype.size=function(){return Object.getOwnPropertyNames(this._set).length},d.prototype.add=function(a,b){var c=this.has(a),d=this._array.length;(!c||b)&&this._array.push(a),c||(this._set[e.toSetString(a)]=d)},d.prototype.has=function(a){return Object.prototype.hasOwnProperty.call(this._set,e.toSetString(a))},d.prototype.indexOf=function(a){if(this.has(a))return this._set[e.toSetString(a)];throw new Error('"'+a+'" is not in the set.')},d.prototype.at=function(a){if(a>=0&&a<this._array.length)return this._array[a];throw new Error("No element indexed by "+a)},d.prototype.toArray=function(){return this._array.slice()},b.ArraySet=d})},{"./util":156,amdefine:157}],148:[function(a,b,c){if("function"!=typeof d)var d=a("amdefine")(b,a);d(function(a,b,c){function d(a){return 0>a?(-a<<1)+1:(a<<1)+0}function e(a){var b=1===(1&a),c=a>>1;return b?-c:c}var f=a("./base64"),g=5,h=1<<g,i=h-1,j=h;b.encode=function(a){var b,c="",e=d(a);do b=e&i,e>>>=g,e>0&&(b|=j),c+=f.encode(b);while(e>0);return c},b.decode=function(a,b,c){var d,h,k=a.length,l=0,m=0;do{if(b>=k)throw new Error("Expected more digits in base 64 VLQ value.");if(h=f.decode(a.charCodeAt(b++)),-1===h)throw new Error("Invalid base64 digit: "+a.charAt(b-1));d=!!(h&j),h&=i,l+=h<<m,m+=g}while(d);c.value=e(l),c.rest=b}})},{"./base64":149,amdefine:157}],149:[function(a,b,c){if("function"!=typeof d)var d=a("amdefine")(b,a);d(function(a,b,c){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");b.encode=function(a){if(a>=0&&a<d.length)return d[a];throw new TypeError("Must be between 0 and 63: "+aNumber)},b.decode=function(a){var b=65,c=90,d=97,e=122,f=48,g=57,h=43,i=47,j=26,k=52;return a>=b&&c>=a?a-b:a>=d&&e>=a?a-d+j:a>=f&&g>=a?a-f+k:a==h?62:a==i?63:-1}})},{amdefine:157}],150:[function(a,b,c){if("function"!=typeof d)var d=a("amdefine")(b,a);d(function(a,b,c){function d(a,c,e,f,g,h){var i=Math.floor((c-a)/2)+a,j=g(e,f[i],!0);return 0===j?i:j>0?c-i>1?d(i,c,e,f,g,h):h==b.LEAST_UPPER_BOUND?c<f.length?c:-1:i:i-a>1?d(a,i,e,f,g,h):h==b.LEAST_UPPER_BOUND?i:0>a?-1:a}b.GREATEST_LOWER_BOUND=1,b.LEAST_UPPER_BOUND=2,b.search=function(a,c,e,f){if(0===c.length)return-1;var g=d(-1,c.length,a,c,e,f||b.GREATEST_LOWER_BOUND);if(0>g)return-1;for(;g-1>=0&&0===e(c[g],c[g-1],!0);)--g;return g}})},{amdefine:157}],151:[function(a,b,c){if("function"!=typeof d)var d=a("amdefine")(b,a);d(function(a,b,c){function d(a,b){var c=a.generatedLine,d=b.generatedLine,e=a.generatedColumn,g=b.generatedColumn;return d>c||d==c&&g>=e||f.compareByGeneratedPositionsInflated(a,b)<=0}function e(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}var f=a("./util");e.prototype.unsortedForEach=function(a,b){this._array.forEach(a,b)},e.prototype.add=function(a){d(this._last,a)?(this._last=a,this._array.push(a)):(this._sorted=!1,this._array.push(a))},e.prototype.toArray=function(){return this._sorted||(this._array.sort(f.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},b.MappingList=e})},{"./util":156,amdefine:157}],152:[function(a,b,c){if("function"!=typeof d)var d=a("amdefine")(b,a);d(function(a,b,c){function d(a,b,c){var d=a[b];a[b]=a[c],a[c]=d}function e(a,b){return Math.round(a+Math.random()*(b-a))}function f(a,b,c,g){if(g>c){var h=e(c,g),i=c-1;d(a,h,g);for(var j=a[g],k=c;g>k;k++)b(a[k],j)<=0&&(i+=1,d(a,i,k));d(a,i+1,k);var l=i+1;f(a,b,c,l-1),f(a,b,l+1,g)}}b.quickSort=function(a,b){f(a,b,0,a.length-1)}})},{amdefine:157}],153:[function(a,b,c){if("function"!=typeof d)var d=a("amdefine")(b,a);d(function(a,b,c){function d(a){var b=a;return"string"==typeof a&&(b=JSON.parse(a.replace(/^\)\]\}'/,""))),null!=b.sections?new g(b):new e(b)}function e(a){var b=a;"string"==typeof a&&(b=JSON.parse(a.replace(/^\)\]\}'/,"")));var c=h.getArg(b,"version"),d=h.getArg(b,"sources"),e=h.getArg(b,"names",[]),f=h.getArg(b,"sourceRoot",null),g=h.getArg(b,"sourcesContent",null),i=h.getArg(b,"mappings"),k=h.getArg(b,"file",null);if(c!=this._version)throw new Error("Unsupported version: "+c);d=d.map(h.normalize),this._names=j.fromArray(e,!0),this._sources=j.fromArray(d,!0),this.sourceRoot=f,this.sourcesContent=g,this._mappings=i,this.file=k}function f(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function g(a){var b=a;"string"==typeof a&&(b=JSON.parse(a.replace(/^\)\]\}'/,"")));var c=h.getArg(b,"version"),e=h.getArg(b,"sections");if(c!=this._version)throw new Error("Unsupported version: "+c);this._sources=new j,this._names=new j;var f={line:-1,column:0};this._sections=e.map(function(a){if(a.url)throw new Error("Support for url field in sections not implemented.");var b=h.getArg(a,"offset"),c=h.getArg(b,"line"),e=h.getArg(b,"column");if(c<f.line||c===f.line&&e<f.column)throw new Error("Section offsets must be ordered and non-overlapping.");return f=b,{generatedOffset:{generatedLine:c+1,generatedColumn:e+1},consumer:new d(h.getArg(a,"map"))}})}var h=a("./util"),i=a("./binary-search"),j=a("./array-set").ArraySet,k=a("./base64-vlq"),l=a("./quick-sort").quickSort;d.fromSourceMap=function(a){return e.fromSourceMap(a)},d.prototype._version=3,d.prototype.__generatedMappings=null,Object.defineProperty(d.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),d.prototype.__originalMappings=null,Object.defineProperty(d.prototype,"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),d.prototype._charIsMappingSeparator=function(a,b){var c=a.charAt(b);return";"===c||","===c},d.prototype._parseMappings=function(a,b){throw new Error("Subclasses must implement _parseMappings")},d.GENERATED_ORDER=1,d.ORIGINAL_ORDER=2,d.GREATEST_LOWER_BOUND=1,d.LEAST_UPPER_BOUND=2,d.prototype.eachMapping=function(a,b,c){var e,f=b||null,g=c||d.GENERATED_ORDER;switch(g){case d.GENERATED_ORDER:e=this._generatedMappings;break;case d.ORIGINAL_ORDER:e=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var i=this.sourceRoot;e.map(function(a){var b=null===a.source?null:this._sources.at(a.source);return null!=b&&null!=i&&(b=h.join(i,b)),{source:b,generatedLine:a.generatedLine,generatedColumn:a.generatedColumn,originalLine:a.originalLine,originalColumn:a.originalColumn,name:null===a.name?null:this._names.at(a.name)}},this).forEach(a,f)},d.prototype.allGeneratedPositionsFor=function(a){var b=h.getArg(a,"line"),c={source:h.getArg(a,"source"),originalLine:b,originalColumn:h.getArg(a,"column",0)};if(null!=this.sourceRoot&&(c.source=h.relative(this.sourceRoot,c.source)),!this._sources.has(c.source))return[];c.source=this._sources.indexOf(c.source);var d=[],e=this._findMapping(c,this._originalMappings,"originalLine","originalColumn",h.compareByOriginalPositions,i.LEAST_UPPER_BOUND);if(e>=0){var f=this._originalMappings[e];if(void 0===a.column)for(var g=f.originalLine;f&&f.originalLine===g;)d.push({line:h.getArg(f,"generatedLine",null),column:h.getArg(f,"generatedColumn",null),lastColumn:h.getArg(f,"lastGeneratedColumn",null)}),f=this._originalMappings[++e];else for(var j=f.originalColumn;f&&f.originalLine===b&&f.originalColumn==j;)d.push({line:h.getArg(f,"generatedLine",null),column:h.getArg(f,"generatedColumn",null),lastColumn:h.getArg(f,"lastGeneratedColumn",null)}),f=this._originalMappings[++e]}return d},b.SourceMapConsumer=d,e.prototype=Object.create(d.prototype),e.prototype.consumer=d,e.fromSourceMap=function(a){var b=Object.create(e.prototype),c=b._names=j.fromArray(a._names.toArray(),!0),d=b._sources=j.fromArray(a._sources.toArray(),!0);b.sourceRoot=a._sourceRoot,b.sourcesContent=a._generateSourcesContent(b._sources.toArray(),b.sourceRoot),b.file=a._file;for(var g=a._mappings.toArray().slice(),i=b.__generatedMappings=[],k=b.__originalMappings=[],m=0,n=g.length;n>m;m++){var o=g[m],p=new f;p.generatedLine=o.generatedLine,p.generatedColumn=o.generatedColumn,o.source&&(p.source=d.indexOf(o.source),p.originalLine=o.originalLine,p.originalColumn=o.originalColumn,o.name&&(p.name=c.indexOf(o.name)),k.push(p)),i.push(p)}return l(b.__originalMappings,h.compareByOriginalPositions),b},e.prototype._version=3,Object.defineProperty(e.prototype,"sources",{get:function(){return this._sources.toArray().map(function(a){return null!=this.sourceRoot?h.join(this.sourceRoot,a):a},this)}}),e.prototype._parseMappings=function(a,b){for(var c,d,e,g,i,j=1,m=0,n=0,o=0,p=0,q=0,r=a.length,s=0,t={},u={},v=[],w=[];r>s;)if(";"===a.charAt(s))j++,s++,m=0;else if(","===a.charAt(s))s++;else{for(c=new f,c.generatedLine=j,g=s;r>g&&!this._charIsMappingSeparator(a,g);g++);if(d=a.slice(s,g),e=t[d])s+=d.length;else{for(e=[];g>s;)k.decode(a,s,u),i=u.value,s=u.rest,e.push(i);if(2===e.length)throw new Error("Found a source, but no line and column");if(3===e.length)throw new Error("Found a source and line, but no column");t[d]=e}c.generatedColumn=m+e[0],m=c.generatedColumn,e.length>1&&(c.source=p+e[1],p+=e[1],c.originalLine=n+e[2],n=c.originalLine,c.originalLine+=1,c.originalColumn=o+e[3],o=c.originalColumn,e.length>4&&(c.name=q+e[4],q+=e[4])),w.push(c),"number"==typeof c.originalLine&&v.push(c)}l(w,h.compareByGeneratedPositionsDeflated),this.__generatedMappings=w,l(v,h.compareByOriginalPositions),this.__originalMappings=v},e.prototype._findMapping=function(a,b,c,d,e,f){if(a[c]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+a[c]);if(a[d]<0)throw new TypeError("Column must be greater than or equal to 0, got "+a[d]);return i.search(a,b,e,f)},e.prototype.computeColumnSpans=function(){for(var a=0;a<this._generatedMappings.length;++a){var b=this._generatedMappings[a];if(a+1<this._generatedMappings.length){var c=this._generatedMappings[a+1];if(b.generatedLine===c.generatedLine){b.lastGeneratedColumn=c.generatedColumn-1;continue}}b.lastGeneratedColumn=1/0}},e.prototype.originalPositionFor=function(a){var b={generatedLine:h.getArg(a,"line"),generatedColumn:h.getArg(a,"column")},c=this._findMapping(b,this._generatedMappings,"generatedLine","generatedColumn",h.compareByGeneratedPositionsDeflated,h.getArg(a,"bias",d.GREATEST_LOWER_BOUND));if(c>=0){var e=this._generatedMappings[c];if(e.generatedLine===b.generatedLine){var f=h.getArg(e,"source",null);null!==f&&(f=this._sources.at(f),null!=this.sourceRoot&&(f=h.join(this.sourceRoot,f)));var g=h.getArg(e,"name",null);return null!==g&&(g=this._names.at(g)),{source:f,line:h.getArg(e,"originalLine",null),column:h.getArg(e,"originalColumn",null),name:g}}}return{source:null,line:null,column:null,name:null}},e.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(a){return null==a}):!1},e.prototype.sourceContentFor=function(a,b){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(a=h.relative(this.sourceRoot,a)),this._sources.has(a))return this.sourcesContent[this._sources.indexOf(a)];var c;if(null!=this.sourceRoot&&(c=h.urlParse(this.sourceRoot))){var d=a.replace(/^file:\/\//,"");if("file"==c.scheme&&this._sources.has(d))return this.sourcesContent[this._sources.indexOf(d)];if((!c.path||"/"==c.path)&&this._sources.has("/"+a))return this.sourcesContent[this._sources.indexOf("/"+a)]}if(b)return null;throw new Error('"'+a+'" is not in the SourceMap.')},e.prototype.generatedPositionFor=function(a){var b=h.getArg(a,"source");if(null!=this.sourceRoot&&(b=h.relative(this.sourceRoot,b)),!this._sources.has(b))return{line:null,column:null,lastColumn:null};b=this._sources.indexOf(b);var c={source:b,originalLine:h.getArg(a,"line"),originalColumn:h.getArg(a,"column")},e=this._findMapping(c,this._originalMappings,"originalLine","originalColumn",h.compareByOriginalPositions,h.getArg(a,"bias",d.GREATEST_LOWER_BOUND));if(e>=0){var f=this._originalMappings[e];if(f.source===c.source)return{line:h.getArg(f,"generatedLine",null),column:h.getArg(f,"generatedColumn",null),lastColumn:h.getArg(f,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},b.BasicSourceMapConsumer=e,g.prototype=Object.create(d.prototype),g.prototype.constructor=d,g.prototype._version=3,Object.defineProperty(g.prototype,"sources",{get:function(){for(var a=[],b=0;b<this._sections.length;b++)for(var c=0;c<this._sections[b].consumer.sources.length;c++)a.push(this._sections[b].consumer.sources[c]);return a}}),g.prototype.originalPositionFor=function(a){var b={generatedLine:h.getArg(a,"line"),generatedColumn:h.getArg(a,"column")},c=i.search(b,this._sections,function(a,b){var c=a.generatedLine-b.generatedOffset.generatedLine;return c?c:a.generatedColumn-b.generatedOffset.generatedColumn}),d=this._sections[c];return d?d.consumer.originalPositionFor({line:b.generatedLine-(d.generatedOffset.generatedLine-1),column:b.generatedColumn-(d.generatedOffset.generatedLine===b.generatedLine?d.generatedOffset.generatedColumn-1:0),bias:a.bias}):{source:null,line:null,column:null,name:null}},g.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(a){return a.consumer.hasContentsOfAllSources()})},g.prototype.sourceContentFor=function(a,b){for(var c=0;c<this._sections.length;c++){var d=this._sections[c],e=d.consumer.sourceContentFor(a,!0);if(e)return e}if(b)return null;throw new Error('"'+a+'" is not in the SourceMap.')},g.prototype.generatedPositionFor=function(a){for(var b=0;b<this._sections.length;b++){var c=this._sections[b];if(-1!==c.consumer.sources.indexOf(h.getArg(a,"source"))){var d=c.consumer.generatedPositionFor(a);if(d){var e={line:d.line+(c.generatedOffset.generatedLine-1),column:d.column+(c.generatedOffset.generatedLine===d.line?c.generatedOffset.generatedColumn-1:0)};return e}}}return{line:null,column:null}},g.prototype._parseMappings=function(a,b){this.__generatedMappings=[],this.__originalMappings=[];for(var c=0;c<this._sections.length;c++)for(var d=this._sections[c],e=d.consumer._generatedMappings,f=0;f<e.length;f++){var g=e[c],i=d.consumer._sources.at(g.source);null!==d.consumer.sourceRoot&&(i=h.join(d.consumer.sourceRoot,i)),this._sources.add(i),i=this._sources.indexOf(i);var j=d.consumer._names.at(g.name);this._names.add(j),j=this._names.indexOf(j);var k={source:i,generatedLine:g.generatedLine+(d.generatedOffset.generatedLine-1),generatedColumn:g.column+(d.generatedOffset.generatedLine===g.generatedLine)?d.generatedOffset.generatedColumn-1:0,originalLine:g.originalLine,originalColumn:g.originalColumn,name:j};this.__generatedMappings.push(k),"number"==typeof k.originalLine&&this.__originalMappings.push(k)}l(this.__generatedMappings,h.compareByGeneratedPositionsDeflated),l(this.__originalMappings,h.compareByOriginalPositions)},b.IndexedSourceMapConsumer=g})},{"./array-set":147,"./base64-vlq":148,"./binary-search":150,"./quick-sort":152,"./util":156,amdefine:157}],154:[function(a,b,c){if("function"!=typeof d)var d=a("amdefine")(b,a);d(function(a,b,c){function d(a){a||(a={}),this._file=f.getArg(a,"file",null),this._sourceRoot=f.getArg(a,"sourceRoot",null),this._skipValidation=f.getArg(a,"skipValidation",!1),this._sources=new g,this._names=new g,this._mappings=new h,this._sourcesContents=null}var e=a("./base64-vlq"),f=a("./util"),g=a("./array-set").ArraySet,h=a("./mapping-list").MappingList;d.prototype._version=3,d.fromSourceMap=function(a){var b=a.sourceRoot,c=new d({file:a.file,sourceRoot:b});return a.eachMapping(function(a){var d={generated:{line:a.generatedLine,column:a.generatedColumn}};null!=a.source&&(d.source=a.source,null!=b&&(d.source=f.relative(b,d.source)),d.original={line:a.originalLine,column:a.originalColumn},null!=a.name&&(d.name=a.name)),c.addMapping(d)}),a.sources.forEach(function(b){var d=a.sourceContentFor(b);null!=d&&c.setSourceContent(b,d)}),c},d.prototype.addMapping=function(a){var b=f.getArg(a,"generated"),c=f.getArg(a,"original",null),d=f.getArg(a,"source",null),e=f.getArg(a,"name",null);this._skipValidation||this._validateMapping(b,c,d,e),null==d||this._sources.has(d)||this._sources.add(d),null==e||this._names.has(e)||this._names.add(e),this._mappings.add({generatedLine:b.line,generatedColumn:b.column,originalLine:null!=c&&c.line,originalColumn:null!=c&&c.column,source:d,name:e})},d.prototype.setSourceContent=function(a,b){var c=a;null!=this._sourceRoot&&(c=f.relative(this._sourceRoot,c)),null!=b?(this._sourcesContents||(this._sourcesContents={}),this._sourcesContents[f.toSetString(c)]=b):this._sourcesContents&&(delete this._sourcesContents[f.toSetString(c)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},d.prototype.applySourceMap=function(a,b,c){var d=b;if(null==b){if(null==a.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');d=a.file}var e=this._sourceRoot;null!=e&&(d=f.relative(e,d));var h=new g,i=new g;this._mappings.unsortedForEach(function(b){if(b.source===d&&null!=b.originalLine){var g=a.originalPositionFor({line:b.originalLine,column:b.originalColumn});null!=g.source&&(b.source=g.source,null!=c&&(b.source=f.join(c,b.source)),null!=e&&(b.source=f.relative(e,b.source)),b.originalLine=g.line,b.originalColumn=g.column,null!=g.name&&(b.name=g.name))}var j=b.source;null==j||h.has(j)||h.add(j);var k=b.name;null==k||i.has(k)||i.add(k)},this),this._sources=h,this._names=i,a.sources.forEach(function(b){var d=a.sourceContentFor(b);null!=d&&(null!=c&&(b=f.join(c,b)),null!=e&&(b=f.relative(e,b)),this.setSourceContent(b,d))},this)},d.prototype._validateMapping=function(a,b,c,d){if((!(a&&"line"in a&&"column"in a&&a.line>0&&a.column>=0)||b||c||d)&&!(a&&"line"in a&&"column"in a&&b&&"line"in b&&"column"in b&&a.line>0&&a.column>=0&&b.line>0&&b.column>=0&&c))throw new Error("Invalid mapping: "+JSON.stringify({generated:a,source:c,original:b,name:d}))},d.prototype._serializeMappings=function(){for(var a,b=0,c=1,d=0,g=0,h=0,i=0,j="",k=this._mappings.toArray(),l=0,m=k.length;m>l;l++){if(a=k[l],a.generatedLine!==c)for(b=0;a.generatedLine!==c;)j+=";",c++;else if(l>0){if(!f.compareByGeneratedPositionsInflated(a,k[l-1]))continue;j+=","}j+=e.encode(a.generatedColumn-b),b=a.generatedColumn,null!=a.source&&(j+=e.encode(this._sources.indexOf(a.source)-i),i=this._sources.indexOf(a.source),j+=e.encode(a.originalLine-1-g),g=a.originalLine-1,j+=e.encode(a.originalColumn-d),d=a.originalColumn,null!=a.name&&(j+=e.encode(this._names.indexOf(a.name)-h),h=this._names.indexOf(a.name)))}return j},d.prototype._generateSourcesContent=function(a,b){return a.map(function(a){if(!this._sourcesContents)return null;null!=b&&(a=f.relative(b,a));var c=f.toSetString(a);return Object.prototype.hasOwnProperty.call(this._sourcesContents,c)?this._sourcesContents[c]:null},this)},d.prototype.toJSON=function(){var a={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(a.file=this._file),null!=this._sourceRoot&&(a.sourceRoot=this._sourceRoot),this._sourcesContents&&(a.sourcesContent=this._generateSourcesContent(a.sources,a.sourceRoot)),a},d.prototype.toString=function(){return JSON.stringify(this.toJSON())},b.SourceMapGenerator=d})},{"./array-set":147,"./base64-vlq":148,"./mapping-list":151,"./util":156,amdefine:157}],155:[function(a,b,c){if("function"!=typeof d)var d=a("amdefine")(b,a);d(function(a,b,c){function d(a,b,c,d,e){this.children=[],this.sourceContents={},this.line=null==a?null:a,this.column=null==b?null:b,this.source=null==c?null:c,this.name=null==e?null:e,this[i]=!0,null!=d&&this.add(d)}var e=a("./source-map-generator").SourceMapGenerator,f=a("./util"),g=/(\r?\n)/,h=10,i="$$$isSourceNode$$$";d.fromStringWithSourceMap=function(a,b,c){function e(a,b){if(null===a||void 0===a.source)h.add(b);else{var e=c?f.join(c,a.source):a.source;h.add(new d(a.originalLine,a.originalColumn,e,b,a.name))}}var h=new d,i=a.split(g),j=function(){var a=i.shift(),b=i.shift()||"";return a+b},k=1,l=0,m=null;return b.eachMapping(function(a){if(null!==m){if(!(k<a.generatedLine)){var b=i[0],c=b.substr(0,a.generatedColumn-l);return i[0]=b.substr(a.generatedColumn-l),l=a.generatedColumn,e(m,c),void(m=a)}var c="";e(m,j()),k++,l=0}for(;k<a.generatedLine;)h.add(j()),k++;if(l<a.generatedColumn){var b=i[0];h.add(b.substr(0,a.generatedColumn)),i[0]=b.substr(a.generatedColumn),l=a.generatedColumn}m=a},this),i.length>0&&(m&&e(m,j()),h.add(i.join(""))),b.sources.forEach(function(a){var d=b.sourceContentFor(a);null!=d&&(null!=c&&(a=f.join(c,a)),h.setSourceContent(a,d))}),h},d.prototype.add=function(a){if(Array.isArray(a))a.forEach(function(a){this.add(a)},this);else{if(!a[i]&&"string"!=typeof a)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+a);a&&this.children.push(a)}return this},d.prototype.prepend=function(a){if(Array.isArray(a))for(var b=a.length-1;b>=0;b--)this.prepend(a[b]);else{if(!a[i]&&"string"!=typeof a)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+a);this.children.unshift(a)}return this},d.prototype.walk=function(a){for(var b,c=0,d=this.children.length;d>c;c++)b=this.children[c],b[i]?b.walk(a):""!==b&&a(b,{source:this.source,line:this.line,column:this.column,name:this.name})},d.prototype.join=function(a){var b,c,d=this.children.length;if(d>0){for(b=[],c=0;d-1>c;c++)b.push(this.children[c]),b.push(a);b.push(this.children[c]),this.children=b}return this},d.prototype.replaceRight=function(a,b){var c=this.children[this.children.length-1];return c[i]?c.replaceRight(a,b):"string"==typeof c?this.children[this.children.length-1]=c.replace(a,b):this.children.push("".replace(a,b)),this},d.prototype.setSourceContent=function(a,b){this.sourceContents[f.toSetString(a)]=b},d.prototype.walkSourceContents=function(a){for(var b=0,c=this.children.length;c>b;b++)this.children[b][i]&&this.children[b].walkSourceContents(a);for(var d=Object.keys(this.sourceContents),b=0,c=d.length;c>b;b++)a(f.fromSetString(d[b]),this.sourceContents[d[b]])},d.prototype.toString=function(){var a="";return this.walk(function(b){a+=b}),a},d.prototype.toStringWithSourceMap=function(a){var b={code:"",line:1,column:0},c=new e(a),d=!1,f=null,g=null,i=null,j=null;return this.walk(function(a,e){b.code+=a,null!==e.source&&null!==e.line&&null!==e.column?((f!==e.source||g!==e.line||i!==e.column||j!==e.name)&&c.addMapping({source:e.source,original:{line:e.line,column:e.column},generated:{line:b.line,column:b.column},name:e.name}),f=e.source,g=e.line,i=e.column,j=e.name,d=!0):d&&(c.addMapping({generated:{line:b.line,column:b.column}}),f=null,d=!1);for(var k=0,l=a.length;l>k;k++)a.charCodeAt(k)===h?(b.line++,b.column=0,k+1===l?(f=null,d=!1):d&&c.addMapping({source:e.source,original:{line:e.line,column:e.column},generated:{line:b.line,column:b.column},name:e.name})):b.column++}),this.walkSourceContents(function(a,b){c.setSourceContent(a,b)}),{code:b.code,map:c}},b.SourceNode=d})},{"./source-map-generator":154,"./util":156,amdefine:157}],156:[function(a,b,c){if("function"!=typeof d)var d=a("amdefine")(b,a);d(function(a,b,c){function d(a,b,c){if(b in a)return a[b];if(3===arguments.length)return c;throw new Error('"'+b+'" is a required argument.')}function e(a){var b=a.match(p);return b?{scheme:b[1],auth:b[2],host:b[3],port:b[4],path:b[5]}:null}function f(a){var b="";return a.scheme&&(b+=a.scheme+":"),b+="//",a.auth&&(b+=a.auth+"@"),a.host&&(b+=a.host),a.port&&(b+=":"+a.port),a.path&&(b+=a.path),b}function g(a){var b=a,c=e(a);if(c){if(!c.path)return a;b=c.path}for(var d,g="/"===b.charAt(0),h=b.split(/\/+/),i=0,j=h.length-1;j>=0;j--)d=h[j],"."===d?h.splice(j,1):".."===d?i++:i>0&&(""===d?(h.splice(j+1,i),i=0):(h.splice(j,2),i--));return b=h.join("/"),""===b&&(b=g?"/":"."),c?(c.path=b,f(c)):b}function h(a,b){""===a&&(a="."),""===b&&(b=".");var c=e(b),d=e(a);if(d&&(a=d.path||"/"),c&&!c.scheme)return d&&(c.scheme=d.scheme),f(c);if(c||b.match(q))return b;if(d&&!d.host&&!d.path)return d.host=b,f(d);var h="/"===b.charAt(0)?b:g(a.replace(/\/+$/,"")+"/"+b);return d?(d.path=h,f(d)):h}function i(a,b){""===a&&(a="."),a=a.replace(/\/$/,"");for(var c=0;0!==b.indexOf(a+"/");){var d=a.lastIndexOf("/");if(0>d)return b;if(a=a.slice(0,d),a.match(/^([^\/]+:\/)?\/*$/))return b;++c}return Array(c+1).join("../")+b.substr(a.length+1)}function j(a){return"$"+a}function k(a){return a.substr(1)}function l(a,b,c){var d=a.source-b.source;return 0!==d?d:(d=a.originalLine-b.originalLine,0!==d?d:(d=a.originalColumn-b.originalColumn,0!==d||c?d:(d=a.generatedColumn-b.generatedColumn,0!==d?d:(d=a.generatedLine-b.generatedLine,0!==d?d:a.name-b.name))))}function m(a,b,c){var d=a.generatedLine-b.generatedLine;return 0!==d?d:(d=a.generatedColumn-b.generatedColumn,0!==d||c?d:(d=a.source-b.source,0!==d?d:(d=a.originalLine-b.originalLine,0!==d?d:(d=a.originalColumn-b.originalColumn,0!==d?d:a.name-b.name))))}function n(a,b){return a===b?0:a>b?1:-1}function o(a,b){var c=a.generatedLine-b.generatedLine;return 0!==c?c:(c=a.generatedColumn-b.generatedColumn,0!==c?c:(c=n(a.source,b.source),0!==c?c:(c=a.originalLine-b.originalLine,0!==c?c:(c=a.originalColumn-b.originalColumn,0!==c?c:n(a.name,b.name)))))}b.getArg=d;var p=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,q=/^data:.+\,.+$/;b.urlParse=e,b.urlGenerate=f,b.normalize=g,b.join=h,b.relative=i,b.toSetString=j,b.fromSetString=k,b.compareByOriginalPositions=l,b.compareByGeneratedPositionsDeflated=m,b.compareByGeneratedPositionsInflated=o})},{amdefine:157}],157:[function(a,b,c){(function(c,d){"use strict";function e(b,e){function f(a){var b,c;for(b=0;a[b];b+=1)if(c=a[b],"."===c)a.splice(b,1),b-=1;else if(".."===c){if(1===b&&(".."===a[2]||".."===a[0]))break;b>0&&(a.splice(b-1,2),b-=2)}}function g(a,b){var c;return a&&"."===a.charAt(0)&&b&&(c=b.split("/"),c=c.slice(0,c.length-1),c=c.concat(a.split("/")),f(c),a=c.join("/")),a}function h(a){return function(b){return g(b,a)}}function i(a){function b(b){o[a]=b}return b.fromText=function(a,b){throw new Error("amdefine does not implement load.fromText")},b}function j(a,c,f){var g,h,i,j;if(a)h=o[a]={},i={id:a,uri:d,exports:h},g=l(e,h,i,a);else{if(p)throw new Error("amdefine with no module ID cannot be called more than once per file.");p=!0,h=b.exports,i=b,g=l(e,h,i,b.id)}c&&(c=c.map(function(a){return g(a)})),j="function"==typeof f?f.apply(i.exports,c):f,void 0!==j&&(i.exports=j,a&&(o[a]=i.exports))}function k(a,b,c){Array.isArray(a)?(c=b,b=a,a=void 0):"string"!=typeof a&&(c=a,a=b=void 0),b&&!Array.isArray(b)&&(c=b,b=void 0),b||(b=["require","exports","module"]),a?n[a]=[a,b,c]:j(a,b,c)}var l,m,n={},o={},p=!1,q=a("path");return l=function(a,b,d,e){function f(f,g){return"string"==typeof f?m(a,b,d,f,e):(f=f.map(function(c){return m(a,b,d,c,e)}),void(g&&c.nextTick(function(){g.apply(null,f)})))}return f.toUrl=function(a){return 0===a.indexOf(".")?g(a,q.dirname(d.filename)):a},f},e=e||function(){return b.require.apply(b,arguments)},m=function(a,b,c,d,e){var f,k,p=d.indexOf("!"),q=d;if(-1===p){if(d=g(d,e),"require"===d)return l(a,b,c,e);if("exports"===d)return b;if("module"===d)return c;if(o.hasOwnProperty(d))return o[d];if(n[d])return j.apply(null,n[d]),o[d];if(a)return a(q);throw new Error("No module with ID: "+d)}return f=d.substring(0,p),d=d.substring(p+1,d.length),k=m(a,b,c,f,e),
d=k.normalize?k.normalize(d,h(e)):g(d,e),o[d]?o[d]:(k.load(d,l(a,b,c,e),i(d),{}),o[d])},k.require=function(a){return o[a]?o[a]:n[a]?(j.apply(null,n[a]),o[a]):void 0},k.amd={},k}b.exports=e}).call(this,a("_process"),"/node_modules/handlebars/node_modules/source-map/node_modules/amdefine/amdefine.js")},{_process:110,path:109}],158:[function(a,b,c){function d(a){function b(){return!a.apply(this,arguments)}return b}b.exports=d},{}],159:[function(a,b,c){function d(a){function b(b){return b?(c.push(b),function(){c.splice(c.indexOf(b),1)}):a}var c=[];return a=void 0===a?null:a,b.set=function(b){a=b,c.forEach(function(a){a(b)})},b}b.exports=d},{}],160:[function(a,b,c){"use strict";function d(a){var b=new h.EventEmitter,c=!1,d=function(a){return void 0===a?c:(c=a,void f())},e=function(){c=!c,f()},f=function(){return b.emit("change",{buttonName:a,state:c})};return _.extend(b,{name:a,value:d,toggle:e,propagate:f})}function e(a,b){b.map(f).forEach(function(b){return a.emit("change",b)})}function f(a){return{buttonName:a.name,state:a.value()}}var g=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var h=a("events"),i=a("../../util/reduce2hash"),j=g(i),k=["view","term","relation","simple","boundary-detection","negation","replicate-auto","speculation"];c["default"]=function(){var a=new h.EventEmitter,b=k.map(d),c=function(){return e(a,b)},f=b.reduce(j["default"],{});return f["boundary-detection"].value(!0),b.forEach(function(b){b.on("change",function(b){return a.emit("change",b)})}),_.extend(a,f,{propagate:c})},b.exports=c["default"]},{"../../util/reduce2hash":372,"babel-runtime/helpers/interop-require-default":17,events:108}],161:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"],e=a("events"),f=a("./ModeAccordingToButton"),g=d(f),h=function(){var a={},b=function(b,c){a[b]=c},c=new e.EventEmitter,d=function(){c.emit("change",a)};return _.extend(c,{set:b,propagate:d})},i=function(a,b,c){var d=a.selectionModel,e=function(a){return _.isFunction(a)?a():d[a].some()},f=function(){for(var a=0;a<arguments.length;a++)if(!e(arguments[a]))return!1;return!0},g=function(){for(var a=0;a<arguments.length;a++)if(e(arguments[a]))return!0;return!1},h=function(){return c.clipBoard.length>0},i=_.partial(g,"span","entity"),j=_.partial(g,"entity","relation"),k={replicate:function(){return Boolean(d.span.single())},entity:d.span.some,"delete":d.some,copy:i,paste:_.partial(f,h,"span"),pallet:j,"change-label":j,negation:j,speculation:j};return function(a){a.forEach(function(a){b.set(a,k[a]())})}},j=function(a,b){var c=function(a,b){return b.length>0&&_.every(b,function(b){return _.contains(b,a)})},d=function(a,d){b[a.toLowerCase()].value(c(a,d))};return function(b){var c=b.all().map(function(b){return a.annotationData.getModificationOf(b).map(function(a){return a.pred})});d("Negation",c),d("Speculation",c)}},k=function(a,b,c,d,e){var f=["delete"],g=f.concat(["replicate","entity","copy","paste"]),h=f.concat(["pallet","change-label","negation","speculation"]),i=h.concat(["copy"]),j=_.compose(b.propagate,c.propagate),k=_.partial(_.compose,j);return{propagate:j,enabled:k(c.set),updateBySpan:k(_.partial(d,g)),updateByEntity:_.compose(j,_.partial(e,a.selectionModel.entity),_.partial(d,i)),updateByRelation:_.compose(j,_.partial(e,a.selectionModel.relation),_.partial(d,h))}};b.exports=function(a,b,c){var d=new g["default"],e=new h,f=new i(b,e,c),l=new j(b,d),m=new k(b,d,e,f,l);return d.on("change",function(b){a.eventEmitter.emit("textae.control.button.push",b)}),e.on("change",function(b){a.eventEmitter.emit("textae.control.buttons.change",b)}),{modeAccordingToButton:d,buttonStateHelper:m}}},{"./ModeAccordingToButton":160,"babel-runtime/helpers/interop-require-default":17,events:108}],162:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("observ"),f=d(e);c["default"]=function(){var a=!1,b=new f["default"](!1);return b.forceModified=function(c){b.set(c),a=c},b.update=function(c){b.set(a||c)},b},b.exports=c["default"]},{"babel-runtime/helpers/interop-require-default":17,observ:159}],163:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"],e=a("babel-runtime/helpers/interop-require-wildcard")["default"],f=a("url"),g=d(f),h=a("events"),i=a("../util/ajaxAccessor"),j=e(i),k=a("../util/CursorChanger"),l=d(k),m=a("./dialog/GetEditorDialog"),n=d(m),o=a("./jQuerySugar"),p=d(o),q=function(a,b,c){a.on(b,c)},r=function(a){return q(a,"dialog.close",function(){a.close()}),a};b.exports=function(a,b){var c="",d=new l["default"](a),e=function(a){d.startWait(),j.getAsync(a,function(b){i.emit("load",{annotation:b,source:p["default"].toLink(g["default"].resolve(location.href,a))}),c=a},function(){d.endWait(),toastr.error("Could not load the target.")})},f=function(){var f=function(a){return a.openAndSetParam||(a.openAndSetParam=_.compose(a.open.bind(a),function(b){this.find('[type="text"].url').val(c).trigger("input"),a.params=b})),a},g=_.compose(f,r,new n["default"](a)),h={URL:"URL",LOCAL:"Local"},k=function(a){var c=function(a){var b=a.files[0],c=new FileReader;c.onload=function(){var a=JSON.parse(this.result);i.emit("load",{annotation:a,source:b.name+"(local file)"})},c.readAsText(b)},d=_.partial(p["default"].Div,"textae-editor__load-dialog__row"),f=_.partial(p["default"].Label,"textae-editor__load-dialog__label"),j=_.partial(p["default"].Button,"Open"),k=function(){return!o.params||window.confirm(b)},l=new j("url"),m=new j("local"),n=$("<div>").append((new d).append(new f(h.URL),$('<input type="text" class="textae-editor__load-dialog__file-name url" />'),l)).on("input",'[type="text"].url',function(){p["default"].enabled(l,this.value)}).on("click",'[type="button"].url',function(){k()&&e(p["default"].getValueFromText(n,"url")),n.trigger("dialog.close")}).append((new d).append(new f(h.LOCAL),$('<input class="textae-editor__load-dialog__file" type="file" />'),m)).on("change",'[type="file"]',function(){p["default"].enabled(m,this.files.length>0)}).on("click",'[type="button"].local',function(){k()&&c(n.find('[type="file"]')[0]),n.trigger("dialog.close")}),o=g("textae.dialog.load","Load Annotations",n);return o},l=function(a){var b=function(){i.emit("save"),d.endWait()},c=function(){i.emit("save error"),d.endWait()},e=function(a,e){d.startWait(),j.post(a,e,b,c,function(){d.endWait()})},f=function(a){var b=new Blob([a],{type:"application/json"});return URL.createObjectURL(b)},l=function(){var b=k(a).find("input[type='file']"),c=b.prop("files")[0];return c?c.name:"annotations.json"},m=_.partial(p["default"].Div,"textae-editor__save-dialog__row"),n=_.partial(p["default"].Label,"textae-editor__save-dialog__label"),o=new p["default"].Button("Save","url"),q=$("<div>").append((new m).append(new n(h.URL),$('<input type="text" class="textae-editor__save-dialog__server-file-name url" />'),o)).on("input","input.url",function(){p["default"].enabled(o,this.value)}).on("click",'[type="button"].url',function(){e(p["default"].getValueFromText(q,"url"),r.params),q.trigger("dialog.close")}).append((new m).append(new n(h.LOCAL),$('<input type="text" class="textae-editor__save-dialog__local-file-name local">'),$('<a class="download" href="#">Download</a>'))).on("click","a.download",function(){var a=f(r.params);$(this).attr("href",a).attr("download",p["default"].getValueFromText(q,"local")),i.emit("save"),q.trigger("dialog.close")}).append((new m).append(new n,$('<a class="viewsource" href="#">Click to see the json source in a new window.</a>'))).on("click","a.viewsource",function(a){var b=f(r.params);return window.open(b,"_blank"),i.emit("save"),q.trigger("dialog.close"),!1}),r=g("textae.dialog.save","Save Annotations",q);return r.on("dialogopen",function(){var a=l();r.find('[type="text"].local').val(a)}),r};return{showLoad:function(a,b){k(a).openAndSetParam(b)},showSave:function(a,b){l(a).openAndSetParam(b)}}}(),i=_.extend(new h.EventEmitter,{getAnnotationFromServer:e,showAccess:_.partial(f.showLoad,a.editorId),showSave:_.partial(f.showSave,a.editorId)});return i}},{"../util/CursorChanger":370,"../util/ajaxAccessor":371,"./dialog/GetEditorDialog":178,"./jQuerySugar":182,"babel-runtime/helpers/interop-require-default":17,"babel-runtime/helpers/interop-require-wildcard":18,events:108,url:115}],164:[function(a,b,c){"use strict";var d=a("./dialog/GetToolDialog");b.exports=function(){var a=new d("textae-control__help","Help (Keyboard short-cuts)",{height:313,width:523},$("<div>").addClass("textae-tool__key-help"));return a.open}},{"./dialog/GetToolDialog":179}],165:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a,b){var c=$("<div>").addClass("textae-editor__type-pallet").append($("<table>")).css("position","fixed");return c.on("click",".textae-editor__type-pallet__entity-type__label",function(){c.hide(),a($(this).attr("label"))}).on("change",".textae-editor__type-pallet__entity-type__radio",function(){c.hide(),b($(this).attr("label"))}).hide(),c},b.exports=c["default"]},{}],166:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("handlebars"),f=d(e),g='\n{{#each this}}\n<tr class="textae-editor__type-pallet__entity-type" style="background-color: {{color}};">\n  <td>\n    <input class="textae-editor__type-pallet__entity-type__radio" type="radio" name="etype" label="{{typeName}}" {{#if defaultType}}title="default type" checked="checked"{{/if}}>\n  </td>\n  <td class="textae-editor__type-pallet__entity-type__label" label="{{typeName}}">\n    {{typeName}}\n  </td>\n  <td>\n    {{#if uri}}\n    <a href="{{uri}}" target="_blank"><span class="textae-editor__type-pallet__link"></span></a>\n    {{/if}}\n  </td>\n</tr>\n{{/each}}\n',h=f["default"].compile(g);c["default"]=function(a){var b=a.getSortedNames().map(function(b){return{typeName:b,defaultType:b===a.getDefaultType(),uri:a.getUri(b),color:a.getColor(b)}});return $(h(b))},b.exports=c["default"]},{"babel-runtime/helpers/interop-require-default":17,handlebars:145}],167:[function(a,b,c){"use strict";function d(a,b,c){b&&b.getSortedNames().length>0&&(a=e(a),a=f(b,a),a=g(a),a.css(c).show())}function e(a){var b=$(".textae-editor__type-pallet");return 0!==b.length?b.find("table").empty().end().css("width","auto"):($("body").append(a),a)}function f(a,b){return b.find("table").append(new l["default"](a)).end()}function g(a){return a.outerHeight()+"px"===a.css("max-height")?a.css("overflow-y","scroll"):a.css("overflow-y","")}var h=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var i=a("./Component"),j=h(i),k=a("./Row"),l=h(k);c["default"]=function(a,b){var c=new j["default"](a,b);return{show:function(a){function b(b,c){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(a,b){return d(c,a,b)}),hide:function(){return c.hide()}}},b.exports=c["default"]},{"./Component":165,"./Row":166,"babel-runtime/helpers/interop-require-default":17}],168:[function(a,b,c){"use strict";function d(a,b,c){e(a,b,c),f(a,b)}function e(a,b,c){var d=h(function(d){c.changeTypeGap(d.target.value),n["default"](b,a)});return a.on("change",".type-gap",d)}function f(a,b){var c=h(function(a){l.set(b[0],a.target.value),g()});return a.on("change",".line-height",c)}function g(){$(window).trigger("resize")}function h(a){return _.debounce(a,300)}var i=a("babel-runtime/helpers/interop-require-wildcard")["default"],j=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var k=a("../../editor/View/lineHeight"),l=i(k),m=a("./updateLineHeight"),n=j(m),o=a("./updateTypeGapEnable"),p=(j(o),a("./updateTypeGapValue")),q=(j(p),'\n    <div class="textae-editor__setting-dialog">\n        <div>\n            <label class="textae-editor__setting-dialog__label">Type Gap</label>\n            <input type="number" class="textae-editor__setting-dialog__type-gap type-gap" step="1" min="0" max="5">\n        </div>\n        <div>\n            <label class="textae-editor__setting-dialog__label">Line Height</label>\n            <input type="number" class="textae-editor__setting-dialog__line-height line-height" step="1" min="50" max="500">\n            px\n        </div>\n    </div>\n');c["default"]=function(a,b){var c=$(q);return d(c,a,b),c},b.exports=c["default"]},{"../../editor/View/lineHeight":348,"./updateLineHeight":171,"./updateTypeGapEnable":172,"./updateTypeGapValue":173,"babel-runtime/helpers/interop-require-default":17,"babel-runtime/helpers/interop-require-wildcard":18}],169:[function(a,b,c){"use strict";function d(a,b){return new g["default"](b)("textae.dialog.setting","Setting",a,{noCancelButton:!0})}var e=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var f=a("../dialog/GetEditorDialog"),g=e(f),h=a("./create"),i=e(h),j=a("./update"),k=e(j);c["default"]=function(a,b){var c=i["default"](a,b),e=d(c,a);return function(){return k["default"](e,a,b),e.open()}},b.exports=c["default"]},{"../dialog/GetEditorDialog":178,"./create":168,"./update":170,"babel-runtime/helpers/interop-require-default":17}],170:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("../jQuerySugar"),f=(d(e),a("./updateLineHeight")),g=d(f),h=a("./updateTypeGapEnable"),i=d(h),j=a("./updateTypeGapValue"),k=d(j);c["default"]=function(a,b,c){i["default"](c,a),k["default"](c,a),g["default"](b,a)},b.exports=c["default"]},{"../jQuerySugar":182,"./updateLineHeight":171,"./updateTypeGapEnable":172,"./updateTypeGapValue":173,"babel-runtime/helpers/interop-require-default":17}],171:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-wildcard")["default"],e=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var f=a("../../editor/View/lineHeight"),g=d(f),h=a("../jQuerySugar"),i=e(h);c["default"]=function(a,b){return i["default"].setValue(b,".line-height",g.get(a[0]))},b.exports=c["default"]},{"../../editor/View/lineHeight":348,"../jQuerySugar":182,"babel-runtime/helpers/interop-require-default":17,"babel-runtime/helpers/interop-require-wildcard":18}],172:[function(a,b,c){"use strict";function d(a){return a.find(".type-gap")}var e=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var f=a("../jQuerySugar"),g=e(f);c["default"]=function(a,b){return g["default"].enabled(d(b),a.showInstance()),b},b.exports=c["default"]},{"../jQuerySugar":182,"babel-runtime/helpers/interop-require-default":17}],173:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("../jQuerySugar"),f=d(e);c["default"]=function(a,b){return f["default"].setValue(b,".type-gap",a.getTypeGap)},b.exports=c["default"]},{"../jQuerySugar":182,"babel-runtime/helpers/interop-require-default":17}],174:[function(a,b,c){"use strict";var d=function(a){var b=a.find(".textae-editor__footer .textae-editor__footer__message");if(0===b.length){b=$("<div>").addClass("textae-editor__footer__message");var c=$("<div>").addClass("textae-editor__footer").append(b);a.append(c)}return b};b.exports=function(a){var b=_.partial(d,a),c=function(a){""!==a&&b().html("Source: "+a)};return{status:c}}},{}],175:[function(a,b,c){"use strict";var d=function(a,b,c){return $("<div>").attr("id",a).attr("title",b).hide().append(c)},e=function(a,b){return{open:function(){a.dialog(b)},close:function(){a.dialog("close")}}},f=function(a,b){return _.extend(b,new e(b,a))},g=function(a){return $("body").append(a),a};b.exports=function(a,b,c,e){a=_.extend({resizable:!1,modal:!0},a);var h=_.partial(f,a),i=_.compose(g,h,d);return i(b,c,e)}},{}],176:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"],e=a("./Dialog"),f=d(e),g=function(a,b){return a+"."+b},h={width:550,height:220};b.exports=function(a,b,c,d,e){var i=_.extend({},h,e);e&&e.noCancelButton?i.buttons={}:i.buttons={Cancel:function(){$(this).dialog("close")}};var j=new f["default"](i,g(a,b),c,d);return _.extend(j,{id:b})}},{"./Dialog":175,"babel-runtime/helpers/interop-require-default":17}],177:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/to-consumable-array")["default"],e=function(a,b){return a[b]},f=function(a,b,c){return a[b]=c,c};b.exports=function(a){var b={},c=_.partial(e,b),g=_.partial(f,b),h=function(a,b){var c=a.apply(void 0,d(b));return g(c.id,c)};return function(b,d,e,f){return c(b)||h(a,arguments)}}},{"babel-runtime/helpers/to-consumable-array":20}],178:[function(a,b,c){"use strict";var d=a("./EditorDialog"),e=a("./FunctionUseCache");b.exports=function(a){return a.getDialog=a.getDialog||new e(_.partial(d,a.editorId)),a.getDialog}},{"./EditorDialog":176,"./FunctionUseCache":177}],179:[function(a,b,c){"use strict";var d=a("./ToolDialog"),e=a("./FunctionUseCache");b.exports=new e(d)},{"./FunctionUseCache":177,"./ToolDialog":180}],180:[function(a,b,c){"use strict";var d=a("./Dialog");b.exports=function(a,b,c,e){var f=new d(c,a,b,e);return _.extend(f,{id:a})}},{"./Dialog":175}],181:[function(a,b,c){"use strict";b.exports=function(a,b){b?a.removeAttr("disabled"):a.attr("disabled","disabled")}},{}],182:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"],e=a("./jQueryEnabled"),f=d(e),g=function(a,b,c,d){var e={};return e[a]=d,b.find(c).prop(e).end()};b.exports={enabled:f["default"],Div:function(a){return $("<div>").addClass(a)},Label:function(a,b){return $("<label>").addClass(a).text(b)},Button:function(a,b){return $('<input type="button" disabled="disabled" />').addClass(b).val(a)},Checkbox:function(a){return $('<input type="checkbox"/>').addClass(a)},Number:function(a){return $('<input type="number"/>').addClass(a)},toLink:function(a){return'<a href="'+a+'">'+a+"</a>"},getValueFromText:function(a,b){return a.find('[type="text"].'+b).val()},setChecked:_.partial(g,"checked"),setValue:_.partial(g,"value")}},{"./jQueryEnabled":181,"babel-runtime/helpers/interop-require-default":17}],183:[function(a,b,c){"use strict";function d(a,b){return a.innerHTML="",b.map(e).map(n).forEach(function(b,c){1===c&&a.insertAdjacentHTML("beforeend",m),a.insertAdjacentHTML("beforeend",b)}),a}function e(a){return a.referencedItems=a.relationObj.map(function(a){return a.alertObj=!0,a}).concat(a.relationSubj.map(function(a){return a.alertSubj=!0,a})).concat(a.modification.map(function(a){return a.subj="-",a.alertObj=!0,a})),a}var f=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var g=a("handlebars"),h=f(g),i=a("../editor/Model/AnnotationData/parseAnnotation/validateAnnotation"),j=a("./dialog/GetEditorDialog"),k=f(j),l='\n    <div class="textae-editor__valiondate-dialog__content">\n        <h2>{{name}}</h2>\n        {{#if denotationHasLength}}\n            <table>\n                <caption>Wrong range.</caption>\n                <thead>\n                    <tr>\n                        <th class="id">id</th>\n                        <th class="range">begin</th>\n                        <th class="range">end</th>\n                        <th>obj</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {{#denotationHasLength}}\n                    <tr>\n                        <td>{{id}}</td>\n                        <td class="alert">{{span.begin}}</td>\n                        <td class="alert">{{span.end}}</td>\n                        <td>{{obj}}</td>\n                    </tr>\n                    {{/denotationHasLength}}\n                </tbody>\n            </table>\n        {{/if}}\n        {{#if denotationInText}}\n            <table>\n                <caption>Out of text.</caption>\n                <thead>\n                    <tr>\n                        <th class="id">id</th>\n                        <th class="range">begin</th>\n                        <th class="range">end</th>\n                        <th>obj</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {{#denotationInText}}\n                    <tr>\n                        <td>{{id}}</td>\n                        <td class="alert">{{span.begin}}</td>\n                        <td class="alert">{{span.end}}</td>\n                        <td>{{obj}}</td>\n                    </tr>\n                    {{/denotationInText}}\n                </tbody>\n            </table>\n        {{/if}}\n        {{#if denotationIsNotCrossing}}\n            <table>\n                <caption>Spans with boundary-cross.</caption>\n                <thead>\n                    <tr>\n                        <th class="id">id</th>\n                        <th class="range">begin</th>\n                        <th class="range">end</th>\n                        <th>obj</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {{#denotationIsNotCrossing}}\n                    <tr>\n                        <td>{{id}}</td>\n                        <td class="alert">{{span.begin}}</td>\n                        <td class="alert">{{span.end}}</td>\n                        <td>{{obj}}</td>\n                    </tr>\n                    {{/denotationIsNotCrossing}}\n                </tbody>\n            </table>\n        {{/if}}\n        {{#if denotationInParagraph}}\n            <table>\n                <caption>Spans across paragraphs (newline-delimited).</caption>\n                <thead>\n                    <tr>\n                        <th class="id">id</th>\n                        <th class="range">begin</th>\n                        <th class="range">end</th>\n                        <th>obj</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {{#denotationInParagraph}}\n                    <tr>\n                        <td>{{id}}</td>\n                        <td class="alert">{{span.begin}}</td>\n                        <td class="alert">{{span.end}}</td>\n                        <td>{{obj}}</td>\n                    </tr>\n                    {{/denotationInParagraph}}\n                </tbody>\n            </table>\n        {{/if}}\n        {{#if referencedItems}}\n            <table>\n                <caption>Referenced items do not exist.</caption>\n                <thead>\n                    <tr>\n                        <th class="id">id</th>\n                        <th class="referencedItem">subj</th>\n                        <th>pred</th>\n                        <th class="referencedItem">obj</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {{#referencedItems}}\n                    <tr>\n                        <td>{{id}}</td>\n                        <td{{#if alertSubj}} class="alert"{{/if}}>{{subj}}</td>\n                        <td>{{pred}}</td>\n                        <td{{#if alertObj}} class="alert"{{/if}}>{{obj}}</td>\n                    </tr>\n                    {{/referencedItems}}\n                </tbody>\n            </table>\n        {{/if}}\n    </div>',m='\n        <div class="textae-editor__valiondate-dialog__content">\n            <h1>Track annatations will be merged to the root anntations.</h1>\n        </div>',n=h["default"].compile(l);c["default"]=function(a,b){if(i.hasError(b)){var c=new k["default"](a)("textae.dialog.validation","The following erroneous annotations ignored",$("<div>"),{noCancelButton:!0,height:450});d(c[0].firstChild,b),c.open()}},b.exports=c["default"]},{"../editor/Model/AnnotationData/parseAnnotation/validateAnnotation":218,"./dialog/GetEditorDialog":178,"babel-runtime/helpers/interop-require-default":17,handlebars:145}],184:[function(a,b,c){b.exports={buttonGroup:[{list:[{type:"read",title:"Import [I]"},{type:"write",title:"Upload [U]"}]},{list:[{type:"view",title:"View Mode"},{type:"term",title:"Term Edit Mode"},{type:"relation",title:"Relation Edit Mode"}]},{list:[{type:"simple",title:"Simple View"},{type:"line-height",title:"Adjust LineHeight"}]},{list:[{type:"undo",title:"Undo [Z]"},{type:"redo",title:"Redo [A]"}]},{list:[{type:"replicate",title:"Replicate span annotation [R]"},{type:"replicate-auto",title:"Auto replicate"},{type:"boundary-detection",title:"Boundary Detection [B]"}]},{list:[{type:"entity",title:"New entity [E]"},{type:"pallet",title:"Select label [Q]"},{type:"change-label",title:"Change label [W]"}]},{list:[{type:"negation",title:"Negation [X]"},{type:"speculation",title:"Speculation [S]"}]},{list:[{type:"delete",title:"Delete [D]"},{type:"copy",title:"Copy [C]"},{type:"paste",title:"Paste [V]"}]},{list:[{type:"setting",title:"Setting"}]},{list:[{type:"help",title:"Help [H]"}]}]}},{}],185:[function(a,b,c){"use strict";function d(a,b){h(a,b).removeClass("textae-control__icon--disabled")}function e(a,b){h(a,b).addClass("textae-control__icon--disabled")}function f(a,b){h(a,b).addClass("textae-control__icon--pushed")}function g(a,b){h(a,b).removeClass("textae-control__icon--pushed")}function h(a,b){return a.find(k["default"](b))}var i=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c.enable=d,c.disable=e,c.push=f,c.unpush=g;var j=a("./toButtonClass"),k=i(j)},{"./toButtonClass":188,"babel-runtime/helpers/interop-require-default":17}],186:[function(a,b,c){"use strict";function d(a,b,c){var d=_.extend({},b,r,c);q["default"](a,b,d)}function e(a,b,c){c?o.push(a,b):o.unpush(a,b)}var f=a("babel-runtime/helpers/interop-require-default")["default"],g=a("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(c,"__esModule",{value:!0});var h=a("./buttonMap"),i=f(h),j=a("./makeButtons"),k=f(j),l=a("./toButtonList"),m=f(l),n=a("./iconCssUtil"),o=g(n),p=a("./updateButtons"),q=f(p),r={read:!0,help:!0};c["default"]=function(a){var b=m["default"](i["default"]);return k["default"](a,i["default"]),a.updateAllButtonEnableState=function(c){return d(a,b,c)},a.updateButtonPushState=function(b,c){return e(a,b,c)},a},b.exports=c["default"]},{"./buttonMap":184,"./iconCssUtil":185,"./makeButtons":187,"./toButtonList":189,"./updateButtons":190,"babel-runtime/helpers/interop-require-default":17,"babel-runtime/helpers/interop-require-wildcard":18}],187:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("handlebars"),f=d(e),g='\n    <span class="textae-control__title">\n        <a href="http://textae.pubannotation.org/" target="_blank">TextAE</a>\n    </span>\n    {{#buttonGroup}}\n    <span class="textae-control__separator"></span>\n        {{#list}}\n    <span class="textae-control__icon textae-control__{{type}}-button" title="{{title}}"></span>\n        {{/list}}\n    {{/buttonGroup}}\n    ',h=f["default"].compile(g);c["default"]=function(a,b){a[0].innerHTML=h(b)},b.exports=c["default"]},{"babel-runtime/helpers/interop-require-default":17,handlebars:145}],188:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a){return".textae-control__"+a+"-button"},b.exports=c["default"]},{}],189:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a){return a.buttonGroup.reduce(function(a,b){return b.list.reduce(function(a,b){return a[b.type]=1,a},a)},{})},b.exports=c["default"]},{}],190:[function(a,b,c){"use strict";function d(a,b){var c=function(){return a.trigger("textae.control.button.click","textae.control.button."+b.replace(/-/g,"_")+".click"),!1};a.off(n,m["default"](b)).on(n,m["default"](b),c),k.enable(a,b)}function e(a,b){a.off(n,m["default"](b)),k.disable(a,b)}function f(a,b,c){c===!0?d(a,b):e(a,b)}var g=a("babel-runtime/core-js/object/keys")["default"],h=a("babel-runtime/helpers/interop-require-wildcard")["default"],i=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var j=a("./iconCssUtil"),k=h(j),l=a("./toButtonClass"),m=i(l),n="click";c["default"]=function(a,b,c){g(c).filter(function(a){return b[a]}).forEach(function(b){return f(a,b,c[b])})},b.exports=c["default"]},{"./iconCssUtil":185,"./toButtonClass":188,"babel-runtime/core-js/object/keys":9,"babel-runtime/helpers/interop-require-default":17,"babel-runtime/helpers/interop-require-wildcard":18}],191:[function(a,b,c){"use strict";function d(a,b,c){a.has(b)&&a.get(b)(c)}function e(a,b,c,d,e){var f=function(){return c.showAccess(d.hasAnythingToSave())},h=function(){return c.showSave(e.toJson())};return new g([["A",a.redo],["B",b.event.toggleDetectBoundaryMode],["C",b.event.copyEntities],["D",b.event.removeSelectedElements],["DEL",b.event.removeSelectedElements],["E",b.event.createEntity],["F",b.event.toggleInstaceRelation],["I",f],["M",b.event.toggleInstaceRelation],["Q",b.event.showPallet],["R",b.event.replicate],["S",b.event.speculation],["U",h],["V",b.event.pasteEntities],["W",b.event.changeLabel],["X",b.event.negation],["Y",a.redo],["Z",a.undo],["ESC",b.event.cancelSelect],["LEFT",b.event.selectLeft],["RIGHT",b.event.selectRight],["UP",b.event.selectUp],["DOWN",b.event.selectDown]])}function f(a,b,c,d,e,f,h){var i=function(){return c.showAccess(d.hasAnythingToSave())},j=function(){return c.showSave(e.toJson())};return new g([["textae.control.button.view.click",b.event.toViewMode],["textae.control.button.term.click",b.event.toTermMode],["textae.control.button.relation.click",b.event.toRelationMode],["textae.control.button.simple.click",b.event.toggleSimpleMode],["textae.control.button.read.click",i],["textae.control.button.write.click",j],["textae.control.button.undo.click",a.undo],["textae.control.button.redo.click",a.redo],["textae.control.button.replicate.click",b.event.replicate],["textae.control.button.replicate_auto.click",f.modeAccordingToButton["replicate-auto"].toggle],["textae.control.button.boundary_detection.click",b.event.toggleDetectBoundaryMode],["textae.control.button.entity.click",b.event.createEntity],["textae.control.button.change_label.click",b.event.changeLabel],["textae.control.button.pallet.click",b.event.showPallet],["textae.control.button.negation.click",b.event.negation],["textae.control.button.speculation.click",b.event.speculation],["textae.control.button.delete.click",b.event.removeSelectedElements],["textae.control.button.copy.click",b.event.copyEntities],["textae.control.button.paste.click",b.event.pasteEntities],["textae.control.button.setting.click",b.event.showSettingDialog],["textae.control.button.line_height.click",h]])}var g=a("babel-runtime/core-js/map")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a,b,c,g,h,i,j,k){var l=new e(a,b,c,g,h),m=new f(a,b,c,g,h,i,k);return{handleKeyInput:function(a,b){return d(l,a,b)},handleButtonClick:function(a,b){return d(m,a,b)},redraw:function(){return j.updateDisplay()}}},b.exports=c["default"]},{"babel-runtime/core-js/map":4}],192:[function(a,b,c){"use strict";b.exports=function(a,b){b?console.log("[command.invoke]",a,b):console.log("[command.invoke]",a)}},{}],193:[function(a,b,c){"use strict";function d(a,b,c){a[b]&&a[b].add(c.id)}var e=a("babel-runtime/helpers/create-class")["default"],f=a("babel-runtime/helpers/class-call-check")["default"],g=a("babel-runtime/helpers/get")["default"],h=a("babel-runtime/helpers/inherits")["default"],i=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var j=a("./commandLog"),k=i(j),l=function(){function a(b){f(this,a),
this.execute=b}return e(a,[{key:"execute",value:function(){}},{key:"revert",value:function(){}}]),a}(),m=function(a){function b(a,c,e,h){f(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,function(){return h=a.annotationData[c].add(h),e&&d(a.selectionModel,c,h),this.revert=function(){return new n(a,c,h.id)},k["default"]("create a new "+c+": ",h),h})}return h(b,a),b}(l),n=function(a){function b(a,c,d){f(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,function(){var b=a.annotationData[c].remove(d);b?(this.revert=function(){return new m(a,c,!1,b)},k["default"]("remove a "+c+": ",b)):(this.revert=function(){return{execute:function(){}}},k["default"]("already removed "+c+": ",d))})}return h(b,a),b}(l),o=function(a){function b(a,c,d,e){f(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,function(){var f=a.annotationData[c].get(d).type,g=a.annotationData[c].changeType(d,e);this.revert=function(){return new b(a,c,d,f)},k["default"]("change type of a "+c+". oldtype:"+f+" "+c+":",g)})}return h(b,a),b}(l),p=k["default"];c.debugLog=p,c.CreateCommand=m,c.RemoveCommand=n,c.ChangeTypeCommand=o},{"./commandLog":192,"babel-runtime/helpers/class-call-check":13,"babel-runtime/helpers/create-class":14,"babel-runtime/helpers/get":15,"babel-runtime/helpers/inherits":16,"babel-runtime/helpers/interop-require-default":17}],194:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"],e=a("./invokeCommand"),f=d(e),g=a("./commandLog"),h=d(g),i=function(){var a=function(a,b){h["default"](a+b.commandType+" a "+b.modelType+": "+b.id)},b=_.partial(a,""),c=_.partial(a,"revert "),d=function(a,b){var d={execute:function(){f["default"].invokeRevert(a),c(b)}};return function(){return d}},e=function(a,b,c,e,f){var g={modelType:a,commandType:c,id:e};return b.revert=new d(f,g),g};return _.compose(b,e)}(),j=function(a,b,c,d,e){f["default"].invoke(e),i(a,b,c,d,e)};b.exports=j},{"./commandLog":192,"./invokeCommand":197,"babel-runtime/helpers/interop-require-default":17}],195:[function(a,b,c){"use strict";function d(a,b){for(var c=String.prototype.indexOf.bind(a,a.substring(b.begin,b.end)),d=b.end-b.begin,e=[],f=0,g=c(f);-1!==g;g=c(f))e.push({begin:g,end:g+d}),f=g+d;return e}function e(a,b,c){var d=a.charAt(c.begin-1),e=a.charAt(c.end);return b(d)&&b(e)}var f=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var g=a("not"),h=f(g),i=a("../Model/isAlreadySpaned"),j=f(i),k=a("../Model/AnnotationData/parseAnnotation/validateAnnotation");c["default"]=function(a,b,c){var f=a.span.all(),g=c?_.partial(e,a.sourceDoc,c):_.identity;return d(a.sourceDoc,b).filter(function(a){return a.begin!==b.begin}).filter(g).filter(h["default"](_.partial(j["default"],f))).filter(h["default"](_.partial(k.isBoundaryCrossingWithOtherSpans,f)))},b.exports=c["default"]},{"../Model/AnnotationData/parseAnnotation/validateAnnotation":218,"../Model/isAlreadySpaned":231,"babel-runtime/helpers/interop-require-default":17,not:158}],196:[function(a,b,c){"use strict";var d=a("babel-runtime/core-js/object/keys")["default"],e=a("./commandTemplate"),f=a("./invokeCommand"),g=a("./executeCompositCommand"),h=a("./getReplicationSpans"),i=a("../idFactory");b.exports=function(a,b,c){var j=function(a){return new e.CreateCommand(b,"span",!0,a)},k=function(a){return new e.CreateCommand(b,"entity",!0,a)},l=function(b,c){var d=i.makeSpanId(a,c),e=j(c),f=k({span:d,type:b}),h=[e,f];return{execute:function(){g("span",this,"create",d,h)}}},m=function(a,c,d){var e=_.partial(l,a),f=h(b.annotationData,c,d).map(e);return{execute:function(){g("span",this,"replicate",c.id,f)}}},n=function(a){return new e.CreateCommand(b,"relation",!1,a)},o=function(a){return new e.CreateCommand(b,"relation",!0,a)},p=function(a){return new e.RemoveCommand(b,"modification",a)},q=function(a){return new e.RemoveCommand(b,"relation",a)},r=function(a){var c=q(a),d=b.annotationData.getModificationOf(a).map(function(a){return a.id}).map(function(a){return p(a)}),e=d.concat(c);return{execute:function(){g("relation",this,"remove",a,e)}}},s=function(a){return new e.RemoveCommand(b,"entity",a)},t=function(a){var c=s(a),d=b.annotationData.entity.assosicatedRelations(a).map(function(a){return q(a)}),e=b.annotationData.getModificationOf(a).map(function(a){return a.id}).map(function(a){return p(a)}),f=d.concat(e).concat(c);return{execute:function(){g("entity",this,"remove",a,f)}}},u=function(a){var c=new e.RemoveCommand(b,"span",a),d=_.flatten(b.annotationData.span.get(a).getTypes().map(function(a){return a.entities.map(function(a){return t(a)})})),f=d.concat(c);return{execute:function(){g("span",this,"remove",a,f)}}},v=function(a){return a.map(function(a){var c=b.annotationData.entity.get(a).span;return{id:a,span:c}}).reduce(function(a,b){var c=a[b.span]?a[b.span]:[];return c.push(b.id),a[b.span]=c,a},{})},w=function(a){var c=v(a);return _.flatten(d(c).map(function(a){var d=b.annotationData.span.get(a),e=c[a],f=_.flatten(d.getTypes().map(function(a){return a.entities})),g=_.reject(f,function(a){return _.contains(e,a)});return{entities:e,spasId:a,noRestEntities:0===g.length}}).map(function(a){return a.noRestEntities?u(a.spasId):a.entities.map(function(a){return t(a)})}))},x=function(a,c,d){var f=new e.ChangeTypeCommand(b,"entity",a,c),h=d?b.annotationData.entity.assosicatedRelations(a).map(function(a){return q(a)}).concat(f):[f];return{execute:function(){g("entity",this,"change",a,h)}}},y=function(c,d){var e=[],f=i.makeSpanId(a,d),h=b.annotationData;return h.span.get(f)||(e.push(u(c)),e.push(j({begin:d.begin,end:d.end})),h.span.get(c).getTypes().forEach(function(a){a.entities.forEach(function(b){e.push(k({id:b,span:f,type:a.name})),e=e.concat(h.entity.assosicatedRelations(b).map(h.relation.get).map(function(a){return n(a)}))})})),{execute:function(){g("span",this,"move",c,e)}}},z={spanCreateCommand:l,spanRemoveCommand:u,spanMoveCommand:y,spanReplicateCommand:m,entityCreateCommand:k,entityRemoveCommand:w,entityChangeTypeCommand:x,relationCreateCommand:o,relationRemoveCommand:r,relationChangeTypeCommand:function(a,c){return new e.ChangeTypeCommand(b,"relation",a,c)},modificationCreateCommand:function(a){return new e.CreateCommand(b,"modification",!1,a)},modificationRemoveCommand:p};return{invoke:function(a){a&&a.length>0&&(f.invoke(a),c.push(a))},undo:function(){return function(){c.hasAnythingToUndo()&&(b.selectionModel.clear(),f.invokeRevert(c.prev()))}}(),redo:function(){c.hasAnythingToRedo()&&(b.selectionModel.clear(),f.invoke(c.next()))},factory:z}}},{"../idFactory":356,"./commandTemplate":193,"./executeCompositCommand":194,"./getReplicationSpans":195,"./invokeCommand":197,"babel-runtime/core-js/object/keys":9}],197:[function(a,b,c){"use strict";var d=a("babel-runtime/core-js/object/create")["default"],e=function(a){a.forEach(function(a){a.execute()})},f=function(a){return a=d(a),a.reverse(),a.map(function(a){return a.revert()})},g=_.compose(e,f),h={invoke:e,invokeRevert:g};b.exports=h},{"babel-runtime/core-js/object/create":6}],198:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=a("events");c["default"]=function(){var a=-1,b=-1,c=[],e=function(){return b>-1},f=function(){return b<c.length-1},g=function(){return b!==a},h=new d.EventEmitter,i=function(){h.emit("change",{hasAnythingToSave:g(),hasAnythingToUndo:e(),hasAnythingToRedo:f()})};return _.extend(h,{reset:function(){a=-1,b=-1,c=[],i()},push:function(a){c.splice(b+1,c.length-b,a),b++,i()},next:function(){return b++,i(),c[b]},prev:function(){var a=c[b];return b--,i(),a},saved:function(){a=b,i()},hasAnythingToSave:g,hasAnythingToUndo:e,hasAnythingToRedo:f})},b.exports=c["default"]},{events:108}],199:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"],e=a("../../../idFactory"),f=d(e),g=a("./ModelContainer"),h=d(g),i=function(a,b){return{id:b.id,span:f["default"].makeSpanId(a,b.span),type:b.obj}},j=function(a,b){return b=b||[],b.map(_.partial(i,a))},k=function(a,b,c){var d=new h["default"](b,"entity",_.partial(j,a),"T"),e=_.compose(d.add,function(a){if(a.span)return a;throw new Error("entity has no span! "+JSON.stringify(a))}),f=function(a){return c.all().filter(function(b){return b.obj===a||b.subj===a}).map(function(a){return a.id})},g=_.extend(d,{add:e,assosicatedRelations:f});return g};b.exports=k},{"../../../idFactory":356,"./ModelContainer":200,"babel-runtime/helpers/interop-require-default":17}],200:[function(a,b,c){"use strict";var d=a("babel-runtime/core-js/object/keys")["default"],e=a("babel-runtime/helpers/interop-require-default")["default"],f=a("./getNextId"),g=e(f),h='Set the mappingFunction by the constructor to use the method "ModelContainer.setSource".';b.exports=function(a,b,c,e){var f={},i=function(){return d(f)},j=_.partial(g["default"],e?e:b.charAt(0).toUpperCase()),k=function(a){return a.id=a.id||j(i()),f[a.id]=a,a},l=function(a){a&&(a.sort(function(a,b){return a.id?b.id?a.id<b.id?-1:a.id>b.id?1:0:-1:1}),a.forEach(k))},m=function(a){return f[a]},n=function(){return _.map(f,_.identity)},o=function(){f={}};return{name:b,addSource:function(a){if(!_.isFunction(c))throw new Error(h);l(c(a))},add:function(c,d){var e=k(c);return _.isFunction(d)&&d(),a.emit(b+".add",e),e},get:m,all:n,some:function(){return _.some(f)},types:function(){return n().map(function(a){return a.type})},changeType:function(c,d){var e=m(c);return e.type=d,a.emit(b+".change",e),e},remove:function(c){var d=f[c];return d&&(delete f[c],a.emit(b+".remove",d)),d},clear:o}}},{"./getNextId":203,"babel-runtime/core-js/object/keys":9,"babel-runtime/helpers/interop-require-default":17}],201:[function(a,b,c){"use strict";var d=a("../../../idFactory"),e=a("./ModelContainer");b.exports=function(a,b){var c=function(b){b=b||[];var c=0;return b.split("\n").map(function(b,e){var f={id:d.makeParagraphId(a,e),begin:c,end:c+b.length,text:b,order:e};return c+=b.length+1,f})},f=new e(b,"paragraph",c),g=f.all,h=_.extend(f,{getBelongingTo:function(a){var b=f.all().filter(function(b){return a.begin>=b.begin&&a.end<=b.end});if(0===b.length)throw new Error("span should belong to any paragraph.");return b[0]},all:function(){var a=g();return a.sort(function(a,b){return a.order<b.order?-1:a.order>b.order?1:0}),a}});return h}},{"../../../idFactory":356,"./ModelContainer":200}],202:[function(a,b,c){"use strict";function d(a,b,c,d){if(!d)return!1;var e=h["default"].makeSpanId(a,d);if(!b.get(e))throw new Error("maybeParent is removed. "+d.toStringOnlyThis());return d.begin<=c.begin&&c.end<=d.end}function e(a,b){return"span "+a.begin+":"+a.end+":"+b.sourceDoc.substring(a.begin,a.end)}var f=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var g=a("../../../idFactory"),h=f(g),i=a("./ModelContainer"),j=f(i),k=a("../parseAnnotation/validateAnnotation");c["default"]=function(a,b,c){var f=function(){var d={toStringOnlyThis:function(a){function b(){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(){return e(this,b)}),toString:function(a){a=a||1;var b=this.children&&this.children.length>0?"\n"+this.children.map(function(b){return new Array(a+1).join("	")+b.toString(a+1)}).join("\n"):"";return this.toStringOnlyThis()+b},getTypes:function(){var a=this.id;return b.entity.all().filter(function(b){return a===b.span}).reduce(function(a,b){var c=h["default"].makeTypeId(b.span,b.type),d=a.filter(function(a){return a.id===c});return d.length>0?d[0].entities.push(b.id):a.push({id:c,name:b.type,entities:[b.id]}),a},[])},getEntities:function(){return _.flatten(this.getTypes().map(function(a){return a.entities}))}};return function(b){return $.extend({},b,{id:h["default"].makeSpanId(a,b),paragraph:c.getBelongingTo(b)},d)}}(),g=function(a){return a=a||[],a.map(function(a){return a.span}).map(f).filter(function(a,b,c){return!k.isBoundaryCrossingWithOtherSpans(c.slice(0,b-1),a)})},i=new j["default"](b,"span",g),l=[],m=function(a,b){a.children.push(b),b.parent=a},n=function(b,c){for(var e=!0;e;){var f=b,g=c;if(e=!1,d(a,i,g,f))return f;if(!f.parent)return null;b=f.parent,c=g,e=!0}},o=function(){var a=i.all().sort(p),b=[];a.map(function(a,b,c){return $.extend(a,{parent:null,children:[],left:0!==b?c[b-1]:null,right:b!==c.length-1?c[b+1]:null})}).forEach(function(a){if(a.left){var c=n(a.left,a);c?m(c,a):b.push(a)}else b.push(a)}),b.toString=function(){return this.map(function(a){return a.toString()}).join("\n")},l=b},p=function(a,b){return a.begin-b.begin||b.end-a.end},q={add:function(a){if(a)return i.add(f(a),o);throw new Error("span is undefined.")},addSource:function(a){i.addSource(a),o()},get:function(a){return i.get(a)},all:i.all,range:function(a,b){var c=i.get(a),d=i.get(b);if(p(c,d)>0){var e=c;c=d,d=e}return i.all().filter(function(a){return c.begin<=a.begin&&a.end<=d.end}).map(function(a){return a.id})},topLevel:function(){return l},multiEntities:function(){return i.all().filter(function(a){var b=a.getTypes().filter(function(a){return a.entities.length>1});return b.length>0})},remove:function(a){var b=i.remove(a);return o(),b},clear:function(){i.clear(),l=[]}};return q},b.exports=c["default"]},{"../../../idFactory":356,"../parseAnnotation/validateAnnotation":218,"./ModelContainer":200,"babel-runtime/helpers/interop-require-default":17}],203:[function(a,b,c){"use strict";function d(a,b){var c=new RegExp(a+"\\d+$");return c.test(b)}function e(a){return a.slice(1)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a,b){var c=b.filter(function(b){return d(a,b)}).map(e),f=0===c.length?0:Math.max.apply(null,c),g=f+1;return a+g},b.exports=c["default"]},{}],204:[function(a,b,c){"use strict";function d(a){return a.map(function(a){return{id:a.id,type:a.pred,subj:a.subj,obj:a.obj}})}var e=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var f=a("events"),g=a("./ModelContainer"),h=e(g),i=a("./ParagraphContainer"),j=e(i),k=a("./SpanContainer"),l=e(k),m=a("./EntityContainer"),n=e(m);c["default"]=function(a){var b=new f.EventEmitter,c=new h["default"](b,"namespace",_.identity),e=new j["default"](a,b),g=new l["default"](a,b,e),i=new h["default"](b,"relation",d),k=new n["default"](a,b,i),m=new h["default"](b,"modification",_.identity);return _.extend(b,{namespace:c,sourceDoc:"",paragraph:e,span:g,entity:k,relation:i,modification:m})},b.exports=c["default"]},{"./EntityContainer":199,"./ModelContainer":200,"./ParagraphContainer":201,"./SpanContainer":202,"babel-runtime/helpers/interop-require-default":17,events:108}],205:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"],e=a("./setNewData"),f=d(e),g=a("./toJson"),h=d(g),i=a("./Container"),j=d(i),k=function(a){a.span.clear(),a.entity.clear(),a.relation.clear(),a.modification.clear(),a.paragraph.clear()},l=function(a){var b,c=new j["default"](a);return _.extend(c,{reset:function(a){try{if(k(c),!a.text)throw new Error("read failed.");var d=f["default"](c,a);return b=a,c.emit("paragraph.change",c.paragraph.all()),c.emit("all.change",c,d.multitrack,d.rejects),d.rejects}catch(e){console.error(e,e.stack)}},toJson:function(){return JSON.stringify(h["default"](b,c))},getModificationOf:function(a){return c.modification.all().filter(function(b){return b.obj===a})}})};b.exports=l},{"./Container":204,"./setNewData":226,"./toJson":227,"babel-runtime/helpers/interop-require-default":17}],206:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("./importSource"),f=d(e),g=a("./translateDenotation"),h=d(g);c["default"]=function(a,b,c,d){f["default"]([a,b],function(a){return h["default"](d,a)},c)},b.exports=c["default"]},{"./importSource":207,"./translateDenotation":212,"babel-runtime/helpers/interop-require-default":17}],207:[function(a,b,c){"use strict";b.exports=function(a,b,c){c&&(c=c.map(b)),a.forEach(function(a){a.addSource(c)})}},{}],208:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("./importSource"),f=d(e),g=a("./translateModification"),h=d(g);c["default"]=function(a,b,c){f["default"]([a],function(a){return h["default"](c,a)},b)},b.exports=c["default"]},{"./importSource":207,"./translateModification":213,"babel-runtime/helpers/interop-require-default":17}],209:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("./importSource"),f=d(e);c["default"]=function(a,b){f["default"]([a],function(a){return _.extend({},a)},b)},b.exports=c["default"]},{"./importSource":207,"babel-runtime/helpers/interop-require-default":17}],210:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("./importSource"),f=d(e),g=a("./translateRelation"),h=d(g);c["default"]=function(a,b,c){f["default"]([a],function(a){return h["default"](c,a)},b)},b.exports=c["default"]},{"./importSource":207,"./translateRelation":214,"babel-runtime/helpers/interop-require-default":17}],211:[function(a,b,c){"use strict";b.exports=function(a,b){return a.id?b+a.id:null}},{}],212:[function(a,b,c){"use strict";var d=a("./setIdPrefixIfExist");b.exports=function(a,b){return a=a||"",_.extend({},b,{id:d(b,a)})}},{"./setIdPrefixIfExist":211}],213:[function(a,b,c){"use strict";var d=a("./setIdPrefixIfExist");b.exports=function(a,b){return a=a||"",_.extend({},b,{id:d(b,a),obj:a+b.obj})}},{"./setIdPrefixIfExist":211}],214:[function(a,b,c){"use strict";var d=a("./setIdPrefixIfExist");b.exports=function(a,b){return a=a||"",_.extend({},b,{id:d(b,a),subj:a+b.subj,obj:a+b.obj})}},{"./setIdPrefixIfExist":211}],215:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("./validateAnnotation"),f=d(e),g=a("./importAnnotation/denotation"),h=d(g),i=a("./importAnnotation/relation"),j=d(i),k=a("./importAnnotation/modification"),l=d(k);c["default"]=function(a,b,c,d,e,g,i,k){var m=f["default"](g,e,i);return h["default"](a,b,m.accept.denotation,k),j["default"](c,m.accept.relation,k),l["default"](d,m.accept.modification,k),m.reject},b.exports=c["default"]},{"./importAnnotation/denotation":206,"./importAnnotation/modification":208,"./importAnnotation/relation":210,"./validateAnnotation":218,"babel-runtime/helpers/interop-require-default":17}],216:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a){return a.reduce(function(a,b){return a||b.hasError},!1)},b.exports=c["default"]},{}],217:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a){return{accept:[],reject:a?a:[]}},b.exports=c["default"]},{}],218:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("./main"),f=d(e),g=a("./Reject/hasError"),h=d(g),i=a("./isBoundaryCrossingWithOtherSpans"),j=d(i);c["default"]=f["default"],c.hasError=h["default"],c.isBoundaryCrossingWithOtherSpans=j["default"]},{"./Reject/hasError":216,"./isBoundaryCrossingWithOtherSpans":219,"./main":221,"babel-runtime/helpers/interop-require-default":17}],219:[function(a,b,c){"use strict";function d(a,b){var c=b.begin<a.begin&&a.begin<b.end&&b.end<a.end,d=a.begin<b.begin&&b.begin<a.end&&a.end<b.end;return c||d}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a,b){return a.filter(function(a){return d(b,a)}).length>0},b.exports=c["default"]},{}],220:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a,b){return b.dictionary?1===b.dictionary.filter(function(c){return c.id===a[b.property]}).length:!1},b.exports=c["default"]},{}],221:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("./validateDenotation"),f=d(e),g=a("./validateRelation"),h=d(g),i=a("./validateModificatian"),j=d(i);c["default"]=function(a,b,c){var d=f["default"](a,b,c.denotations),e=h["default"](d.accept,c.relations),g=j["default"](d.accept,e.accept,c.modifications);return{accept:{denotation:d.accept,relation:e.accept,modification:g.accept},reject:{denotationHasLength:d.reject.hasLength,denotationInText:d.reject.inText,denotationInParagraph:d.reject.inParagraph,denotationIsNotCrossing:d.reject.isNotCrossing,relationObj:e.reject.obj,relationSubj:e.reject.subj,modification:g.reject.modification,hasError:d.hasError||e.hasError||g.hasError}}},b.exports=c["default"]},{"./validateDenotation":223,"./validateModificatian":224,"./validateRelation":225,"babel-runtime/helpers/interop-require-default":17}],222:[function(a,b,c){"use strict";function d(a,b,c,d,e,f){return a(d,b,e,f)?c.accept.push(d):c.reject.push(d),c}var e=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var f=a("./Reject"),g=e(f);c["default"]=function(a,b,c){return a?a.reduce(function(a,e,f,g){return d(b,c,a,e,f,g)},new g["default"]):new g["default"]},b.exports=c["default"]},{"./Reject":217,"babel-runtime/helpers/interop-require-default":17}],223:[function(a,b,c){"use strict";function d(a){return a.span.end-a.span.begin>0}function e(a,b){return a>=0&&a<=b.length}function f(a,b){return e(a.span.begin,b)&&e(a.span.end,b)}function g(a,b){return 1===b.all().filter(function(b){return b.begin<=a.span.begin&&a.span.end<=b.end}).length}var h=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var i=a("./validate"),j=h(i),k=a("./isBoundaryCrossingWithOtherSpans"),l=h(k);c["default"]=function(a,b,c){var e=j["default"](c,d),h=j["default"](e.accept,f,a),i=j["default"](h.accept,g,b),k=j["default"](i.accept,function(a,b,c,d){var e=d.slice(0,c).map(function(a){return a.span}),f=l["default"](e,a.span);return!f}),m=e.reject.length+h.reject.length+i.reject.length+k.reject.length;return{accept:k.accept,reject:{hasLength:e.reject,inText:h.reject,inParagraph:i.reject,isNotCrossing:k.reject},hasError:0!==m}},b.exports=c["default"]},{"./isBoundaryCrossingWithOtherSpans":219,"./validate":222,"babel-runtime/helpers/interop-require-default":17}],224:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("./validate"),f=d(e),g=a("./isContains"),h=d(g);c["default"]=function(a,b,c){var d=f["default"](c,h["default"],{property:"obj",dictionary:_.union(a,b)});return{accept:d.accept,reject:{modification:d.reject,hasError:0!==d.reject.length}}},b.exports=c["default"]},{"./isContains":220,"./validate":222,"babel-runtime/helpers/interop-require-default":17}],225:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("./validate"),f=d(e),g=a("./isContains"),h=d(g);c["default"]=function(a,b){var c=f["default"](b,h["default"],{property:"obj",dictionary:a}),d=f["default"](c.accept,h["default"],{property:"subj",dictionary:a}),e=c.reject.length+d.reject.length;return{accept:d.accept,reject:{obj:c.reject,subj:d.reject,hasError:0!==e}}},b.exports=c["default"]},{"./isContains":220,"./validate":222,"babel-runtime/helpers/interop-require-default":17}],226:[function(a,b,c){"use strict";function d(a,b){a.addSource(b)}function e(a,b,c,d,e,f,g){if(!g.tracks)return[!1,[]];var h=g.tracks;delete g.tracks;var j=h.map(function(g,h){var j=h+1,k="track"+j+"_",l=i["default"](a,b,c,d,e,f,g,k);return l.name="Track "+j+" annotations.",l});return[!0,j]}function f(a,b){var c=e(a.span,a.entity,a.relation,a.modification,a.paragraph,b.text,b),d=i["default"](a.span,a.entity,a.relation,a.modification,a.paragraph,b.text,b);return d.name="Root annotations.",k["default"](a.namespace,b.namespaces),{multitrack:c[0],rejects:[d].concat(c[1])}}var g=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var h=a("./parseAnnotation"),i=g(h),j=a("./parseAnnotation/importAnnotation/namespace"),k=g(j);c["default"]=function(a,b){return d(a.paragraph,b.text),a.sourceDoc=b.text,a.config=b.config,f(a,b)},b.exports=c["default"]},{"./parseAnnotation":215,"./parseAnnotation/importAnnotation/namespace":209,"babel-runtime/helpers/interop-require-default":17}],227:[function(a,b,c){"use strict";var d=function(a){return a.entity.all().filter(function(b){return a.span.get(b.span)}).map(function(b){var c=a.span.get(b.span);return{id:b.id,span:{begin:c.begin,end:c.end},obj:b.type}})},e=function(a){return a.relation.all().map(function(a){return{id:a.id,pred:a.type,subj:a.subj,obj:a.obj}})},f=function(a,b){return _.extend({},a,{denotations:d(b),relations:e(b),modifications:b.modification.all()})};b.exports=f},{}],228:[function(a,b,c){"use strict";function d(a,b){a.emit(b+".change")}function e(a,b,c,e){e.forEach&&e.forEach(function(e){a.add(e),b.emit(c+".select",e),d(b,c)}),a.add(e),b.emit(c+".select",e),d(b,c)}function f(a){return 1===a.size?a.values().next().value:null}function g(a,b,c,d){a.has(d)?h(a,b,c,d):e(a,b,c,d)}function h(a,b,c,e){a["delete"](e),b.emit(c+".deselect",e),d(b,c)}function i(a,b,c){0!==a.size&&(a.forEach(function(d){return h(a,b,c,d)}),d(b,c))}var j=a("babel-runtime/core-js/set")["default"],k=a("babel-runtime/core-js/array/from")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a,b){var c=new j;return{add:function(a){function b(b){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(d){return e(c,a,b,d)}),all:function(){return k(c.values())},has:function(a){return c.has(a)},some:function(){return c.size>0},single:function(a){function b(){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(){return f(c)}),toggle:function(a){function b(b){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(d){return g(c,a,b,d)}),remove:function(a){function b(b){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(d){return h(c,a,b,d)}),clear:function(a){function b(){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(){return i(c,a,b)})}},b.exports=c["default"]},{"babel-runtime/core-js/array/from":1,"babel-runtime/core-js/set":12}],229:[function(a,b,c){"use strict";function d(a){var b=!1;return a.forEach(function(a){return b=b||a.some()}),b}var e=a("babel-runtime/core-js/map")["default"],f=a("babel-runtime/core-js/object/assign")["default"],g=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var h=a("events"),i=a("./IdContainer"),j=g(i);c["default"]=function(a){var b=new h.EventEmitter,c=new e(a.map(function(a){return[a,new j["default"](b,a)]})),g={};return c.forEach(function(a,b){g[b]=a}),f(b,g,{clear:function(){return c.forEach(function(a){return a.clear()})},some:function(){return d(c)}})},b.exports=c["default"]},{"./IdContainer":228,"babel-runtime/core-js/map":4,"babel-runtime/core-js/object/assign":5,"babel-runtime/helpers/interop-require-default":17,events:108}],230:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("./AnnotationData"),f=d(e),g=a("./Selection"),h=d(g);c["default"]=function(a){return{annotationData:new f["default"](a),selectionModel:new h["default"](["span","entity","relation"])}},b.exports=c["default"]},{"./AnnotationData":205,"./Selection":229,"babel-runtime/helpers/interop-require-default":17}],231:[function(a,b,c){"use strict";b.exports=function(a,b){return a.filter(function(a){return a.begin===b.begin&&a.end===b.end}).length>0}},{}],232:[function(a,b,c){"use strict";function d(a,b,c){return a[b]=c,c}var e=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var f=a("capitalize"),g=e(f),h={instanceHide:0,instanceShow:2};c["default"]=function(){var a=_.extend({},h),b=function(b,c){return d(a,b,c)};return _.each(h,function(c,d){a["set"+g["default"](d)]=function(a){return b(d,a)}}),a},b.exports=c["default"]},{"babel-runtime/helpers/interop-require-default":17,capitalize:105}],233:[function(a,b,c){"use strict";function d(a,b,c,d){a?c.setInstanceShow(d):c.setInstanceHide(d),e(a,b,c)}function e(a,b,c){a?b.set(c.instanceShow):b.set(c.instanceHide)}var f=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var g=a("./TypeGapCache"),h=f(g),i=a("../EditMode/event"),j=f(i);c["default"]=function(a,b){var c=!0,f=new h["default"];return b.on(j["default"].SHOW,function(b){c=!0,e(c,a,f)}).on(j["default"].HIDE,function(b){c=!1,e(c,a,f)}),{showInstance:function(){return c},changeTypeGap:function(a){function b(b){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(b){return d(c,a,f,b)}),getTypeGap:function(){return a()},notifyNewInstance:function(){c||toastr.success("an instance is created behind.")}}},b.exports=c["default"]},{"../EditMode/event":240,"./TypeGapCache":232,"babel-runtime/helpers/interop-require-default":17}],234:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("emitter-fsm"),f=d(e),g=a("./state"),h=d(g);c["default"]=function(){var a=new f["default"]({states:[h["default"].INIT,h["default"].TERM,h["default"].INSTANCE,h["default"].RELATION,h["default"].VIEW_TERM,h["default"].VIEW_INSTANCE]});return a.config(h["default"].INIT,{to:{exclude:[h["default"].RELATION]}}),a.config(h["default"].TERM,{from:{exclude:[h["default"].VIEW_INSTANCE]},to:{exclude:[h["default"].INIT,h["default"].VIEW_INSTANCE]}}),a.config(h["default"].INSTANCE,{from:{exclude:[h["default"].VIEW_TERM]},to:{exclude:[h["default"].INIT,h["default"].VIEW_TERM]}}),a.config(h["default"].RELATION,{from:{exclude:[h["default"].INIT]},to:{exclude:[h["default"].INIT,h["default"].VIEW_TERM]}}),a.config(h["default"].VIEW_TERM,{from:{exclude:[h["default"].INSTANCE,h["default"].RELATION]},to:{exclude:[h["default"].INIT,h["default"].INSTANCE]}}),a.config(h["default"].VIEW_INSTANCE,{from:{exclude:[h["default"].TERM]},to:{exclude:[h["default"].INIT,h["default"].TERM]}}),a},b.exports=c["default"]},{"./state":244,"babel-runtime/helpers/interop-require-default":17,"emitter-fsm":106}],235:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("events"),f=a("./setEditableStyle"),g=d(f),h=a("./ViewMode"),i=d(h),j=a("./resetView"),k=(d(j),a("./event")),l=d(k),m="term",n="instance",o="relation";c["default"]=function(a,b,c,d){var f=new i["default"](a,b,d),h=new e.EventEmitter,j={toTerm:function(){h.emit(l["default"].HIDE),h.emit(l["default"].CHANGE,!0,m),c.editEntity(),f.setTerm(),g["default"](a,d,!0)},toInstance:function(){h.emit(l["default"].SHOW),h.emit(l["default"].CHANGE,!0,n),c.editEntity(),f.setInstance(),g["default"](a,d,!0)},toRelation:function(){h.emit(l["default"].SHOW),h.emit(l["default"].CHANGE,!0,o),c.editRelation(),f.setRelation(),g["default"](a,d,!0)},toViewTerm:function(){h.emit(l["default"].HIDE),h.emit(l["default"].CHANGE,!1,m),c.noEdit(),f.setTerm(),g["default"](a,d,!1)},toViewInstance:function(){h.emit(l["default"].SHOW),h.emit(l["default"].CHANGE,!1,n),c.noEdit(),f.setInstance(),g["default"](a,d,!1)}};return _.extend(h,j)},b.exports=c["default"]},{"./ViewMode":237,"./event":240,"./resetView":242,
"./setEditableStyle":243,"babel-runtime/helpers/interop-require-default":17,events:108}],236:[function(a,b,c){"use strict";function d(a){switch(a.currentState){case l["default"].TERM:a.setState(l["default"].VIEW_TERM);break;case l["default"].INSTANCE:case l["default"].RELATION:a.setState(l["default"].VIEW_INSTANCE)}}function e(a,b){switch(a.currentState){case l["default"].RELATION:i(a,b);break;case l["default"].VIEW_INSTANCE:a.setState(l["default"].INSTANCE);break;case l["default"].VIEW_TERM:a.setState(l["default"].TERM)}}function f(a){switch(a.currentState){case l["default"].INSTANCE:a.setState(l["default"].TERM);break;case l["default"].VIEW_INSTANCE:a.setState(l["default"].VIEW_TERM);break;default:throw new Error("Invalid state: "+a.currentState)}}function g(a){switch(a.currentState){case l["default"].TERM:a.setState(l["default"].INSTANCE);break;case l["default"].VIEW_TERM:a.setState(l["default"].VIEW_INSTANCE);break;default:throw new Error("Invalid state: "+a.currentState)}}function h(a,b){switch(a.currentState){case l["default"].INSTANCE:a.setState(l["default"].RELATION);break;case l["default"].RELATION:i(a,b)}}function i(a,b){n["default"](b)?a.setState(l["default"].TERM):a.setState(l["default"].INSTANCE)}var j=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var k=a("./state"),l=j(k),m=a("../isSimple"),n=j(m);c["default"]=function(a,b){return{toTerm:function(){return a.setState(l["default"].TERM)},toInstance:function(){return a.setState(l["default"].INSTANCE)},toViewTerm:function(){return a.setState(l["default"].VIEW_TERM)},toViewInstance:function(){return a.setState(l["default"].VIEW_INSTANCE)},pushView:function(a){function b(){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(){return d(a)}),pushTerm:function(a){function b(){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(){return e(a,b)}),pushRelation:function(){return a.setState(l["default"].RELATION)},pushSimple:function(a){function b(){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(){return f(a)}),upSimple:function(a){function b(){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(){return g(a)}),toggleInstaceRelation:function(a){function b(){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(){return h(a,b)})}},b.exports=c["default"]},{"../isSimple":284,"./state":244,"babel-runtime/helpers/interop-require-default":17}],237:[function(a,b,c){"use strict";function d(a,b){a.removeClass("textae-editor_term-mode").removeClass("textae-editor_instance-mode").removeClass("textae-editor_relation-mode").addClass("textae-editor_"+b+"-mode")}function e(a,b,c){a.removeListener("entity.select",b).removeListener("entity.deselect",b).removeListener("entity.change",b).removeListener("entity.change",c.updateByEntity)}var f=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var g=a("../../View/Selector"),h=f(g);c["default"]=function(a,b,c){var f=new h["default"](a,b),g=_.compose(c.updateByEntity,f.entityLabel.update),i={setTerm:function(){d(a,"term"),e(b.selectionModel,g,c),b.selectionModel.on("entity.select",g).on("entity.deselect",g).on("entity.change",c.updateByEntity)},setInstance:function(){d(a,"instance"),e(b.selectionModel,g,c),b.selectionModel.on("entity.select",g).on("entity.deselect",g).on("entity.change",c.updateByEntity)},setRelation:function(){d(a,"relation"),e(b.selectionModel,g,c)}};return i},b.exports=c["default"]},{"../../View/Selector":341,"babel-runtime/helpers/interop-require-default":17}],238:[function(a,b,c){"use strict";function d(a){return"enter:"+a}var e=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var f=a("./StateMachine"),g=e(f),h=a("./state"),i=e(h);c["default"]=function(a){var b=new g["default"];return b.on("transition",function(a){}).on(d(i["default"].TERM),a.toTerm).on(d(i["default"].INSTANCE),a.toInstance).on(d(i["default"].RELATION),a.toRelation).on(d(i["default"].VIEW_TERM),a.toViewTerm).on(d(i["default"].VIEW_INSTANCE),a.toViewInstance),b},b.exports=c["default"]},{"./StateMachine":234,"./state":244,"babel-runtime/helpers/interop-require-default":17}],239:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a){a.enabled("view",!0),a.enabled("term",!0),a.enabled("relation",!0),a.enabled("simple",!0),a.enabled("setting",!0)},b.exports=c["default"]},{}],240:[function(a,b,c){b.exports={SHOW:"showInstance",HIDE:"hideInstance",CHANGE:"change"}},{}],241:[function(a,b,c){"use strict";var d=a("babel-runtime/core-js/object/assign")["default"],e=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var f=a("events"),g=a("./Transition"),h=e(g),i=a("./bindTransition"),j=e(i),k=a("./resetView"),l=e(k),m=a("./event"),n=e(m),o=a("./Trigger"),p=e(o),q=a("./enableButtonHasAnnotation"),r=e(q);c["default"]=function(a,b,c,e){var g=new f.EventEmitter,i=new h["default"](a,b,c,e),k=j["default"](i),m=new p["default"](k,b.annotationData);return k.once("transition",function(){return r["default"](e)}),i.on(n["default"].SHOW,function(){return g.emit(n["default"].SHOW)}).on(n["default"].HIDE,function(){return g.emit(n["default"].HIDE)}).on(n["default"].CHANGE,function(){return l["default"](c,b.selectionModel)}).on(n["default"].CHANGE,function(a,b){return g.emit(n["default"].CHANGE,a,b)}),d(g,m),g},b.exports=c["default"]},{"./Transition":235,"./Trigger":236,"./bindTransition":238,"./enableButtonHasAnnotation":239,"./event":240,"./resetView":242,"babel-runtime/core-js/object/assign":5,"babel-runtime/helpers/interop-require-default":17,events:108}],242:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a,b){a.hideDialogs(),b.clear()},b.exports=c["default"]},{}],243:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a,b,c){c?a.addClass("textae-editor_editable"):a.removeClass("textae-editor_editable")},b.exports=c["default"]},{}],244:[function(a,b,c){b.exports={INIT:"Init",TERM:"Term Centric",INSTANCE:"Instance / Relation",RELATION:"Relation Edit",VIEW_TERM:"View Term",VIEW_INSTANCE:"View Instance"}},{}],245:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a,b,c,d){var e=function(a){return _.flatten(b.span.get(a).getTypes().filter(function(a){return d.entity.isBlock(a.name)}).map(function(a){return a.entities}))},f=function(b,d){c.span[b](d),a.find("#"+d).hasClass("textae-editor__span--block")&&e(d).forEach(c.entity[b])},g=_.partial(f,"add"),h=_.partial(f,"toggle");return function(a){var d=c.span.single(),e=a.target,f=e.id;a.shiftKey&&d?(c.clear(),b.span.range(d,f).forEach(function(a){g(a)})):a.ctrlKey||a.metaKey?h(f):(c.clear(),g(f))}},b.exports=c["default"]},{}],246:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("./getSelectionSnapShot"),f=d(e);c["default"]=function(a,b,c){var d=window.getSelection();d.isCollapsed?a():b.onText({spanConfig:c,selection:f["default"]()})},b.exports=c["default"]},{"./getSelectionSnapShot":249,"babel-runtime/helpers/interop-require-default":17}],247:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("../../dismissBrowserSelection"),f=d(e);c["default"]=function(a,b){return f["default"](),b.ctrlKey||b.metaKey?a.entity.toggle(b.target.title):(a.clear(),a.entity.add(b.target.title)),!1},b.exports=c["default"]},{"../../dismissBrowserSelection":264,"babel-runtime/helpers/interop-require-default":17}],248:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("./selectEntities"),f=d(e);c["default"]=function(a,b){var c=b.target.previousElementSibling,d=b.target.children;return f["default"](a,b.ctrlKey||b.metaKey,c,d)},b.exports=c["default"]},{"./selectEntities":251,"babel-runtime/helpers/interop-require-default":17}],249:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("../../dismissBrowserSelection"),f=d(e);c["default"]=function(){var a=window.getSelection(),b={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset,range:a.getRangeAt(0)};return f["default"](),b},b.exports=c["default"]},{"../../dismissBrowserSelection":264,"babel-runtime/helpers/interop-require-default":17}],250:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("../../SelectEnd"),f=d(e),g=a("../unbindAllEventhandler"),h=(d(g),a("../changeTypeIfSelected")),i=d(h),j=a("./spanClicked"),k=d(j),l=a("./SelectSpan"),m=d(l),n=a("./bodyClicked"),o=d(n),p=a("./typeLabelClicked"),q=d(p),r=a("./entityClicked"),s=d(r),t=a("./entityPaneClicked"),u=d(t);c["default"]=function(a,b,c,d,e,g,h){var j=new f["default"](a,b,c,d,e),l=new m["default"](a,b.annotationData,b.selectionModel,e),n=b.selectionModel,p=function(){a.on("mouseup",".textae-editor__body",function(){return o["default"](h,j,g)}).on("mouseup",".textae-editor__span",function(a){return k["default"](g,j,l,a)}).on("mouseup",".textae-editor__type-label",function(a){return q["default"](n,a)}).on("mouseup",".textae-editor__entity-pane",function(a){return u["default"](n,a)}).on("mouseup",".textae-editor__entity",function(a){return s["default"](n,a)})},r=n.entity.all,t={changeTypeOfSelected:function(a){return i["default"](c,r,function(a,b){return c.factory.entityChangeTypeCommand(a,b,e.entity.isBlock(b))},a)},getSelectedIdEditable:r,getSelectedType:function(){var a=n.entity.single();return a?b.annotationData.entity.get(a).type:""},typeContainer:e.entity,jsPlumbConnectionClicked:null};return function(){return[p,t]}},b.exports=c["default"]},{"../../SelectEnd":258,"../changeTypeIfSelected":255,"../unbindAllEventhandler":257,"./SelectSpan":245,"./bodyClicked":246,"./entityClicked":247,"./entityPaneClicked":248,"./spanClicked":252,"./typeLabelClicked":253,"babel-runtime/helpers/interop-require-default":17}],251:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("../../dismissBrowserSelection"),f=d(e);c["default"]=function(a,b,c,d){function e(a,b){Array.prototype.forEach.call(b,function(b){return a.entity.add(b.title)})}function g(a,b){Array.prototype.forEach.call(b,function(b){return a.entity.remove(b.title)})}return f["default"](),b?c.classList.contains("ui-selected")?g(a,d):e(a,d):(a.clear(),e(a,d)),!1},b.exports=c["default"]},{"../../dismissBrowserSelection":264,"babel-runtime/helpers/interop-require-default":17}],252:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("./getSelectionSnapShot"),f=d(e);c["default"]=function(a,b,c,d){var e=window.getSelection();return e.isCollapsed?(c(d),!1):(b.onSpan({spanConfig:a,selection:f["default"]()}),void d.stopPropagation())},b.exports=c["default"]},{"./getSelectionSnapShot":249,"babel-runtime/helpers/interop-require-default":17}],253:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("../../dismissBrowserSelection"),f=(d(e),a("./selectEntities")),g=d(f);c["default"]=function(a,b){var c=b.target,d=b.target.nextElementSibling.children;return g["default"](a,b.ctrlKey||b.metaKey,c,d)},b.exports=c["default"]},{"../../dismissBrowserSelection":264,"./selectEntities":251,"babel-runtime/helpers/interop-require-default":17}],254:[function(a,b,c){"use strict";function d(a,b,c,d){return a.entity.some()?g(a,b,c,d):(a.clear(),a.entity.add($(d.target).attr("title"))),!1}function e(){return!1}function f(a,b,c){var d=b.getParameter("id");c.ctrlKey||c.metaKey?a.relation.toggle(d):a.relation.single()!==d&&(a.clear(),a.relation.add(d))}function g(a,b,c,d){var e=a.entity.all()[0],f=$(d.target).attr("title");e===f?a.entity.remove(e):(a.entity.add(f),_.defer(function(){if(b.invoke([b.factory.relationCreateCommand({subj:e,obj:f,type:c.relation.getDefaultType()})]),d.ctrlKey||d.metaKey)a.entity.remove(f);else{if(d.shiftKey)return j["default"](),a.entity.remove(e),a.entity.add(f),!1;a.entity.remove(e),a.entity.remove(f)}}))}var h=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var i=a("../dismissBrowserSelection"),j=h(i),k=a("./changeTypeIfSelected"),l=h(k),m=a("./unbindAllEventhandler");h(m);c["default"]=function(a,b,c,g,h,i){var j=function(){a.on("mouseup",".textae-editor__entity",function(a){return d(b,g,h,a)}).on("mouseup",".textae-editor__relation, .textae-editor__relation__label",e).on("mouseup",".textae-editor__body",i)},k=b.relation.all,m={changeTypeOfSelected:function(a){return l["default"](g,k,g.factory.relationChangeTypeCommand,a)},getSelectedIdEditable:b.relation.all,getSelectedType:function(){var a=b.relation.single();return a?c.relation.get(a).type:""},typeContainer:h.relation,jsPlumbConnectionClicked:function(a,c){return f(b,a,c)}};return function(){return[j,m]}},b.exports=c["default"]},{"../dismissBrowserSelection":264,"./changeTypeIfSelected":255,"./unbindAllEventhandler":257,"babel-runtime/helpers/interop-require-default":17}],255:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a,b,c,d){var e=b();if(e.length>0){var f=e.map(function(a){return c(a,d)});a.invoke(f)}},b.exports=c["default"]},{}],256:[function(a,b,c){"use strict";function d(a,b,c){m["default"](a),c[0](),f(b,c[1])}function e(){return[]}var f=a("babel-runtime/core-js/object/assign")["default"],g=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var h=a("./EditRelation"),i=g(h),j=a("./EditEntity"),k=g(j),l=a("./unbindAllEventhandler"),m=g(l),n={changeTypeOfSelected:null,getSelectedIdEditable:e,getSelectedType:null,typeContainer:null,jsPlumbConnectionClicked:null};c["default"]=function(a,b,c,e,g,h,j){var l=f({},n),m=function(){return[function(){},n]},o=new i["default"](a,b.selectionModel,b.annotationData,e,h,j),p=new k["default"](a,b,e,g,h,c,j);return{handler:l,start:{noEdit:function(){var b=m();d(a,l,b)},editRelation:function(){var b=o();d(a,l,b)},editEntity:function(){var b=p();d(a,l,b)}}}},b.exports=c["default"]},{"./EditEntity":250,"./EditRelation":254,"./unbindAllEventhandler":257,"babel-runtime/core-js/object/assign":5,"babel-runtime/helpers/interop-require-default":17}],257:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a){return a.off("mouseup",".textae-editor__body").off("mouseup",".textae-editor__span").off("mouseup",".textae-editor__span_block").off("mouseup",".textae-editor__type-label").off("mouseup",".textae-editor__entity-pane").off("mouseup",".textae-editor__entity")},b.exports=c["default"]},{}],258:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"],e=a("./SelectionParser"),f=d(e),g=a("./SelectionValidater"),h=d(g),i=a("./SpanEditor"),j=d(i),k=function(a,b,c){var d=a.validateOnText(c.spanConfig,c.selection);d&&_.compose(b.expand,b.create)(c)},l=function(a,b,c){var d=a.validateOnSpan(c.spanConfig,c.selection);d&&_.compose(b.shrink,b.expand,b.create)(c)};b.exports=function(a,b,c,d,e){var g=new f["default"](a,b),i=new h["default"](g),m=null,n=null,o=function(){var f=d["boundary-detection"].value(),g=d["replicate-auto"].value(),h=new j["default"](a,b,c,e,f,g);m=_.partial(k,i,h),n=_.partial(l,i,h)};return o(),d["boundary-detection"].on("change",o),d["replicate-auto"].on("change",o),{onText:function(a){m&&m(a)},onSpan:function(a){n&&n(a)}}}},{"./SelectionParser":259,"./SelectionValidater":260,"./SpanEditor":261,"babel-runtime/helpers/interop-require-default":17}],259:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"],e=a("./selectPosition"),f=d(e);b.exports=function(a,b){var c=function(a,c){if(!c)return!1;var d=f["default"].toPositions(b.annotationData,c),e=b.annotationData.sourceDoc.substring(d.anchorPosition,d.focusPosition),g=a.removeBlankChractors(e);return g.length>0},d=function(a){return a.anchorNode.parentElement.id===a.focusNode.parentElement.id},e=function(a){return $(a.anchorNode.parentNode)},g=function(a){return $(a.focusNode.parentNode)},h=function(a){return a.hasClass("textae-editor__span")},i=function(a){return a.hasClass("textae-editor__body__text-box__paragraph")},j=function(a){return h(a)||i(a)},k=_.compose(h,e),l=_.compose(h,g),m=_.compose(i,g),n=_.compose(j,e),o=function(){var a=function(a){for(var b=!0;b;){var c=a;if(b=!1,i(c))return c;if(!h(c))return null;a=c.parent(),b=!0}},b=function(b,c){var d=$(b[c+"Node"].parentNode),e=a(d);return e&&e.attr("id")};return function(a){var c=b(a,"anchor"),d=b(a,"focus");return c===d}}(),p=function(a){return a.anchorNode.parentNode.parentNode===a.focusNode.parentNode},q=function(a){return a.anchorNode.parentNode===a.focusNode.parentNode.parentNode},r=function(a){var c=b.selectionModel.span.single();if(c){var d=b.annotationData.span.get(c);return d.begin<a&&a<d.end}return!1},s=function(a){return r(f["default"].getAnchorPosition(b.annotationData,a))},t=function(a){return a.focusNode.parentNode.id===b.selectionModel.span.single()},u=function(a){return r(f["default"].getFocusPosition(b.annotationData,a))},v=function(a){var c=e(a),d=f["default"].getFocusPosition(b.annotationData,a);if(h(c)&&c.parent()&&h(c.parent())){var g=b.annotationData.span.get(c.parent().attr("id"));if(d<g.begin||g.end<d)return!0}},w=function(a){var c=g(a),d=f["default"].getAnchorPosition(b.annotationData,a);if(h(c)&&c.parent()&&h(c.parent())){var e=b.annotationData.span.get(c.parent().attr("id"));if(d<e.begin||e.end<d)return!0}};return{hasCharacters:c,isInOneParent:d,isAnchrNodeInSpan:k,isAnchrNodeInSpanOrParagraph:n,isFocusNodeInSpan:l,isFocusNodeInParagraph:m,isInSameParagraph:o,isAnchorOneDownUnderForcus:p,isForcusOneDownUnderAnchor:q,isAnchorInSelectedSpan:s,isFocusOnSelectedSpan:t,isFocusInSelectedSpan:u,isLongerThanParentSpan:v,isShorterThanChildSpan:w}}},{"./selectPosition":266,"babel-runtime/helpers/interop-require-default":17}],260:[function(a,b,c){"use strict";var d=a("./deferAlert");b.exports=function(a){var b=function(b){return a.isInSameParagraph(b)?!0:(d("It is ambiguous for which span you want to adjust the boundary. Select the span, and try again."),!1)},c=function(c,d){return b(d)&&a.isAnchrNodeInSpanOrParagraph(d)&&a.hasCharacters(c,d)},e=function(b,d){return a.isFocusNodeInParagraph(d)&&c(b,d)},f=function(b,d){return a.isFocusNodeInSpan(d)&&c(b,d)};return{validateOnText:e,validateOnSpan:f}}},{"./deferAlert":263}],261:[function(a,b,c){"use strict";function d(a,b,c){return c&&b(c.selection)?a(c):c}function e(a,b,c,d){return c===n["default"].makeSpanId(a,d)?void 0:[b.factory.spanMoveCommand(c,d)]}function f(a,b){return[a.factory.spanRemoveCommand(b)]}function g(a,b,c,d,e,f,g){var h=100,i=d.create(g.selection,g.spanConfig);if(!o.isBoundaryCrossingWithOtherSpans(a.annotationData.span.all(),i)&&!q["default"](a.annotationData.span.all(),i)){var j=[b.factory.spanCreateCommand(c.entity.getDefaultType(),{begin:i.begin,end:i.end})];f&&i.end-i.begin<=h&&j.push(b.factory.spanReplicateCommand(c.entity.getDefaultType(),{begin:i.begin,end:i.end},e?g.spanConfig.isDelimiter:null)),b.invoke(j)}}function h(a,b,c,d,f,g){var h=d.expand(f,g.selection,g.spanConfig);return o.isBoundaryCrossingWithOtherSpans(b.annotationData.span.all(),h)?void s["default"]("A span cannot be expanded to make a boundary crossing."):void c.invoke(e(a,c,f,h))}function i(a,b,c,d){if(b.isAnchorInSelectedSpan(d.selection))c(a.selectionModel.span.single(),d);else{if(!b.isAnchorOneDownUnderForcus(d.selection))return d;c(d.selection.anchorNode.parentNode.id,d)}}function j(a,b,c,d,g,h){var i=d.shrink(g,h.selection,h.spanConfig);if(o.isBoundaryCrossingWithOtherSpans(b.annotationData.span.all(),i))return void s["default"]("A span cannot be shrinked to make a boundary crossing.");var j=n["default"].makeSpanId(a,i),k=b.annotationData.span.get(j);c.invoke(i.begin<i.end&&!k?e(a,c,g,i):f(c,g))}function k(a,b,c,d){b.isFocusInSelectedSpan(d.selection)?c(a.selectionModel.span.single(),d):b.isForcusOneDownUnderAnchor(d.selection)&&c(d.selection.focusNode.parentNode.id,d)}var l=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var m=a("../../idFactory"),n=l(m),o=a("../../Model/AnnotationData/parseAnnotation/validateAnnotation"),p=a("../../Model/isAlreadySpaned"),q=l(p),r=a("./deferAlert"),s=l(r),t=a("../spanAdjuster/delimiterDetectAdjuster"),u=l(t),v=a("../spanAdjuster/blankSkipAdjuster"),w=l(v),x=a("./SpanManipulater"),y=l(x),z=a("./SelectionParser"),A=l(z);c["default"]=function(a,b,c,e,f,l){var m=f?u["default"]:w["default"],n=new y["default"](b,m),o=new A["default"](a,b),p=_.partial(g,b,c,e,n,f,l),q=_.partial(h,a,b,c,n),r=_.partial(i,b,o,q),s=_.partial(j,a,b,c,n),t=_.partial(k,b,o,s);return{create:_.partial(d,p,o.isInOneParent),expand:_.partial(d,r,o.isAnchrNodeInSpan),shrink:_.partial(d,t,o.isFocusNodeInSpan)}},b.exports=c["default"]},{"../../Model/AnnotationData/parseAnnotation/validateAnnotation":218,"../../Model/isAlreadySpaned":231,"../../idFactory":356,"../spanAdjuster/blankSkipAdjuster":290,"../spanAdjuster/delimiterDetectAdjuster":291,"./SelectionParser":259,"./SpanManipulater":262,"./deferAlert":263,"babel-runtime/helpers/interop-require-default":17}],262:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"],e=a("./selectPosition"),f=d(e);b.exports=function(a,b){var c=function(){var c=function(c,d){var e=f["default"].toPositions(a.annotationData,c);return{begin:b.backFromBegin(a.annotationData.sourceDoc,e.anchorPosition,d),end:b.forwardFromEnd(a.annotationData.sourceDoc,e.focusPosition-1,d)+1}};return function(b,d){return a.selectionModel.clear(),c(b,d)}}(),d=function(){var c=function(c,d,e,f,g){var h=a.annotationData.span.get(c);return d.compareBoundaryPoints(Range.START_TO_START,e)<0?{begin:b.backFromBegin(a.annotationData.sourceDoc,f,g),end:h.end}:{begin:h.begin,end:b.forwardFromEnd(a.annotationData.sourceDoc,f-1,g)+1}};return function(b,d,e){a.selectionModel.clear();var g=document.createRange();g.selectNode(d.anchorNode);var h=f["default"].getFocusPosition(a.annotationData,d);return c(b,d.range,g,h,e)}}(),e=function(){var c=function(c,d,e,f,g){var h=a.annotationData.span.get(c);return d.compareBoundaryPoints(Range.START_TO_START,e)>0?h.begin===f?{begin:h.begin,end:h.begin}:{begin:h.begin,end:b.backFromEnd(a.annotationData.sourceDoc,f-1,g)+1}:h.end===f?{begin:h.end,end:h.end}:{begin:b.forwardFromBegin(a.annotationData.sourceDoc,f,g),end:h.end}};return function(b,d,e){a.selectionModel.clear();var g=document.createRange();g.selectNode(d.focusNode);var h=f["default"].getFocusPosition(a.annotationData,d);return c(b,d.range,g,h,e)}}();return{create:c,expand:d,shrink:e}}},{"./selectPosition":266,"babel-runtime/helpers/interop-require-default":17}],263:[function(a,b,c){"use strict";b.exports=function(a){_.defer(_.partial(alert,a))}},{}],264:[function(a,b,c){"use strict";b.exports=function(){var a=window.getSelection();a.collapse(document.body,0)}},{}],265:[function(a,b,c){"use strict";function d(a,b){a.hide(),b.clear(),j["default"]()}function e(a,b,c){a.handler.jsPlumbConnectionClicked&&!c.processedByTextae&&a.handler.jsPlumbConnectionClicked(b,c),c.processedByTextae=!0}var f=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var g=a("../../../component/Pallet"),h=f(g),i=a("./dismissBrowserSelection"),j=f(i),k=a("./ElementEditor"),l=f(k);c["default"]=function(a,b,c,f,g,i){var j=new l["default"](a,b,c,f,g,i,function(){return d(k,b.selectionModel)}),k=new h["default"](function(a){return j.handler.changeTypeOfSelected(a)},function(a){return j.handler.typeContainer.setDefaultType(a)});return{editRelation:j.start.editRelation,editEntity:j.start.editEntity,noEdit:j.start.noEdit,showPallet:function(a){return k.show(j.handler.typeContainer,a.point)},getTypeOfSelected:function(){return j.handler.getSelectedType()},changeTypeOfSelected:function(a){return j.handler.changeTypeOfSelected(a)},hideDialogs:k.hide,cancelSelect:function(a){function b(){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(){return d(k,b.selectionModel)}),jsPlumbConnectionClicked:function(a){function b(b,c){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(a,b){return e(j,a,b)}),getSelectedIdEditable:function(){return j.handler.getSelectedIdEditable()}}},b.exports=c["default"]},{"../../../component/Pallet":167,"./ElementEditor":256,"./dismissBrowserSelection":264,"babel-runtime/helpers/interop-require-default":17}],266:[function(a,b,c){"use strict";var d=function(a,b,c){var d,e=$(c).parent(),f=e.attr("id");if(e.hasClass("textae-editor__body__text-box__paragraph"))d=a.get(f).begin;else{if(!e.hasClass("textae-editor__span"))throw new Error("Can not get position of a node : "+c+" "+c.data);d=b.get(f).begin}for(var g=c.parentElement.childNodes,h=0;g[h]!==c;h++)d+="#text"===g[h].nodeName?g[h].nodeValue.length:$("#"+g[h].id).text().length;return d},e=function(a,b){var c=d(a.paragraph,a.span,b.focusNode);return c+=b.focusOffset},f=function(a,b){var c=d(a.paragraph,a.span,b.anchorNode);return c+b.anchorOffset},g=function(a,b){var c=f(a,b),d=e(a,b);if(c>d){var g=c;c=d,d=g}return{anchorPosition:c,focusPosition:d}};b.exports={toPositions:g,getAnchorPosition:f,getFocusPosition:e}},{}],267:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("./setButtonState"),f=d(e);c["default"]=function(a,b,c){var d=!1,e=!1;a(function(a){d=a,c.buttonStateHelper.enabled("write",a&&e)}),b.on("change",function(a,b){return f["default"](c,a,b)}).on("change",function(a,b){e=a,a?c.buttonStateHelper.enabled("write",d):c.buttonStateHelper.enabled("write",!1)})},b.exports=c["default"]},{"./setButtonState":285,"babel-runtime/helpers/interop-require-default":17}],268:[function(a,b,c){"use strict";b.exports=function(a,b,c,d){var e=function(){d.clipBoard=_.uniq(function(){return _.flatten(c.span.all().map(function(a){return b.span.get(a).getEntities()}))}().concat(c.entity.all())).map(function(a){return b.entity.get(a).type})},f=function(){var b=_.flatten(c.span.all().map(function(b){return d.clipBoard.map(function(c){return a.factory.entityCreateCommand({span:b,type:c})})}));a.invoke(b)};return{copyEntities:e,pasteEntities:f}}},{}],269:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"],e=a("events"),f=a("./replicate"),g=d(f),h=a("./createEntityToSelectedSpan"),i=d(h),j=function(a,b,c,d,f,h){var j=new e.EventEmitter,k=function(){g["default"](a,b,d,f,c.span.single(),h)},l=function(){i["default"](a,c.span.all(),h),j.emit("createEntity")};return _.extend(j,{replicate:k,createEntity:l})};b.exports=j},{"./createEntityToSelectedSpan":278,"./replicate":281,"babel-runtime/helpers/interop-require-default":17,events:108}],270:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a){return{toViewMode:a.pushView,toTermMode:a.pushTerm,toRelationMode:a.pushRelation}},b.exports=c["default"]},{}],271:[function(a,b,c){"use strict";var d=a("./toggleModification");b.exports=function(a,b,c,e){return{negation:function(){d(a,b,c,"Negation",e)},speculation:function(){d(a,b,c,"Speculation",e)}}}},{"./toggleModification":282}],272:[function(a,b,c){"use strict";function d(a,b,c){var d=h(a,b,c);d()}function e(a,b,c){var d=i(a,b,c);d()}function f(a,b){var c=b.span.single();if(c)return void m(b,c);var d=l(a,A);return 1===d.length?void n(b,d[0]):void 0}function g(a,b){var c=l(a,A);if(1===c.length)return void o(b,c[0]);var d=l(a,C);return 1===d.length?void p(b,d[0]):void 0}function h(a,b,c){var d=function(b){return w.getLeftElement(a,b[0])};return j(a,b,c,d)}function i(a,b,c){var d=function(b){return w.getRightElement(a,b[b.length-1])};return j(a,b,c,d)}function j(a,b,c,d){var e=function(e,f,g){return k(a,e,f,b,c,g,d)},f=e(y,r.selectSpan,function(){return e(A,t["default"],function(){return e(C,v["default"])})});return f}function k(a,b,c,d,e,f,g){var h=l(a,b);if(!h.length)return f?f():function(){};var i=function(){var a=g(h);return{v:function(){return c(d,a,e)}}}();return"object"==typeof i?i.v:void 0}function l(a,b){return a.querySelectorAll("."+b+".ui-selected")}function m(a,b){var c=document.querySelector("#G"+b);if(c){var d=c.querySelector("."+B),e=d.querySelector("."+A);t["default"](a,e)}}function n(a,b){var c=b.nextElementSibling;v["default"](a,c.children[0])}function o(a,b){console.assert(b,"A label MUST exists.");var c=b.closest("."+z).id.substring(1);r.selectSingleSpanById(a,c)}function p(a,b){console.assert(b,"An entity MUST exists."),t["default"](a,b.parentNode.previousElementSibling)}var q=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var r=a("./selectSpan"),s=a("./selectEntityLabel"),t=q(s),u=a("./selectEntity"),v=q(u),w=a("../../../getNextElement"),x=a("../../../getEntityDom"),y=(q(x),"textae-editor__span"),z="textae-editor__grid",A="textae-editor__type-label",B="textae-editor__type",C="textae-editor__entity";c["default"]=function(a,b){var c=a[0];return{selectLeft:function(a){function b(b){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(a){return d(c,b,a.shiftKey)}),selectRight:function(a){function b(b){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(a){return e(c,b,a.shiftKey)}),selectUp:function(){return f(c,b)},selectDown:function(){return g(c,b)},selectLeftFunc:function(a){function b(){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(){return h(c,b)}),selectRightFunc:function(a){function b(){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(){return i(c,b)})}},b.exports=c["default"]},{"../../../getEntityDom":352,"../../../getNextElement":353,"./selectEntity":273,"./selectEntityLabel":274,"./selectSpan":275,"babel-runtime/helpers/interop-require-default":17}],273:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a,b,c){console.assert(a,"selectionModel MUST exists."),b&&(c||a.clear(),a.entity.add(b.title))},b.exports=c["default"]},{}],274:[function(a,b,c){"use strict";function d(a,b,c){if(console.assert(a,"selectionModel MUST exists"),b){var d=b.nextElementSibling,f=d.children;c||a.clear(),a.entity.add(e(f).map(function(a){return a.title}))}}var e=a("babel-runtime/core-js/array/from")["default"],f=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var g=a("./selectEntity");f(g);b.exports=c["default"]},{"./selectEntity":273,"babel-runtime/core-js/array/from":1,"babel-runtime/helpers/interop-require-default":17}],275:[function(a,b,c){"use strict";function d(a,b,c){console.assert(a,"selectionModel MUST not undefined."),b&&(c?a.span.add(b.id):e(a,b.id))}function e(a,b){console.assert(a,"selectionModel MUST not undefined."),
b&&(a.clear(),a.span.add(b))}Object.defineProperty(c,"__esModule",{value:!0}),c.selectSpan=d,c.selectSingleSpanById=e},{}],276:[function(a,b,c){"use strict";function d(a,b){a.simple.value()?b.upSimple():b.pushSimple()}function e(a){a["boundary-detection"].toggle()}function f(a){a.toggleInstaceRelation()}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a,b){return{toggleSimpleMode:function(a){function b(){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(){return d(a,b)}),toggleDetectBoundaryMode:function(a){function b(){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(){return e(a)}),toggleInstaceRelation:function(a){function b(){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(){return f(b)})}},b.exports=c["default"]},{}],277:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a){if(a.getSelectedIdEditable().length>0){var b=a.getTypeOfSelected(),c=prompt("Please enter a new label",b);c&&a.changeTypeOfSelected(c)}},b.exports=c["default"]},{}],278:[function(a,b,c){"use strict";b.exports=function(a,b,c){var d=b.map(function(b){return a.factory.entityCreateCommand({span:b,type:c.getDefaultType()})});a.invoke(d)}},{}],279:[function(a,b,c){"use strict";function d(a,b,c,d){return[].concat(g(d,a),f(c,a),e(b,a))}function e(a,b){return a.map(b.factory.spanRemoveCommand)}function f(a,b){return b.factory.entityRemoveCommand(a)}function g(a,b){return a.map(b.factory.relationRemoveCommand)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a,b){var c=b.span.all(),e=b.entity.all(),f=b.relation.all();return d(a,c,e,f)},b.exports=c["default"]},{}],280:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("./RemoveCommandsFromSelection"),f=d(e);c["default"]=function(a,b,c){var d=c.selectRightFunc(),e=new f["default"](a,b);a.invoke(e),d()},b.exports=c["default"]},{"./RemoveCommandsFromSelection":279,"babel-runtime/helpers/interop-require-default":17}],281:[function(a,b,c){"use strict";var d=function(a,b){return a["boundary-detection"].value()?b.isDelimiter:null},e=function(a,b,c,e,f,g){var h=d(c,e);f?a.invoke([a.factory.spanReplicateCommand(g.getDefaultType(),b.span.get(f),h)]):alert("You can replicate span annotation when there is only span selected.")};b.exports=e},{}],282:[function(a,b,c){"use strict";var d=function(a,b){return a.pred===b},e=function(a,b,c){return a.getModificationOf(b).filter(function(a){return d(a,c)})},f=function(a,b,c,d){return d.getSelectedIdEditable().map(function(d){var f=e(b,d,c)[0];return a.factory.modificationRemoveCommand(f.id)})},g=function(a,b,c,d){return _.reject(d.getSelectedIdEditable(),function(a){return e(b,a,c).length>0}).map(function(b){return a.factory.modificationCreateCommand({obj:b,pred:c})})},h=function(a,b,c,d,e){return e?f(a,b,c,d):g(a,b,c,d)},i=function(a,b,c,d,e){var f=c[d.toLowerCase()].value(),g=h(a,b,d,e,f);a.invoke(g)};b.exports=i},{}],283:[function(a,b,c){"use strict";var d=a("babel-runtime/core-js/object/assign")["default"],e=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var f=a("../../component/SettingDialog"),g=e(f),h=a("./TypeEditor"),i=e(h),j=a("./EditMode"),k=e(j),l=a("./DisplayInstance"),m=e(l),n=a("./setDefaultEditability"),o=e(n),p=a("./handlers/changeLabelHandler"),q=e(p),r=a("./handlers/ClipBoardHandler"),s=e(r),t=a("./handlers/DefaultEntityHandler"),u=e(t),v=a("./handlers/removeSelectedElements"),w=e(v),x=a("./handlers/ModificationHandler"),y=e(x),z=a("./handlers/SelectHandler"),A=e(z),B=a("./handlers/ToggleButtonHandler"),C=e(B),D=a("./handlers/ModeButtonHandlers"),E=e(D),F=a("./enableSaveButtorAtEditable"),G=e(F);c["default"]=function(a,b,c,e,f,h,j,l,n,p){var r=new i["default"](a,b,f,e,j.modeAccordingToButton,n),t=new k["default"](a,b,r,j.buttonStateHelper),v=new m["default"](l,t),x=new u["default"](e,b.annotationData,b.selectionModel,j.modeAccordingToButton,f,n.entity),z=new s["default"](e,b.annotationData,b.selectionModel,h),B=new y["default"](e,b.annotationData,j.modeAccordingToButton,r),D=new C["default"](j.modeAccordingToButton,t),F=new E["default"](t),H=new A["default"](a,b.selectionModel),I=new g["default"](a,v),J=function(){r.hideDialogs(),a.eventEmitter.emit("textae.editor.select"),j.buttonStateHelper.propagate()},K={editorSelected:J,copyEntities:z.copyEntities,removeSelectedElements:function(){return w["default"](e,b.selectionModel,H)},createEntity:x.createEntity,showPallet:r.showPallet,replicate:x.replicate,pasteEntities:z.pasteEntities,changeLabel:function(){return q["default"](r)},cancelSelect:r.cancelSelect,negation:B.negation,speculation:B.speculation,showSettingDialog:I};return d(K,H),d(K,D),d(K,F),G["default"](p,t,j),{init:function(c){a.on("textae.editor.jsPlumbConnection.add",function(a,b){b.bindClickAction(r.jsPlumbConnectionClicked)}),x.on("createEntity",v.notifyNewInstance),o["default"](b.annotationData,t,p,c)},event:K}},b.exports=c["default"]},{"../../component/SettingDialog":169,"./DisplayInstance":233,"./EditMode":241,"./TypeEditor":265,"./enableSaveButtorAtEditable":267,"./handlers/ClipBoardHandler":268,"./handlers/DefaultEntityHandler":269,"./handlers/ModeButtonHandlers":270,"./handlers/ModificationHandler":271,"./handlers/SelectHandler":272,"./handlers/ToggleButtonHandler":276,"./handlers/changeLabelHandler":277,"./handlers/removeSelectedElements":280,"./setDefaultEditability":287,"babel-runtime/core-js/object/assign":5,"babel-runtime/helpers/interop-require-default":17}],284:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a){return!a.relation.some()&&0===a.span.multiEntities().length},b.exports=c["default"]},{}],285:[function(a,b,c){"use strict";function d(a,b,c){a.modeAccordingToButton.view.value(e(b)),a.modeAccordingToButton.term.value(f(b,c)),a.modeAccordingToButton.relation.value(g(c)),a.modeAccordingToButton.simple.value(h(c)),a.buttonStateHelper.enabled("simple",!g(c)),a.buttonStateHelper.enabled("replicate-auto",i(b,c)),a.buttonStateHelper.enabled("boundary-detection",i(b,c)),a.buttonStateHelper.enabled("line-height",b)}function e(a){return!a}function f(a,b){return a&&("term"===b||"instance"===b)}function g(a){return"relation"===a}function h(a){return"term"===a}function i(a,b){return a&&"relation"!==b}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d,b.exports=c["default"]},{}],286:[function(a,b,c){"use strict";function d(a,b){h["default"](b)?a.toTerm():a.toInstance()}function e(a,b){h["default"](b)?a.toViewTerm():a.toViewInstance()}var f=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c.forEditable=d,c.forView=e;var g=a("../isSimple"),h=f(g)},{"../isSimple":284,"babel-runtime/helpers/interop-require-default":17}],287:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-wildcard")["default"],e=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var f=a("./changeView"),g=d(f),h=a("./showLoadNoticeForEditableMode"),i=e(h),j=a("./updateWritable"),k=e(j);c["default"]=function(a,b,c,d){a.on("all.change",function(a,b,d){return k["default"](b,d,c)});var e="edit"===d;if(e){var f=function(a,b,c){return i["default"](b)};a.on("all.change",f).on("all.change",function(a){return g.forEditable(b,a)})}else a.on("all.change",function(a){return g.forView(b,a)})},b.exports=c["default"]},{"./changeView":286,"./showLoadNoticeForEditableMode":288,"./updateWritable":289,"babel-runtime/helpers/interop-require-default":17,"babel-runtime/helpers/interop-require-wildcard":18}],288:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a){a&&toastr.success("track annotations have been merged to root annotations.")},b.exports=c["default"]},{}],289:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=a("../../Model/AnnotationData/parseAnnotation/validateAnnotation");c["default"]=function(a,b,c){c.forceModified(!1),a&&c.forceModified(!0),d.hasError(b)&&c.forceModified(!0)},b.exports=c["default"]},{"../../Model/AnnotationData/parseAnnotation/validateAnnotation":218}],290:[function(a,b,c){"use strict";var d=a("./skipBlank");b.exports={backFromBegin:function(a,b,c){return d.forward(a,b,c.isBlankCharacter)},forwardFromEnd:function(a,b,c){return d.back(a,b,c.isBlankCharacter)},forwardFromBegin:function(a,b,c){return d.forward(a,b,c.isBlankCharacter)},backFromEnd:function(a,b,c){return d.back(a,b,c.isBlankCharacter)}}},{"./skipBlank":292}],291:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"],e=a("./skipCharacters"),f=d(e),g=a("./skipBlank"),h=d(g),i=function(a,b){return[a.charAt(b),a.charAt(b-1)]},j=function(a,b){return[a.charAt(b),a.charAt(b+1)]},k=function(a,b,c){return f["default"](i,-1,a,b,function(a){return a[1]&&!c(a[0])&&!c(a[1])})},l=function(a,b,c){return f["default"](j,1,a,b,function(a){return a[1]&&!c(a[0])&&!c(a[1])})},m=function(a,b,c){return""!==c[0]&&!a(c[1])&&!b(c[1])||b(c[0])},n=function(a,b,c){return f["default"](i,1,a,b,c)},o=function(a,b,c){return f["default"](j,-1,a,b,c)},p=function(a,b,c){var d=h["default"].forward(a,b,c.isBlankCharacter),e=k(a,d,c.isDelimiter);return e},q=function(a,b,c){var d=h["default"].back(a,b,c.isBlankCharacter),e=l(a,d,c.isDelimiter);return e},r=function(a,b,c){var d=_.partial(m,c.isBlankCharacter,c.isDelimiter);return n(a,b,d)},s=function(a,b,c){var d=_.partial(m,c.isBlankCharacter,c.isDelimiter);return o(a,b,d)};b.exports={backFromBegin:p,forwardFromEnd:q,forwardFromBegin:r,backFromEnd:s}},{"./skipBlank":292,"./skipCharacters":293,"babel-runtime/helpers/interop-require-default":17}],292:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"],e=a("./skipCharacters"),f=d(e),g=function(a,b){return a.charAt(b)},h=function(a,b,c){return f["default"](g,1,a,b,c)},i=function(a,b,c){return f["default"](g,-1,a,b,c)};b.exports={forward:h,back:i}},{"./skipCharacters":293,"babel-runtime/helpers/interop-require-default":17}],293:[function(a,b,c){"use strict";b.exports=function(a,b,c,d,e){for(;e(a(c,d));)d+=b;return d}},{}],294:[function(a,b,c){"use strict";var d={"delimiter characters":[" ",".","!","?",",",":",";","-","/","&","(",")","{","}","[","]","+","*","\\",'"',"'","\n","–"],"non-edge characters":[" ","\n"]};b.exports=function(){var a=[],b=[],c=function(c){var e=_.extend({},d,c);return a=e["delimiter characters"],b=e["non-edge characters"],c},e=_.partial(c,d),f=function(b){return a.indexOf("ANY")>=0?1:a.indexOf(b)>=0},g=function(a){return b.indexOf(a)>=0},h=function(a){return b.forEach(function(b){a=a.replace(b,"")}),a};return{reset:e,set:c,isDelimiter:f,isBlankCharacter:g,removeBlankChractors:h}}},{}],295:[function(a,b,c){"use strict";var d=a("babel-runtime/core-js/object/keys")["default"],e=a("babel-runtime/helpers/interop-require-default")["default"],f=a("../../util/reduce2hash"),g=e(f),h=a("../uri"),i=e(h),j="something",k=function(a,b){var c={},e=j;return{setDefinedTypes:function(a){c=a},getDeinedTypes:function(){return _.extend({},c)},setDefaultType:function(a){e=a},getDefaultType:function(){return e||this.getSortedNames()[0]},getColor:function(a){return c[a]&&c[a].color||b},getUri:function(a){return c[a]&&c[a].uri||i["default"].getUrlMatches(a)?a:void 0},getSortedNames:function(){if(a){var b=a().concat(d(c)).reduce(function(a,b){return a[b]=a[b]?a[b]+1:1,a},{}),e=d(b);return e.sort(function(a,c){var d=b[c]-b[a];return 0!==d?d:a>c?1:a>c?-1:0}),e}return[]}}},l=function(a,b){void 0!==b&&(a.setDefinedTypes(b.reduce(g["default"],{})),a.setDefaultType(b.filter(function(a){return a["default"]===!0}).map(function(a){return a.name}).shift()||j))};b.exports=function(a){var b=_.extend(new k(a.annotationData.entity.types,"#77DDDD"),{isBlock:function(a){var c=b.getDeinedTypes()[a];return c&&c.type&&"block"===c.type}}),c=new k(a.annotationData.relation.types,"#555555");return{entity:b,setDefinedEntityTypes:_.partial(l,b),relation:c,setDefinedRelationTypes:_.partial(l,c)}}},{"../../util/reduce2hash":372,"../uri":360,"babel-runtime/core-js/object/keys":9,"babel-runtime/helpers/interop-require-default":17}],296:[function(a,b,c){"use strict";function d(a){return e.all(a.filter(function(a){return a.render}).map(function(a){return a.render()}))}var e=a("babel-runtime/core-js/promise")["default"],f=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var g=a("./GridLayout"),h=f(g),i=a("events");c["default"]=function(a,b,c,e){var f=new i.EventEmitter,g=new h["default"](a,b,c),j=function(c){f.emit("render.start",a),_.defer(function(){return g.arrangePosition(c).then(function(){return d(b.relation.all())}).then(e).then(function(){return f.emit("render.end",a)})["catch"](function(a){return console.error(a,a.stack)})})};return _.extend(f,{update:j})},b.exports=c["default"]},{"./GridLayout":302,"babel-runtime/core-js/promise":11,"babel-runtime/helpers/interop-require-default":17,events:108}],297:[function(a,b,c){"use strict";function d(a,b){var c=new j["default"];return e(a,c),function(a){return f(c,b,a)}}function e(a,b){a.push(b)}function f(a,b,c){return a.has(c)||a.set(c,b(c)),a.get(c)}function g(a){a.forEach(function(a){return a.clear()})}var h=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var i=a("./LesserMap"),j=h(i);c["default"]=function(){var a=[],b=function(b){return d(a,b)};return b.clearAllCache=function(){return g(a)},b},b.exports=c["default"]},{"./LesserMap":299,"babel-runtime/helpers/interop-require-default":17}],298:[function(a,b,c){"use strict";function d(a,b,c){var d=a.get(c).span;return b.get(d)}var e=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var f=a("./LesserMap"),g=e(f);c["default"]=function(a){var b=new g["default"];return _.extend(b,{isGridPrepared:function(a){function b(b){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(c){return d(a,b,c)})})},b.exports=c["default"]},{"./LesserMap":299,"babel-runtime/helpers/interop-require-default":17}],299:[function(a,b,c){"use strict";var d=a("babel-runtime/core-js/map")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=["set","get","has","keys","delete","clear"];c["default"]=function(){var a=new d,b=e.reduce(function(b,c){return b[c]=d.prototype[c].bind(a),b},{});return b},b.exports=c["default"]},{"babel-runtime/core-js/map":4}],300:[function(a,b,c){"use strict";function d(a,b){var c=a[0].querySelector("#"+b);if(!c)throw new Error("span is not renderd : "+b);var d=c.getBoundingClientRect(),e=c.offsetParent.offsetParent.getBoundingClientRect();return{top:d.top-e.top,left:d.left-e.left,width:c.offsetWidth,height:c.offsetHeight,center:c.offsetLeft+c.offsetWidth/2}}function e(a,b,c,d){var e=j["default"](a[0],d);if(!e)throw new Error("entity is not rendered : "+d);var f=b.get(d).span,g=c.get(f);return{top:g.top+e.offsetTop,center:g.left+e.offsetLeft+e.offsetWidth/2}}var f=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var g=a("./CachedGetterFactory"),h=f(g),i=a("../../getEntityDom"),j=f(i),k=new h["default"];c["default"]=function(a,b,c){var f=k(function(b){return d(a,b)}),g=k(function(d){return e(a,b,c,d)});return{reset:k.clearAllCache,getSpan:f,getEntity:g}},b.exports=c["default"]},{"../../getEntityDom":352,"./CachedGetterFactory":297,"babel-runtime/helpers/interop-require-default":17}],301:[function(a,b,c){"use strict";function d(a,b){var c=new i["default"](b),d=new k["default"](a,b,c),g=new e(c),h=new f;return _.extend(d,g,h)}function e(a){return{gridPositionCache:a,getGrid:a.get,setGrid:a.set}}function f(){var a=new m["default"],b={connectCache:a,toConnect:function(b){return a.get(b)}};return b}var g=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var h=a("./GridPosition"),i=g(h),j=a("./SpanAndEntityPosition"),k=g(j),l=a("./LesserMap"),m=g(l);c["default"]=function(a,b){return a.postionCache=a.postionCache||d(a,b),a.postionCache},b.exports=c["default"]},{"./GridPosition":298,"./LesserMap":299,"./SpanAndEntityPosition":300,"babel-runtime/helpers/interop-require-default":17}],302:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"],e=a("bluebird"),f=d(e),g=a("./DomPositionCache"),h=d(g),i=a("./getGridPosition"),j=d(i),k=function(a){return a&&a.hasClass("hidden")?a:void 0},l=function(a){a&&a.removeClass("hidden")},m=function(a,b){return a&&a.top===b.top&&a.left===b.left?null:b},n=function(a,b){return b?a(b.id):void 0};b.exports=function(a,b,c){var d=new h["default"](a,b.entity),e=function(a){return $(document.querySelector("#G"+a))},g=_.partial(n,e),i=function(a,b){return b?(d.setGrid(a.id,b),a):void 0},o=function(a,b){return b?(g(a).css(b),b):void 0},p=function(a,f){var h=_.partial(j["default"],d.getSpan,e,c,a),n=_.compose(_.partial(i,f),_.partial(o,f),_.partial(m,d.getGrid(f.id)),_.partial(h)),p=_.compose(l,k,g);b.span.get(f.id)&&_.compose(p,n)(f)},q=function(a,b){return new f["default"](function(c,d){_.defer(function(){try{p(a,b),c()}catch(e){console.error(e,e.stack),d()}})})},r=function(a){return b.span.all().filter(function(a){return a.getTypes().length>0}).map(function(a){return d.getSpan(a.id),a}).map(_.partial(q,a))},s=function(a){return d.reset(),f["default"].all(r(a))};return{arrangePosition:s}}},{"./DomPositionCache":301,"./getGridPosition":344,"babel-runtime/helpers/interop-require-default":17,bluebird:104}],303:[function(a,b,c){"use strict";function d(a,b,c,d){a.assosicatedRelations(d).map(b.toConnect).filter(function(a){return a.pointup&&a.pointdown}).forEach(c)}var e=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var f=a("./DomPositionCache"),g=e(f);c["default"]=function(a,b){var c=new g["default"](a,b);return{on:_.partial(d,b,c,function(a){return a.pointup()}),off:_.partial(d,b,c,function(a){return a.pointdown()})}},b.exports=c["default"]},{"./DomPositionCache":301,"babel-runtime/helpers/interop-require-default":17}],304:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a){var b=a.offsetWidth,c=Array.prototype.map.call(a.children,function(a){return a.offsetWidth}).reduce(function(a,b){return a+b},0);c>b?a.style.left=(b-c)/2+"px":a.style.left=null},b.exports=c["default"]},{}],305:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("../../Selector"),f=d(e),g=a("./createEntityUnlessBlock"),h=d(g),i=a("./removeEntityElement"),j=d(i);c["default"]=function(a,b,c,d,e,g){var i=new f["default"](a,b);h["default"](a,b.annotationData.namespace,c,d,e,g),j["default"](a,b.annotationData,g),b.selectionModel.entity.has(g.id)&&(i.entity.select(g.id),i.entityLabel.update(g.id))},b.exports=c["default"]},{"../../Selector":341,"./createEntityUnlessBlock":308,"./removeEntityElement":312,"babel-runtime/helpers/interop-require-default":17}],306:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("../../../idFactory"),f=d(e),g=a("./getTypeElement"),h=d(g),i=a("./arrangePositionOfPane"),j=d(i),k=a("./createEntityElement"),l=d(k);c["default"]=function(a,b,c,d,e,g){g.type=String(g.type);var i=h["default"](b,c,d,g.span,g.type).find(".textae-editor__entity-pane"),k=f["default"].makeEntityDomId(a,g.id);0===i.find("#"+k).length&&(i.append(l["default"](a,c,e,g)),j["default"](i[0]))},b.exports=c["default"]},{"../../../idFactory":356,"./arrangePositionOfPane":304,"./createEntityElement":307,"./getTypeElement":310,"babel-runtime/helpers/interop-require-default":17}],307:[function(a,b,c){"use strict";function d(a,b,c,d){var e=document.createElement("div");return e.setAttribute("id",g["default"].makeEntityDomId(a,d.id)),e.setAttribute("title",d.id),e.setAttribute("type",d.type),e.classList.add("textae-editor__entity"),e.style.borderColor=b.entity.getColor(d.type),c.getClasses(d.id).forEach(function(a){e.classList.add(a)}),e}var e=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var f=a("../../../idFactory"),g=e(f),h=a("./getTypeElement");e(h);b.exports=c["default"]},{"../../../idFactory":356,"./getTypeElement":310,"babel-runtime/helpers/interop-require-default":17}],308:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("./create"),f=d(e);c["default"]=function(a,b,c,d,e,g){c.entity.isBlock(g.type)||f["default"](a,b,c,d,e,g)},b.exports=c["default"]},{"./create":306,"babel-runtime/helpers/interop-require-default":17}],309:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("../../../uri"),f=d(e);c["default"]=function(a){if(f["default"].isUri(a)){var b=f["default"].getUrlMatches(a);if(b)return b[9]?b[9].slice(1):b[6]?b[6]+(b[7]||""):b[5]&&b[5].length>1?b[5].split("/").filter(function(a){return""!==a}).pop():b[3]}return a},b.exports=c["default"]},{"../../../uri":360,"babel-runtime/helpers/interop-require-default":17}],310:[function(a,b,c){"use strict";function d(a,b){var c=a.all(),d=c.filter(function(a){return"_base"!==a.prefix}).filter(function(a){return 0===b.indexOf(a.prefix+":")});return 1===d.length?d[0]:null}function e(a,b,c){if(m["default"].isUri(c))return c;if(b.entity.getUri(c))return b.entity.getUri(c);if(a.some()){var e=d(a,c);if(e)return e.uri+c.replace(e.prefix+":","");var f=a.all().filter(function(a){return"_base"===a.prefix});if(1===f.length)return f[0].uri+c}return null}function f(a,b,c,f){var g=void 0,h=d(b,f);g=m["default"].isUri(f)?o["default"](f):h?f.replace(h.prefix+":",""):f;var i=void 0,j=e(b,c,f);i=j?'<a target="_blank"/ href="'+j+'">'+g+"</a>":g,a.innerHTML=i}function g(a,b,c,d){var e=k["default"].makeTypeId(c,d),g=$("<div>").attr("id","P-"+e).addClass("textae-editor__entity-pane"),h=$("<div>").addClass("textae-editor__type-label").css({"background-color":b.entity.getColor(d)});return h[0].setAttribute("tabindex",0),f(h[0],a,b,d),$("<div>").attr("id",e).addClass("textae-editor__type").append(h).append(g)}function h(a,b){var c=document.querySelector("#G"+b);return c||a.render(b)}var i=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var j=a("../../../idFactory"),k=i(j),l=a("../../../uri"),m=i(l),n=a("./getDisplayName"),o=i(n),p=a("../getTypeDom"),q=i(p);c["default"]=function(a,b,c,d,e){var f=q["default"](d,e);return 0===f.length&&(f=g(a,b,d,e),h(c,d).appendChild(f[0])),f},b.exports=c["default"]},{"../../../idFactory":356,"../../../uri":360,"../getTypeDom":336,"./getDisplayName":309,"babel-runtime/helpers/interop-require-default":17}],311:[function(a,b,c){"use strict";function d(a,b,c,d){return f(b.annotationData,d.span)?c.remove(d.span):v["default"](a,b.annotationData,d),d}function e(a,b,c){var d=n["default"](a[0],c.id);b.update(d,c.id)}function f(a,b){return 0===a.span.get(b).getTypes().length}var g=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var h=a("../ModificationRenderer"),i=g(h),j=a("./getDisplayName"),k=(g(j),a("../../../uri")),l=(g(k),a("../../../idFactory")),m=(g(l),a("../../../getEntityDom")),n=g(m),o=a("../../Selector"),p=(g(o),a("./create")),q=(g(p),a("./createEntityUnlessBlock")),r=g(q),s=a("./changeTypeOfExists"),t=g(s),u=a("./removeEntityElement"),v=g(u);c["default"]=function(a,b,c,f,g){var h=new i["default"](b.annotationData);return{render:function(d){r["default"](a,b.annotationData.namespace,c,f,h,d),g(d)},change:function(d){t["default"](a,b,c,f,h,d),g(d)},changeModification:function(b){return e(a,h,b)},remove:function(c){return d(a,b,f,c)}}},b.exports=c["default"]},{"../../../getEntityDom":352,"../../../idFactory":356,"../../../uri":360,"../../Selector":341,"../ModificationRenderer":315,"./changeTypeOfExists":305,"./create":306,"./createEntityUnlessBlock":308,"./getDisplayName":309,"./removeEntityElement":312,"babel-runtime/helpers/interop-require-default":17}],312:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("../../../getEntityDom"),f=d(e),g=a("./arrangePositionOfPane"),h=d(g);c["default"]=function(a,b,c){var d=f["default"](a[0],c.id);if(d){var e=d.parentNode;if(d.remove(),e.children.length)h["default"](e);else{var g=e.parentNode,i=g.parentNode;g.remove(),i.children.length||i.remove()}}},b.exports=c["default"]},{"../../../getEntityDom":352,"./arrangePositionOfPane":304,"babel-runtime/helpers/interop-require-default":17}],313:[function(a,b,c){"use strict";function d(a,b,c,d){var e=b.getSpan(d),f=document.createElement("div");f.setAttribute("id","G"+d),f.classList.add("textae-editor__grid"),f.classList.add("hidden"),f.style.width=e.width+"px";var g=h.getRightElement(a,document.querySelector("#"+d));return g?c.insertBefore(f,document.querySelector("#G"+g.id)):c.appendChild(f),f}var e=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var f=a("./getAnnotationBox"),g=e(f),h=a("../../getNextElement");c["default"]=function(a,b){var c=g["default"](a);return{render:function(e){return d(a[0],b,c[0],e)},remove:function(a){var c=document.querySelector("#G"+a);c&&c.parentNode.removeChild(c),b.gridPositionCache["delete"](a)}}},b.exports=c["default"]},{"../../getNextElement":353,"./getAnnotationBox":333,"babel-runtime/helpers/interop-require-default":17}],314:[function(a,b,c){"use strict";function d(a){return a.id}function e(a,b,c,d){b.on(c,function(b){d(b),a.emit(c)})}var f=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var g=a("./renderParagraph"),h=f(g),i=a("./getAnnotationBox"),j=(f(i),a("./RenderAll")),k=f(j),l=a("./renderModification"),m=f(l),n=a("events"),o=a("../TypeStyle"),p=f(o),q=a("./SpanRenderer"),r=f(q),s=a("./GridRenderer"),t=f(s),u=a("./EntityRenderer"),v=f(u),w=a("./getTypeDom"),x=f(w);c["default"]=function(a,b,c,f,g,i,j){var l=new n.EventEmitter,o=new t["default"](g,a),q=function(a){return x["default"](a.span,a.type).css(new p["default"](f()))},s=new v["default"](g,i,j,o,q),u=new r["default"](i.annotationData,j.entity.isBlock,s.render);return function(f,g,i){var j=new k["default"](f,a,u,b),n=function(a){var b=g.span.get(a.span);return u.change(b)},p=function(a){m["default"](g,"relation",a,b,c),m["default"](g,"entity",a,s,c)},q=[["all.change",function(a){j(a),i.clear()}],["paragraph.change",function(a){return h["default"](f,a)}],["span.add",u.render],["span.remove",function(a){u.remove(a),o.remove(a.id),i.span.remove(d(a))}],["entity.add",function(a){n(a),s.render(a)}],["entity.change",function(a){s.change(a),n(a)}],["entity.remove",function(a){s.remove(a),n(a),i.entity.remove(d(a))}],["relation.add",function(a){b.render(a),l.emit("relation.add",a)}],["relation.change",b.change],["relation.remove",function(a){b.remove(a),i.relation.remove(d(a))}],["modification.add",p],["modification.remove",p]];return q.forEach(function(a){return e(l,g,a[0],a[1])}),l}},b.exports=c["default"]},{"../TypeStyle":343,"./EntityRenderer":311,"./GridRenderer":313,"./RenderAll":321,"./SpanRenderer":329,"./getAnnotationBox":333,"./getTypeDom":336,"./renderModification":338,"./renderParagraph":339,"babel-runtime/helpers/interop-require-default":17,events:108}],315:[function(a,b,c){"use strict";function d(a,b){return a.getModificationOf(b).map(function(a){return"textae-editor__"+a.pred.toLowerCase()})}function e(a,b,c){b.classList.remove("textae-editor__negation"),b.classList.remove("textae-editor__speculation"),d(a,c).forEach(function(a){return b.classList.add(a)})}Object.defineProperty(c,"__esModule",{value:!0});c["default"]=function(a){return{getClasses:function(a){function b(b){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(b){return d(a,b)}),update:function(a){function b(b,c){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(b,c){return e(a,b,c)})}},b.exports=c["default"]},{}],316:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("../../DomPositionCache"),f=d(e);c["default"]=function(a,b,c){var d=new f["default"](a,b.entity),e=d.toConnect(c);if(!e)throw new Error("no connect for id: "+c);return e},b.exports=c["default"]},{"../../DomPositionCache":301,"babel-runtime/helpers/interop-require-default":17}],317:[function(a,b,c){"use strict";function d(a,b,c){c.map(function(c){return new j["default"](a,b,c)}).filter(function(a){return a instanceof jsPlumb.Connection}).forEach(function(a){return a.select()})}function e(a,b,c){c.map(function(c){return{connect:new j["default"](a,b,c.id),curviness:l["default"](a,b,c)}}).filter(function(a){return a.connect.setConnector&&a.connect.connector.getCurviness()!==a.curviness}).forEach(function(a){a.connect.setConnector(["Bezier",{curviness:a.curviness}]),n["default"].resetArrows(a.connect)})}var f=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var g=a("bluebird"),h=f(g),i=a("./Connect"),j=f(i),k=a("./determineCurviness"),l=f(k),m=a("./jsPlumbArrowOverlayUtil"),n=f(m);c["default"]=function(a,b,c){return new h["default"](function(f,g){_.defer(function(){try{var h=b.annotationData.relation.all().filter(function(a){return!a.removed});e(a,b.annotationData,h),c.repaintEverything(),d(a,b.annotationData,b.selectionModel.relation.all()),f()}catch(i){g(i)}})})},b.exports=c["default"]},{"./Connect":316,"./determineCurviness":318,"./jsPlumbArrowOverlayUtil":320,"babel-runtime/helpers/interop-require-default":17,bluebird:104}],318:[function(a,b,c){"use strict";function d(a){return{sourceId:a.subj,targetId:a.obj}}var e=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var f=a("../../DomPositionCache"),g=e(f),h={xrate:.6,yrate:.05,offset:20};c["default"]=function(a,b,c){var e=new g["default"](a,b.entity),f=d(c),i=e.getEntity(f.sourceId),j=e.getEntity(f.targetId),k=i.center,l=j.center,m=i.top,n=j.top,o=Math.abs(k-l),p=Math.abs(m-n),q=o*h.xrate+p*h.yrate+h.offset;return q/=2.4},b.exports=c["default"]},{"../../DomPositionCache":301,"babel-runtime/helpers/interop-require-default":17}],319:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"],e=a("bluebird"),f=d(e),g=a("../ModificationRenderer"),h=d(g),i=a("../getAnnotationBox"),j=d(i),k=a("../../DomPositionCache"),l=d(k),m=a("./Connect"),n=d(m),o=a("./arrangePositionAll"),p=d(o),q=a("./determineCurviness"),r=d(q),s=a("./jsPlumbArrowOverlayUtil"),t=d(s),u=a("../../../getEntityDom"),v=d(u),w=3,x={cssClass:"textae-editor__relation__label",id:"label"},y=function(a){var b=jsPlumb.getInstance({ConnectionsDetachable:!1,Endpoint:["Dot",{radius:1}]});return b.setRenderMode(b.SVG),b.Defaults.Container=a,b},z=function(a){var b=a.getOverlay(x.id);if(!b)throw new Error("no label overlay");return b};b.exports=function(a,b,c){var d,e=new h["default"](b.annotationData),g=new l["default"](a,b.annotationData.entity),i=function(){var a=function(a,b){
var c=a.slice(1),d=parseInt(c.substr(0,2),16),e=parseInt(c.substr(2,2),16),f=parseInt(c.substr(4,2),16);return"rgba("+d+", "+e+", "+f+", 1)"};return function(d){var e=b.annotationData.relation.get(d).type,f=c.relation.getColor(e);return{lineWidth:1,strokeStyle:a(f,1)}}}(),k=function(c){var d=c.relationId,e=new l["default"](a,b.annotationData.entity);return e.connectCache.set(d,c),c},m=function(c){if(!b.annotationData.relation.get(c))return void 0;var d=new l["default"](a,b.annotationData.entity),e=b.annotationData.relation.get(c);return d.gridPositionCache.isGridPrepared(e.subj)&&d.gridPositionCache.isGridPrepared(e.obj)},o=function(a){return m(a.relationId)?a:void 0},q=function(){var c=function(a){return delete a.render,a},f=function(c){return d.connect({source:$(v["default"](a[0],c.subj)),target:$(v["default"](a[0],c.obj)),anchors:["TopCenter","TopCenter"],connector:["Bezier",{curviness:r["default"](a,b.annotationData,c)}],paintStyle:new i(c.id),parameters:{id:c.id},cssClass:"textae-editor__relation",overlays:[["Arrow",t["default"].NORMAL_ARROW],["Label",_.extend({},x,{label:"["+c.id+"] "+c.type,cssClass:x.cssClass+" "+e.getClasses(c.id).join(" ")})]]})},g=function(a){return _.extend(f(a),{relationId:a.id})},h=function(){var a=function(){var a=function(a){return new z(a).addClass("hover"),a},b=function(a){return new z(a).removeClass("hover"),a},c=function(a){return new z(a).addClass("ui-selected"),a},d=function(a){return new z(a).removeClass("ui-selected"),a},e=function(a){return a.addClass("hover"),a},f=function(a){return a.removeClass("hover"),a},g=function(a){return a.addClass("ui-selected"),a},h=function(a){return a.removeClass("ui-selected"),a},j=function(a,b){return a.connector.canvas.classList.contains(b)},k=function(a,b,c){return function(){b(a)||c(a)}},l=function(a,b){return b.setPaintStyle(_.extend(a(),{lineWidth:w})),b},m=function(a,b){return b.setPaintStyle(a()),b};return function(n,o){var p=_.partial(i,n),q=_.partial(l,p),r=_.partial(m,p),s=_.partial(k,o,function(a){return j(a,"ui-selected")}),u=_.partial(k,o,function(a){return a.dead}),v=_.compose(e,a,q,t["default"].showBigArrow),w=_.compose(f,b,r,t["default"].hideBigArrow),x=_.compose(g,c,f,b,q,t["default"].showBigArrow),y=_.compose(h,d,r,t["default"].hideBigArrow);return{pointup:s(v),pointdown:s(w),select:u(x),deselect:u(y)}}}();return function(b){var c=b.relationId;return _.extend(b,new a(c,b))}}(),j=function(){var a=function(a,b,c){a.bind("mouseenter",b).bind("mouseexit",c)},b=function(a){a.pointup()},c=function(a){a.pointdown()},d=function(a){return a.component},e=function(d){return a(d,b,c),d},f=function(e){return a(new z(e),_.compose(b,d),_.compose(c,d)),e};return _.compose(f,e)}(),l=function(){var a=function(a){var b=function(a){this.bind("click",a),this.getOverlay(x.id).bind("click",function(b,c){a(b.component,c)})};return _.extend({bindClickAction:b})};return function(b){return _.extend(b,new a(b))}}(),m=function(b){return a.trigger("textae.editor.jsPlumbConnection.add",b),b};return _.compose(k,m,l,j,h,g,c)}(),s=function(){var a=function(a){return _.extend(a,{relationId:a.id})},b=function(a){o(a)&&q(a)},c=function(a){var c=function(){return new f["default"](function(c,d){_.defer(function(){try{b(a),c(a)}catch(e){d(e)}})})};return _.extend(a,{render:c})};return _.compose(k,c,a)}(),u=function(c){var d=new n["default"](a,b.annotationData,c.id),e=new i(c.id);d instanceof jsPlumb.Connection&&(b.selectionModel.relation.has(c.id)&&(e.lineWidth=w),d.setPaintStyle(e),new z(d).setLabel("["+c.id+"] "+c.type))},A=function(c){var d=new n["default"](a,b.annotationData,c.id);d instanceof jsPlumb.Connection&&e.update(new z(d).getElement(),c.id)},B=function(c){var e=new n["default"](a,b.annotationData,c.id);d.detach(e),g.connectCache["delete"](c.id),e.dead=!0,c.removed=!0},C=function(a){var c=j["default"](a);return d=y(c),function(){return p["default"](a,b,d)}};return{init:C,reset:function(){d.reset(),g.connectCache.clear()},render:s,change:u,changeModification:A,remove:B}}},{"../../../getEntityDom":352,"../../DomPositionCache":301,"../ModificationRenderer":315,"../getAnnotationBox":333,"./Connect":316,"./arrangePositionAll":317,"./determineCurviness":318,"./jsPlumbArrowOverlayUtil":320,"babel-runtime/helpers/interop-require-default":17,bluebird:104}],320:[function(a,b,c){"use strict";var d={width:7,length:9,location:1,id:"normal-arrow"},e={width:14,length:18,location:1,id:"hover-arrow"},f=function(a,b){return a===d.id?b.addOverlay(["Arrow",d]):a===e.id&&b.addOverlay(["Arrow",e]),b},g=function(a,b){return b.forEach(function(b){f(b,a)}),b},h=function(a){return a.getOverlays().filter(function(a){return"Arrow"===a.type}).map(function(a){return a.id})},i=function(a){return a.getOverlay(d.id)},j=function(a){return a.getOverlay(e.id)},k=function(a,b){return b.removeOverlay(a),b},l=function(a,b){return b.forEach(function(b){k(b,a)}),b},m=function(a){_.compose(_.partial(g,a),_.partial(l,a),h)(a)},n=_.partial(f,d.id),o=_.partial(f,e.id),p=_.partial(k,d.id),q=_.partial(k,e.id),r=_.compose(o,p),s=_.compose(n,q);b.exports={NORMAL_ARROW:d,resetArrows:m,showBigArrow:function(a){return j(a)?a:r(a)},hideBigArrow:function(a){return i(a)?a:s(a)}}},{}],321:[function(a,b,c){"use strict";function d(a,b){a.span.topLevel().forEach(function(a){b.render(a)})}function e(a,b){b.reset(),a.relation.all().forEach(b.render)}var f=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var g=a("./getAnnotationBox"),h=f(g);c["default"]=function(a,b,c,f){return function(g){h["default"](a).empty(),b.gridPositionCache.clear(),d(g,c),e(g,f)}},b.exports=c["default"]},{"./getAnnotationBox":333,"babel-runtime/helpers/interop-require-default":17}],322:[function(a,b,c){"use strict";function d(a,b,c,f){p["default"](a);var g=h["default"](a,b.span.topLevel());j["default"](a,g),l["default"](a,c),n["default"](a,b.entity.get,f),e(a,function(a){return d(a,b,c,f)})}function e(a,b){return a.children.forEach(b),a}var f=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var g=a("./getBigBrother"),h=f(g),i=a("./renderSingleSpan"),j=f(i),k=a("./renderClassOfSpan"),l=f(k),m=a("./renderEntitiesOfSpan"),n=f(m),o=a("./destroyChildrenSpan"),p=f(o);c["default"]=d,b.exports=c["default"]},{"./destroyChildrenSpan":327,"./getBigBrother":328,"./renderClassOfSpan":330,"./renderEntitiesOfSpan":331,"./renderSingleSpan":332,"babel-runtime/helpers/interop-require-default":17}],323:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a,b){var c=document.createRange();return c.setStart(a,b.start),c.setEnd(a,b.end),c},b.exports=c["default"]},{}],324:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a){var b=document.createElement("span");return b.setAttribute("id",a.id),b.setAttribute("title",a.id),b.setAttribute("class","textae-editor__span"),b.setAttribute("tabindex",0),b},b.exports=c["default"]},{}],325:[function(a,b,c){"use strict";function d(a,b){var c=a.begin-b,d=a.end-b;return{start:c,end:d}}function e(a,b){return 0<=b.start&&b.end<=a.length}var f=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var g=a("./createRange"),h=f(g);c["default"]=function(a,b,c){var f=d(c,b);if(!e(a,f))throw new Error("oh my god! I cannot render this span. "+c.toStringOnlyThis()+", textNode "+a.textContent);return h["default"](a,f)},b.exports=c["default"]},{"./createRange":323,"babel-runtime/helpers/interop-require-default":17}],326:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a){for(var b=document.querySelector("#"+a),c=b.parentNode;b.firstChild;)c.insertBefore(b.firstChild,b);c.removeChild(b),c.normalize()},b.exports=c["default"]},{}],327:[function(a,b,c){"use strict";function d(a){return null!==document.querySelector("#"+a.id)}function e(a){a.children.forEach(function(a){e(a)}),h["default"](a.id)}var f=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var g=a("./destroy"),h=f(g);c["default"]=function(a){return a.children.filter(d).forEach(e),a},b.exports=c["default"]},{"./destroy":326,"babel-runtime/helpers/interop-require-default":17}],328:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a,b){var c=void 0;return a.parent?(c=a.parent.children.indexOf(a),0===c?null:a.parent.children[c-1]):(c=b.indexOf(a),0===c||b[c-1].paragraph!==a.paragraph?null:b[c-1])},b.exports=c["default"]},{}],329:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("./create"),f=d(e),g=a("./destroy"),h=d(g),i=a("./renderClassOfSpan"),j=d(i);c["default"]=function(a,b,c){return{render:function(d){return f["default"](d,a,b,c)},remove:function(a){return h["default"](a.id)},change:function(a){return j["default"](a,b)}}},b.exports=c["default"]},{"./create":322,"./destroy":326,"./renderClassOfSpan":330,"babel-runtime/helpers/interop-require-default":17}],330:[function(a,b,c){"use strict";function d(a,b){return a.getTypes().map(function(a){return a.name}).filter(b).length>0}var e=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var f=a("not"),g=e(f),h="textae-editor__span--block",i="textae-editor__span--wrap";c["default"]=function(a,b){var c=document.querySelector("#"+a.id);d(a,b)?c.classList.add(h):c.classList.remove(h),d(a,g["default"](b))?c.classList.contains(i)&&c.classList.remove(i):c.classList.add(i)},b.exports=c["default"]},{"babel-runtime/helpers/interop-require-default":17,not:158}],331:[function(a,b,c){"use strict";function d(a,b,c){a.entities.map(b).forEach(c)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a,b,c){a.getTypes().forEach(function(a){return d(a,b,c)})},b.exports=c["default"]},{}],332:[function(a,b,c){"use strict";function d(a,b){var c=void 0,d=void 0;if(b){var g=e(b),i=h(g,2);c=i[0],d=i[1]}else{var j=f(a),k=h(j,2);c=k[0],d=k[1]}if(!c)throw new Error("The textNode on to create a span is not found. "+a.toStringOnlyThis());return m["default"](c,d,a)}function e(a){return[document.querySelector("#"+a.id).nextSibling,a.end]}function f(a){var b=g(a);return[document.querySelector("#"+b.id).firstChild,b.begin]}function g(a){return a.parent?a.parent:a.paragraph}var h=a("babel-runtime/helpers/sliced-to-array")["default"],i=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var j=a("./createSpanElement"),k=i(j),l=a("./createSpanRange"),m=i(l);c["default"]=function(a,b){var c=d(a,b),e=k["default"](a);c.surroundContents(e)},b.exports=c["default"]},{"./createSpanElement":324,"./createSpanRange":325,"babel-runtime/helpers/interop-require-default":17,"babel-runtime/helpers/sliced-to-array":19}],333:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("./getElement"),f=d(e),g=a("./getEditorBody"),h=d(g);c["default"]=_.compose(_.partial(f["default"],"div","textae-editor__body__annotation-box"),h["default"]),b.exports=c["default"]},{"./getEditorBody":334,"./getElement":335,"babel-runtime/helpers/interop-require-default":17}],334:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("./getElement"),f=d(e);c["default"]=_.partial(f["default"],"div","textae-editor__body"),b.exports=c["default"]},{"./getElement":335,"babel-runtime/helpers/interop-require-default":17}],335:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a,b,c){var d=c.find("."+b);return 0===d.length&&(d=$("<"+a+">").addClass(b),c.append(d)),d},b.exports=c["default"]},{}],336:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("../../idFactory"),f=d(e);c["default"]=function(a,b){return $("#"+f["default"].makeTypeId(a,b))},b.exports=c["default"]},{"../../idFactory":356,"babel-runtime/helpers/interop-require-default":17}],337:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"],e=a("../DomPositionCache"),f=d(e),g=a("./Initiator"),h=d(g);b.exports=function(a,b,c,d,e,g){var i=new f["default"](a,b.annotationData.entity),j={init:new h["default"](i,g,c,e,a,b,d),arrangeRelationPositionAll:g.arrangePositionAll,renderLazyRelationAll:g.renderLazyRelationAll};return j}},{"../DomPositionCache":301,"./Initiator":314,"babel-runtime/helpers/interop-require-default":17}],338:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("capitalize"),f=d(e);c["default"]=function(a,b,c,d,e){var g=a[b].get(c.obj);g&&(d.changeModification(g),e["updateBy"+f["default"](b)]())},b.exports=c["default"]},{"babel-runtime/helpers/interop-require-default":17,capitalize:105}],339:[function(a,b,c){"use strict";function d(a){return m({paragraphs:a})}var e=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var f=a("handlebars"),g=e(f),h=a("../getTextBox"),i=e(h),j=a("./getElement"),k=(e(j),a("./getEditorBody")),l=(e(k),'\n{{#paragraphs}}\n<p class="textae-editor__body__text-box__paragraph-margin">\n    <span class="textae-editor__body__text-box__paragraph" id="{{id}}">{{text}}</span>\n</p>\n{{/paragraphs}}\n'),m=g["default"].compile(l);c["default"]=function(a,b){i["default"](a[0]).innerHTML=d(b)},b.exports=c["default"]},{"../getTextBox":346,"./getEditorBody":334,"./getElement":335,"babel-runtime/helpers/interop-require-default":17,handlebars:145}],340:[function(a,b,c){"use strict";function d(a){a&&a.deselect&&a.deselect()}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a,b){var c=a.toConnect(b);d(c)},b.exports=c["default"]},{}],341:[function(a,b,c){"use strict";function d(a,b){var c=p["default"](a[0],b);if(c){var d=c.parentNode,e=d.previousElementSibling;d.children.length===d.querySelectorAll("."+q).length?(e.classList.add(q),d.classList.add(q)):(e.classList.remove(q),d.classList.remove(q))}}function e(a){return document.querySelector("#"+a)}function f(a,b){a.classList[b](q)}var g=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var h=a("../../idFactory"),i=(g(h),a("../DomPositionCache")),j=g(i),k=a("./selectRelation"),l=g(k),m=a("./deselectRelation"),n=g(m),o=a("../../getEntityDom"),p=g(o),q="ui-selected";c["default"]=function(a,b){var c=new j["default"](a,b.annotationData.entity);return{span:{select:function(a){var b=e(a);f(b,"add"),b.focus()},deselect:function(a){var b=e(a);b&&(f(b,"remove"),b.blur())}},entity:{select:function(b){var c=p["default"](a[0],b);c&&(f(c,"add"),c.parentNode.previousElementSibling.focus())},deselect:function(b){var c=p["default"](a[0],b);c&&(f(c,"remove"),c.parentNode.previousElementSibling.blur())}},relation:{select:function(a){return l["default"](c,a)},deselect:function(a){return n["default"](c,a)}},entityLabel:{update:function(b){return d(a,b)}}}},b.exports=c["default"]},{"../../getEntityDom":352,"../../idFactory":356,"../DomPositionCache":301,"./deselectRelation":340,"./selectRelation":342,"babel-runtime/helpers/interop-require-default":17}],342:[function(a,b,c){"use strict";function d(a){a&&a.select&&a.select()}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a,b){var c=a.toConnect(b);d(c)},b.exports=c["default"]},{}],343:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a){return{height:18*a+18+"px","padding-top":18*a+"px"}},b.exports=c["default"]},{}],344:[function(a,b,c){"use strict";function d(a,b,c){var d=a(c.id);return{top:d.top-b(c.id).outerHeight(),left:d.left}}function e(a,b,c,d){var e=a(d.id),f=h["default"](d,b,c);return{top:e.top-f,left:e.left}}var f=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var g=a("./getHeightIncludeDescendantGrids"),h=f(g);c["default"]=function(a,b,c,f,g){return 0===g.children.length?d(a,b,g):e(a,c,f,g)},b.exports=c["default"]},{"./getHeightIncludeDescendantGrids":345,"babel-runtime/helpers/interop-require-default":17}],345:[function(a,b,c){"use strict";function d(a,b,c){var e=0===a.children.length?0:_.max(a.children.map(function(a){return d(a,b,c)})),f=a.getTypes().filter(function(a){return!b.entity.isBlock(a.name)}).length*(18*c+18);return f+e}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d,b.exports=c["default"]},{}],346:[function(a,b,c){"use strict";function d(a){return a.querySelector(".textae-editor__body__text-box")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d,b.exports=c["default"]},{}],347:[function(a,b,c){"use strict";function d(a,b,c,d,e,f,g){var h=new j["default"](a,b,f,e,d,g),i=_.debounce(function(){return c(d())},100);h.init(a,b.annotationData,b.selectionModel).on("change",i).on("all.change",i).on("paragraph.change",function(){return l.reduceBottomSpace(a[0])}).on("span.add",i).on("span.remove",i).on("entity.add",i).on("entity.change",i).on("entity.remove",i).on("relation.add",i)}function e(a,b,c,d,e){var f=function(b){return a.find(".textae-editor__type").css(new v["default"](b))};c(f),c(function(c){return l.setToTypeGap(a[0],b.annotationData,d,c)}),c(e.update)}function f(a,b){var c=new r["default"](a);b.on("render.start",function(a){c.startWait()}).on("render.end",function(a){c.endWait()})}var g=a("babel-runtime/helpers/interop-require-default")["default"],h=a("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(c,"__esModule",{value:!0});var i=a("./Renderer"),j=g(i),k=a("./lineHeight"),l=h(k),m=a("./Hover"),n=g(m),o=a("./Display"),p=g(o),q=a("../../util/CursorChanger"),r=g(q),s=a("./setSelectionModelHandler"),t=g(s),u=a("./TypeStyle"),v=g(u),w=a("./Renderer/RelationRenderer"),x=g(w),y='\n<div class="textae-editor__body">\n    <div class="textae-editor__body__annotation-box"></div>\n    <div class="textae-editor__body__text-box"></div>\n</div>\n';c["default"]=function(a,b){var c=new n["default"](a,b.annotationData.entity),g={init:function(a,c,h,i){t["default"](a,b,c),a[0].innerHTML=y;var j=new x["default"](a,b,i),k=j.init(a),m=new p["default"](a,b.annotationData,i,k);e(a,b,h,i,m),f(a,m),d(a,b,m.update,h,i,c.buttonStateHelper,j),g.updateDisplay=function(){m.update(h()),l.reduceBottomSpace(a[0])}},hoverRelation:c};return g},b.exports=c["default"]},{"../../util/CursorChanger":370,"./Display":296,"./Hover":303,"./Renderer":337,"./Renderer/RelationRenderer":319,"./TypeStyle":343,"./lineHeight":348,"./setSelectionModelHandler":349,"babel-runtime/helpers/interop-require-default":17,"babel-runtime/helpers/interop-require-wildcard":18}],348:[function(a,b,c){"use strict";function d(a){var b=n["default"](a),c=window.getComputedStyle(b);return i(c.lineHeight)}function e(a){var b=n["default"](a),c=window.getComputedStyle(b);b.style.height="auto",b.style.height=b.offsetHeight-i(c.paddingTop)+20+"px"}function f(a,b){var c=n["default"](a);c.style.lineHeight=b+"px",c.style.paddingTop=b/2+"px",h(c,b),e(a)}function g(a,b,c,d){var e=void 0;if(0===b.span.all().length){var g=window.getComputedStyle(a),h=i(g.lineHeight);e="normal"===g.lineHeight?q:h}else e=_.max(b.span.all().map(function(a){return l["default"](a,c,d)})),e+=o+p;f(a,e)}function h(a,b){var c=a.style.lineHeight,d=i(c);d&&window.scroll(window.scrollX,window.scrollY*b/d)}function i(a){return""===a?0:parseInt(a,10)}var j=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c.get=d,c.reduceBottomSpace=e,c.set=f,c.setToTypeGap=g;var k=a("./getHeightIncludeDescendantGrids"),l=j(k),m=a("./getTextBox"),n=j(m),o=23,p=30,q=41},{"./getHeightIncludeDescendantGrids":345,"./getTextBox":346,"babel-runtime/helpers/interop-require-default":17}],349:[function(a,b,c){"use strict";function d(a){return _.partial(_.delay,a,150)}var e=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var f=a("./Selector"),g=e(f);c["default"]=function(a,b,c){var e=new g["default"](a,b);b.selectionModel.on("span.select",e.span.select).on("span.deselect",e.span.deselect).on("span.change",c.buttonStateHelper.updateBySpan).on("entity.select",e.entity.select).on("entity.deselect",e.entity.deselect).on("relation.select",d(e.relation.select)).on("relation.deselect",d(e.relation.deselect)).on("relation.change",c.buttonStateHelper.updateByRelation)},b.exports=c["default"]},{"./Selector":341,"babel-runtime/helpers/interop-require-default":17}],350:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a,b,c){a.on("mousedown",function(a){return a.shiftKey?!1:void 0}).on("mousedown",".textae-editor__type",function(){return!1}).on("mousedown",".textae-editor__body__text-box__paragraph-margin",function(a){return"textae-editor__body__text-box__paragraph-margin"===a.target.className?!1:void 0}).on("mouseup",".textae-editor__body,.textae-editor__span,.textae-editor__grid,.textae-editor__entity",b.event.editorSelected).on("mouseenter",".textae-editor__entity",function(a){return c.hoverRelation.on($(a.target).attr("title"))}).on("mouseleave",".textae-editor__entity",function(a){return c.hoverRelation.off($(a.target).attr("title"))})},b.exports=c["default"]},{}],351:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("./View/lineHeight"),f=d(e);c["default"]=function(a,b,c,d,e){f.setToTypeGap(a[0],b,c,d()),e.updateDisplay()},b.exports=c["default"]},{"./View/lineHeight":348,"babel-runtime/helpers/interop-require-wildcard":18}],352:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a,b){return a.querySelector('[title="'+b+'"]')},b.exports=c["default"]},{}],353:[function(a,b,c){"use strict";function d(a,b){console.assert(b,"element MUST exists.");var c=f(a,b),d=g(c,2),e=d[0],h=d[1];return h>0?e[h-1]:void 0}function e(a,b){console.assert(b,"element MUST exists.");var c=f(a,b),d=g(c,2),e=d[0],h=d[1];return e.length-h>1?e[h+1]:void 0}function f(a,b){var c=h(b.classList).filter(function(a){return 0===a.indexOf("textae-editor__")})[0],d=a.querySelectorAll("."+c),e=h(d).indexOf(b);return[d,e]}var g=a("babel-runtime/helpers/sliced-to-array")["default"],h=a("babel-runtime/core-js/array/from")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c.getLeftElement=d,c.getRightElement=e},{"babel-runtime/core-js/array/from":1,"babel-runtime/helpers/sliced-to-array":19}],354:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"],e=a("./getUrlParameters"),f=d(e),g=function(a,b,c){!a[c]&&b.attr(c)&&(a[c]=b.attr(c))},h=function(a,b,c){b.attr(c)&&(a[c]=b.attr(c))};b.exports=function(a){var b=f["default"](location.search);b.target=a.attr("source")||a.attr("target")||b.source||b.target,h(b,a,"config"),h(b,a,"status_bar"),g(b,a,"mode");var c=a.text();return a.empty(),b.annotation={inlineAnnotation:c,url:b.target},b}},{"./getUrlParameters":355,"babel-runtime/helpers/interop-require-default":17}],355:[function(a,b,c){"use strict";b.exports=function(a){var b=a?String(a).replace(/^\?(.*)/,"$1"):"",c=b.length>0?b.split("&"):[];return c.map(function(a){var b=a.split("=");return{key:b[0],val:b[1]}}).reduce(function(a,b){return a[b.key]=b.val?b.val:!0,a},{})}},{}],356:[function(a,b,c){"use strict";var d=[],e=function(a,b){return a+"__"+b},f=function(a,b,c){return e(a,b)+c},g="_";b.exports={makeSpanId:function(a,b){var c=e(a.editorId,"S");return c+b.begin+g+b.end},makeTypeId:function(a,b){return-1===d.indexOf(b)&&d.push(b),a+"-"+d.indexOf(b)},makeEntityDomId:function(a,b){return f(a.editorId,"E",b.replace(/[:¥.]/g,""))},makeParagraphId:function(a,b){return f(a.editorId,"P",b)}}},{}],357:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"],e=a("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(c,"__esModule",{value:!0});var f=a("observ"),g=(d(f),a("../component/DataAccessObject")),h=d(g),i=a("../buttonModel/ButtonController"),j=d(i),k=a("../buttonModel/Writable"),l=d(k),m=a("./Model"),n=d(m),o=a("./History"),p=d(o),q=a("./observe"),r=e(q),s=a("./start"),t=d(s),u="There is a change that has not been saved. If you procceed now, you will lose it.";c["default"]=function(){var a=new n["default"](this),b=new p["default"],c={clipBoard:[]},d=new j["default"](this,a,c),e=new h["default"](this,u),f=new l["default"];return r.observeModelChange(a.annotationData,b,f),r.observeHistorfChange(b,d.buttonStateHelper,u,f),r.observeDataSave(e,b,f),this.api={start:function(g){return t["default"](g,e,b,d,a,c,f)}},this},b.exports=c["default"]},{"../buttonModel/ButtonController":161,"../buttonModel/Writable":162,"../component/DataAccessObject":163,"./History":198,"./Model":230,"./observe":358,"./start":359,"babel-runtime/helpers/interop-require-default":17,"babel-runtime/helpers/interop-require-wildcard":18,observ:159}],358:[function(a,b,c){"use strict";function d(a,b,c){a.on("all.change",function(a,c,d){b.reset(),i["default"](self,d)})}function e(a,b,c,d){a.on("change",function(a){b.enabled("undo",a.hasAnythingToUndo),b.enabled("redo",a.hasAnythingToRedo),window.onbeforeunload=a.hasAnythingToSave?function(){return c}:null,d.update(a.hasAnythingToSave)})}function f(a,b,c){a.on("save",function(){b.saved(),c.forceModified(!1),toastr.success("annotation saved")}).on("save error",function(){toastr.error("could not save")})}var g=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c.observeModelChange=d,c.observeHistorfChange=e,c.observeDataSave=f;var h=a("../component/showVilidationDialog"),i=g(h)},{"../component/showVilidationDialog":183,"babel-runtime/helpers/interop-require-default":17}],359:[function(a,b,c){"use strict";function d(a,b,c,d,f,g){var h=f.annotation;h&&(h.inlineAnnotation?(e(a,b,c,f.config,JSON.parse(h.inlineAnnotation)),d.status("inline")):h.url&&g.getAnnotationFromServer(h.url))}function e(a,b,c,d,e){var h=f(a,b,e);"no config"===h?g(a,b,c,d,e):c.reset(e)}function f(a,b,c){return a.reset(),h(a,b,c.config),c.config?void 0:"no config"}function g(a,b,c,d,e){a.reset(),"string"==typeof d?p.getAsync(d,function(d){h(a,b,d),c.reset(e)},function(){return alert("could not read the span configuration from the location you specified.: "+d)}):c.reset(e)}function h(a,b,c){a.set(c),i(b,c)}function i(a,b){return a.setDefinedEntityTypes(b?b["entity types"]:[]),a.setDefinedRelationTypes(b?b["relation types"]:[]),b&&void 0!==b.css&&$("#css_area").html('<link rel="stylesheet" href="'+b.css+'"/>'),b}function j(a,b){return"on"===b?new r["default"](a):{status:function(){}}}var k=a("babel-runtime/helpers/interop-require-default")["default"],l=a("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(c,"__esModule",{value:!0});var m=a("observ"),n=k(m),o=a("../util/ajaxAccessor"),p=l(o),q=a("../component/StatusBar"),r=k(q),s=a("./getParams"),t=k(s),u=a("./SpanConfig"),v=k(u),w=a("./Command"),x=k(w),y=a("./TypeContainer"),z=k(y),A=a("./View"),B=k(A),C=a("./Presenter"),D=k(C),E=a("./bindMouseEvent"),F=k(E),G=a("./APIs"),H=k(G),I=a("./calculateLineHeight"),J=k(I);c["default"]=function(a,b,c,f,g,h,i){var k=t["default"](a),l=new v["default"],m=new x["default"](a,g,c),o=new n["default"](-1),p=new z["default"](g),q=new B["default"](a,g),r=new D["default"](a,g,q,m,l,h,f,o,p,i);q.init(a,f,o,p,i),F["default"](a,r,q),r.init(k.mode);var s=j(a,k.status_bar);b.on("load",function(a){e(l,p,g.annotationData,k.config,a.annotation),s.status(a.source)}),d(l,p,g.annotationData,s,k,b);var u=function(){return J["default"](a,g.annotationData,p,o,q)};a.api=new H["default"](m,r,b,c,g.annotationData,f,q,u)},b.exports=c["default"]},{"../component/StatusBar":174,"../util/ajaxAccessor":371,"./APIs":191,"./Command":196,"./Presenter":283,"./SpanConfig":294,"./TypeContainer":295,"./View":347,"./bindMouseEvent":350,"./calculateLineHeight":351,"./getParams":354,"babel-runtime/helpers/interop-require-default":17,"babel-runtime/helpers/interop-require-wildcard":18,observ:159}],360:[function(a,b,c){"use strict";b.exports={isUri:function(a){return String(a).indexOf("http")>-1},getUrlMatches:function(a){var b=/\(?(?:(http|https|ftp):\/\/)?(?:((?:[^\W\s]|\.|-|[:]{1})+)@{1})?((?:www.)?(?:[^\W\s]|\.|-)+[\.][^\W\s]{2,4}|localhost|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})(?::(\d*))?([\/]?[^\s\?]*[\/]{1})*(?:\/?([^\s\n\?\[\]\{\}\#]*(?:(?=\.)){1}|[^\s\n\?\[\]\{\}\.\#]*)?([\.]{1}[^\s\?\#]*)?)?(?:\?{1}([^\s\n\#\[\]]*))?([\#][^\s\n]*)?\)?/gi;return b.exec(a)}}},{}],361:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"],e=a("./tool"),f=d(e),g=a("./control"),h=d(g),i=a("./editor"),j=d(i),k=new f["default"];jQuery.fn.textae=function(){return function(){if(this.hasClass("textae-editor"))this.each(function(){var a=$(this);return k.pushEditor(a),j["default"].apply(a),a.api.start(a),a}),k.selectFirstEditor();else if(this.hasClass("textae-control")){var a=h["default"](this);return k.setControl(a),a}}}()},{"./control":186,"./editor":357,"./tool":368,"babel-runtime/helpers/interop-require-default":17}],362:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("./getMousePoint"),f=d(e);c["default"]=function(a,b){return function(c){switch(c){case"textae.control.button.help.click":a();break;default:b.getSelected()&&b.getSelected().api.handleButtonClick(c,{point:f["default"]()})}}},b.exports=c["default"]},{"./getMousePoint":367,"babel-runtime/helpers/interop-require-default":17}],363:[function(a,b,c){"use strict";function d(a,b){a.filter(function(a){return a!==b}).map(function(a){return a[0]}).forEach(function(a){a.classList.remove(e)}),b[0].classList.add(e)}Object.defineProperty(c,"__esModule",{value:!0});var e="textae-editor--active";c["default"]=function(){var a=[],b=null,c=function(a,c){d(a,c),b=c};return{push:function(b){return a.push(b)},getNewId:function(){return"editor"+a.length},getSelected:function(){return b},select:function(b){return c(a,b)},selectFirst:function(){return c(a,a[0])},forEach:a.forEach.bind(a)}},b.exports=c["default"]},{}],364:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("./getKeyCode"),f=d(e),g=a("./convertKeyEvent"),h=d(g),i=a("./getMousePoint"),j=d(i);c["default"]=function(a,b){return function(c){var d=h["default"](f["default"](c));"H"===d?a():b.getSelected()&&b.getSelected().api.handleKeyInput(d,{point:j["default"](),shiftKey:c.shiftKey})}},b.exports=c["default"]},{"./convertKeyEvent":365,"./getKeyCode":366,"./getMousePoint":367,"babel-runtime/helpers/interop-require-default":17}],365:[function(a,b,c){"use strict";function d(a){return a>=65&&90>=a?String.fromCharCode(a):f.has(a)?f.get(a):void 0}var e=a("babel-runtime/core-js/map")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var f=new e([[27,"ESC"],[37,"LEFT"],[38,"UP"],[39,"RIGHT"],[40,"DOWN"],[46,"DEL"]]);b.exports=c["default"]},{"babel-runtime/core-js/map":4}],366:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a){return a.keyCode},b.exports=c["default"]},{}],367:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});
var d={};document.querySelector("html").addEventListener("mousemove",function(a){d.top=a.clientY,d.left=a.clientX}),c["default"]=function(){return d},b.exports=c["default"]},{}],368:[function(a,b,c){"use strict";function d(){var a=null;return{setInstance:function(b){return a=b},changeButtonState:function(b){a&&a.updateAllButtonEnableState(b)},push:function(b,c){a&&a.updateButtonPushState(b,c)}}}function e(a){window.addEventListener("resize",_.debounce(function(){a.forEach(function(a){return window.requestAnimationFrame(a.api.redraw)})},500))}var f=a("babel-runtime/core-js/object/assign")["default"],g=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var h=a("events"),i=a("./EditorContainer"),j=g(i),k=a("./ControlButtonHandler"),l=g(k),m=a("./KeyInputHandler"),n=g(m),o=a("./observeKeyWithoutDialog"),p=g(o),q=a("../component/HelpDialog"),r=g(q),s=new r["default"];c["default"]=function(){var a=new d,b=new j["default"],c=new l["default"](s,b);return window.addEventListener("load",function(){var a=new n["default"](s,b);p["default"](a),e(b)}),{setControl:function(b){b.on("textae.control.button.click",function(a){for(var b=arguments.length,d=Array(b>1?b-1:0),e=1;b>e;e++)d[e-1]=arguments[e];return c.apply(void 0,d)}),a.setInstance(b)},pushEditor:function(c){b.push(c);var d=(new h.EventEmitter).on("textae.editor.select",function(){return b.select(c)}).on("textae.control.button.push",function(d){c===b.getSelected()&&a.push(d.buttonName,d.state)}).on("textae.control.buttons.change",function(d){c===b.getSelected()&&a.changeButtonState(d)});f(c,{editorId:b.getNewId(),eventEmitter:d})},selectFirstEditor:function(){a.changeButtonState(),b.selectFirst()}}},b.exports=c["default"]},{"../component/HelpDialog":164,"./ControlButtonHandler":362,"./EditorContainer":363,"./KeyInputHandler":364,"./observeKeyWithoutDialog":369,"babel-runtime/core-js/object/assign":5,"babel-runtime/helpers/interop-require-default":17,events:108}],369:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a){var b=function(){},c=a;document.addEventListener("keyup",function(a){return c(a)}),$("body").on("dialogopen",".ui-dialog",function(){return c=b}).on("dialogclose",".ui-dialog",function(){return c=a})},b.exports=c["default"]},{}],370:[function(a,b,c){"use strict";var d=function(a,b){a=a.add(".ui-dialog, .ui-widget-overlay"),a[b+"Class"]("textae-editor--wait")};b.exports=function(a){var b=_.partial(d,a,"add"),c=_.partial(d,a,"remove");return{startWait:b,endWait:c}}},{}],371:[function(a,b,c){"use strict";function d(a,b,c){if(!f(a)){var d={type:"GET",url:a,cache:!1,xhrFields:{withCredentials:!0}};$.ajax(d).done(function(a){void 0!==b&&b(a)}).fail(function(a,b,d){void 0!==c&&c()})}}function e(a,b,c,d,e){if(!f(a)){console.log("POST data",b);var g={type:"post",url:a,contentType:"application/json",data:b,crossDomain:!0,xhrFields:{withCredentials:!0}};$.ajax(g).done(c).fail(d).always(e)}}function f(a){return!a||""===a}Object.defineProperty(c,"__esModule",{value:!0}),c.getAsync=d,c.post=e},{}],372:[function(a,b,c){"use strict";b.exports=function(a,b){return a[b.name]=b,a}},{}]},{},[361]),function(a){$(function(){$(".textae-control").textae(),$(".textae-editor").textae()})}(jQuery);